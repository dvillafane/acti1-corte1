function IE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function xE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ey={exports:{}},Ka={},ty={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ds=Symbol.for("react.element"),NE=Symbol.for("react.portal"),kE=Symbol.for("react.fragment"),CE=Symbol.for("react.strict_mode"),bE=Symbol.for("react.profiler"),DE=Symbol.for("react.provider"),AE=Symbol.for("react.context"),RE=Symbol.for("react.forward_ref"),PE=Symbol.for("react.suspense"),OE=Symbol.for("react.memo"),LE=Symbol.for("react.lazy"),dp=Symbol.iterator;function jE(e){return e===null||typeof e!="object"?null:(e=dp&&e[dp]||e["@@iterator"],typeof e=="function"?e:null)}var ny={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ry=Object.assign,iy={};function Zi(e,t,n){this.props=e,this.context=t,this.refs=iy,this.updater=n||ny}Zi.prototype.isReactComponent={};Zi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function oy(){}oy.prototype=Zi.prototype;function ih(e,t,n){this.props=e,this.context=t,this.refs=iy,this.updater=n||ny}var oh=ih.prototype=new oy;oh.constructor=ih;ry(oh,Zi.prototype);oh.isPureReactComponent=!0;var pp=Array.isArray,sy=Object.prototype.hasOwnProperty,sh={current:null},uy={key:!0,ref:!0,__self:!0,__source:!0};function ay(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)sy.call(t,r)&&!uy.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var a=Array(u),l=0;l<u;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Ds,type:e,key:o,ref:s,props:i,_owner:sh.current}}function FE(e,t){return{$$typeof:Ds,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ds}function ME(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var mp=/\/+/g;function ql(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ME(""+e.key):t.toString(36)}function ku(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ds:case NE:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+ql(s,0):r,pp(i)?(n="",e!=null&&(n=e.replace(mp,"$&/")+"/"),ku(i,t,n,"",function(l){return l})):i!=null&&(uh(i)&&(i=FE(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(mp,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",pp(e))for(var u=0;u<e.length;u++){o=e[u];var a=r+ql(o,u);s+=ku(o,t,n,a,i)}else if(a=jE(e),typeof a=="function")for(e=a.call(e),u=0;!(o=e.next()).done;)o=o.value,a=r+ql(o,u++),s+=ku(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function tu(e,t,n){if(e==null)return e;var r=[],i=0;return ku(e,r,"","",function(o){return t.call(n,o,i++)}),r}function $E(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var st={current:null},Cu={transition:null},UE={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:Cu,ReactCurrentOwner:sh};function ly(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:tu,forEach:function(e,t,n){tu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return tu(e,function(){t++}),t},toArray:function(e){return tu(e,function(t){return t})||[]},only:function(e){if(!uh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Zi;W.Fragment=kE;W.Profiler=bE;W.PureComponent=ih;W.StrictMode=CE;W.Suspense=PE;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UE;W.act=ly;W.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ry({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=sh.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(a in t)sy.call(t,a)&&!uy.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&u!==void 0?u[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){u=Array(a);for(var l=0;l<a;l++)u[l]=arguments[l+2];r.children=u}return{$$typeof:Ds,type:e.type,key:i,ref:o,props:r,_owner:s}};W.createContext=function(e){return e={$$typeof:AE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:DE,_context:e},e.Consumer=e};W.createElement=ay;W.createFactory=function(e){var t=ay.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:RE,render:e}};W.isValidElement=uh;W.lazy=function(e){return{$$typeof:LE,_payload:{_status:-1,_result:e},_init:$E}};W.memo=function(e,t){return{$$typeof:OE,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=Cu.transition;Cu.transition={};try{e()}finally{Cu.transition=t}};W.unstable_act=ly;W.useCallback=function(e,t){return st.current.useCallback(e,t)};W.useContext=function(e){return st.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return st.current.useDeferredValue(e)};W.useEffect=function(e,t){return st.current.useEffect(e,t)};W.useId=function(){return st.current.useId()};W.useImperativeHandle=function(e,t,n){return st.current.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return st.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return st.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return st.current.useMemo(e,t)};W.useReducer=function(e,t,n){return st.current.useReducer(e,t,n)};W.useRef=function(e){return st.current.useRef(e)};W.useState=function(e){return st.current.useState(e)};W.useSyncExternalStore=function(e,t,n){return st.current.useSyncExternalStore(e,t,n)};W.useTransition=function(){return st.current.useTransition()};W.version="18.3.1";ty.exports=W;var A=ty.exports;const Ho=xE(A),VE=IE({__proto__:null,default:Ho},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE=A,zE=Symbol.for("react.element"),qE=Symbol.for("react.fragment"),KE=Object.prototype.hasOwnProperty,HE=BE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WE={key:!0,ref:!0,__self:!0,__source:!0};function cy(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)KE.call(t,r)&&!WE.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:zE,type:e,key:o,ref:s,props:i,_owner:HE.current}}Ka.Fragment=qE;Ka.jsx=cy;Ka.jsxs=cy;ey.exports=Ka;var w=ey.exports,Rc={},fy={exports:{}},Dt={},hy={exports:{}},dy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,z){var K=j.length;j.push(z);e:for(;0<K;){var ve=K-1>>>1,be=j[ve];if(0<i(be,z))j[ve]=z,j[K]=be,K=ve;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var z=j[0],K=j.pop();if(K!==z){j[0]=K;e:for(var ve=0,be=j.length,Zs=be>>>1;ve<Zs;){var fr=2*(ve+1)-1,zl=j[fr],hr=fr+1,eu=j[hr];if(0>i(zl,K))hr<be&&0>i(eu,zl)?(j[ve]=eu,j[hr]=K,ve=hr):(j[ve]=zl,j[fr]=K,ve=fr);else if(hr<be&&0>i(eu,K))j[ve]=eu,j[hr]=K,ve=hr;else break e}}return z}function i(j,z){var K=j.sortIndex-z.sortIndex;return K!==0?K:j.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var a=[],l=[],c=1,f=null,h=3,d=!1,v=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(j){for(var z=n(l);z!==null;){if(z.callback===null)r(l);else if(z.startTime<=j)r(l),z.sortIndex=z.expirationTime,t(a,z);else break;z=n(l)}}function S(j){if(y=!1,g(j),!v)if(n(a)!==null)v=!0,Vl(I);else{var z=n(l);z!==null&&Bl(S,z.startTime-j)}}function I(j,z){v=!1,y&&(y=!1,m(M),M=-1),d=!0;var K=h;try{for(g(z),f=n(a);f!==null&&(!(f.expirationTime>z)||j&&!at());){var ve=f.callback;if(typeof ve=="function"){f.callback=null,h=f.priorityLevel;var be=ve(f.expirationTime<=z);z=e.unstable_now(),typeof be=="function"?f.callback=be:f===n(a)&&r(a),g(z)}else r(a);f=n(a)}if(f!==null)var Zs=!0;else{var fr=n(l);fr!==null&&Bl(S,fr.startTime-z),Zs=!1}return Zs}finally{f=null,h=K,d=!1}}var b=!1,R=null,M=-1,te=5,q=-1;function at(){return!(e.unstable_now()-q<te)}function ho(){if(R!==null){var j=e.unstable_now();q=j;var z=!0;try{z=R(!0,j)}finally{z?po():(b=!1,R=null)}}else b=!1}var po;if(typeof p=="function")po=function(){p(ho)};else if(typeof MessageChannel<"u"){var hp=new MessageChannel,TE=hp.port2;hp.port1.onmessage=ho,po=function(){TE.postMessage(null)}}else po=function(){E(ho,0)};function Vl(j){R=j,b||(b=!0,po())}function Bl(j,z){M=E(function(){j(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){v||d||(v=!0,Vl(I))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(j){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var K=h;h=z;try{return j()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=h;h=j;try{return z()}finally{h=K}},e.unstable_scheduleCallback=function(j,z,K){var ve=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ve+K:ve):K=ve,j){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=K+be,j={id:c++,callback:z,priorityLevel:j,startTime:K,expirationTime:be,sortIndex:-1},K>ve?(j.sortIndex=K,t(l,j),n(a)===null&&j===n(l)&&(y?(m(M),M=-1):y=!0,Bl(S,K-ve))):(j.sortIndex=be,t(a,j),v||d||(v=!0,Vl(I))),j},e.unstable_shouldYield=at,e.unstable_wrapCallback=function(j){var z=h;return function(){var K=h;h=z;try{return j.apply(this,arguments)}finally{h=K}}}})(dy);hy.exports=dy;var QE=hy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE=A,Ct=QE;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var py=new Set,Wo={};function zr(e,t){Ci(e,t),Ci(e+"Capture",t)}function Ci(e,t){for(Wo[e]=t,e=0;e<t.length;e++)py.add(t[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pc=Object.prototype.hasOwnProperty,YE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vp={},yp={};function XE(e){return Pc.call(yp,e)?!0:Pc.call(vp,e)?!1:YE.test(e)?yp[e]=!0:(vp[e]=!0,!1)}function JE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ZE(e,t,n,r){if(t===null||typeof t>"u"||JE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ut(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ue[e]=new ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ue[t]=new ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ue[e]=new ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ue[e]=new ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ue[e]=new ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ue[e]=new ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ue[e]=new ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ue[e]=new ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ue[e]=new ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var ah=/[\-:]([a-z])/g;function lh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ah,lh);Ue[t]=new ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ah,lh);Ue[t]=new ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ah,lh);Ue[t]=new ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ue[e]=new ut(e,1,!1,e.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ue[e]=new ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function ch(e,t,n,r){var i=Ue.hasOwnProperty(t)?Ue[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ZE(t,n,i,r)&&(n=null),r||i===null?XE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Tn=GE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nu=Symbol.for("react.element"),ui=Symbol.for("react.portal"),ai=Symbol.for("react.fragment"),fh=Symbol.for("react.strict_mode"),Oc=Symbol.for("react.profiler"),my=Symbol.for("react.provider"),vy=Symbol.for("react.context"),hh=Symbol.for("react.forward_ref"),Lc=Symbol.for("react.suspense"),jc=Symbol.for("react.suspense_list"),dh=Symbol.for("react.memo"),bn=Symbol.for("react.lazy"),yy=Symbol.for("react.offscreen"),gp=Symbol.iterator;function mo(e){return e===null||typeof e!="object"?null:(e=gp&&e[gp]||e["@@iterator"],typeof e=="function"?e:null)}var he=Object.assign,Kl;function xo(e){if(Kl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Kl=t&&t[1]||""}return`
`+Kl+e}var Hl=!1;function Wl(e,t){if(!e||Hl)return"";Hl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,u=o.length-1;1<=s&&0<=u&&i[s]!==o[u];)u--;for(;1<=s&&0<=u;s--,u--)if(i[s]!==o[u]){if(s!==1||u!==1)do if(s--,u--,0>u||i[s]!==o[u]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=u);break}}}finally{Hl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?xo(e):""}function eS(e){switch(e.tag){case 5:return xo(e.type);case 16:return xo("Lazy");case 13:return xo("Suspense");case 19:return xo("SuspenseList");case 0:case 2:case 15:return e=Wl(e.type,!1),e;case 11:return e=Wl(e.type.render,!1),e;case 1:return e=Wl(e.type,!0),e;default:return""}}function Fc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ai:return"Fragment";case ui:return"Portal";case Oc:return"Profiler";case fh:return"StrictMode";case Lc:return"Suspense";case jc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vy:return(e.displayName||"Context")+".Consumer";case my:return(e._context.displayName||"Context")+".Provider";case hh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dh:return t=e.displayName||null,t!==null?t:Fc(e.type)||"Memo";case bn:t=e._payload,e=e._init;try{return Fc(e(t))}catch{}}return null}function tS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fc(t);case 8:return t===fh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nS(e){var t=gy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ru(e){e._valueTracker||(e._valueTracker=nS(e))}function wy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=gy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Hu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mc(e,t){var n=t.checked;return he({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Jn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ey(e,t){t=t.checked,t!=null&&ch(e,"checked",t,!1)}function $c(e,t){Ey(e,t);var n=Jn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Uc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Uc(e,t.type,Jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ep(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Uc(e,t,n){(t!=="number"||Hu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var No=Array.isArray;function Si(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Jn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Vc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return he({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(No(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Jn(n)}}function Sy(e,t){var n=Jn(t.value),r=Jn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function _p(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _y(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_y(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var iu,Ty=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(iu=iu||document.createElement("div"),iu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=iu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ro={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rS=["Webkit","ms","Moz","O"];Object.keys(Ro).forEach(function(e){rS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ro[t]=Ro[e]})});function Iy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ro.hasOwnProperty(e)&&Ro[e]?(""+t).trim():t+"px"}function xy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Iy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var iS=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zc(e,t){if(t){if(iS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function qc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kc=null;function ph(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hc=null,_i=null,Ti=null;function Tp(e){if(e=Ps(e)){if(typeof Hc!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Ya(t),Hc(e.stateNode,e.type,t))}}function Ny(e){_i?Ti?Ti.push(e):Ti=[e]:_i=e}function ky(){if(_i){var e=_i,t=Ti;if(Ti=_i=null,Tp(e),t)for(e=0;e<t.length;e++)Tp(t[e])}}function Cy(e,t){return e(t)}function by(){}var Ql=!1;function Dy(e,t,n){if(Ql)return e(t,n);Ql=!0;try{return Cy(e,t,n)}finally{Ql=!1,(_i!==null||Ti!==null)&&(by(),ky())}}function Go(e,t){var n=e.stateNode;if(n===null)return null;var r=Ya(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var Wc=!1;if(gn)try{var vo={};Object.defineProperty(vo,"passive",{get:function(){Wc=!0}}),window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{Wc=!1}function oS(e,t,n,r,i,o,s,u,a){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Po=!1,Wu=null,Qu=!1,Qc=null,sS={onError:function(e){Po=!0,Wu=e}};function uS(e,t,n,r,i,o,s,u,a){Po=!1,Wu=null,oS.apply(sS,arguments)}function aS(e,t,n,r,i,o,s,u,a){if(uS.apply(this,arguments),Po){if(Po){var l=Wu;Po=!1,Wu=null}else throw Error(C(198));Qu||(Qu=!0,Qc=l)}}function qr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ay(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ip(e){if(qr(e)!==e)throw Error(C(188))}function lS(e){var t=e.alternate;if(!t){if(t=qr(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ip(i),e;if(o===r)return Ip(i),t;o=o.sibling}throw Error(C(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function Ry(e){return e=lS(e),e!==null?Py(e):null}function Py(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Py(e);if(t!==null)return t;e=e.sibling}return null}var Oy=Ct.unstable_scheduleCallback,xp=Ct.unstable_cancelCallback,cS=Ct.unstable_shouldYield,fS=Ct.unstable_requestPaint,ye=Ct.unstable_now,hS=Ct.unstable_getCurrentPriorityLevel,mh=Ct.unstable_ImmediatePriority,Ly=Ct.unstable_UserBlockingPriority,Gu=Ct.unstable_NormalPriority,dS=Ct.unstable_LowPriority,jy=Ct.unstable_IdlePriority,Ha=null,nn=null;function pS(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Ha,e,void 0,(e.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:yS,mS=Math.log,vS=Math.LN2;function yS(e){return e>>>=0,e===0?32:31-(mS(e)/vS|0)|0}var ou=64,su=4194304;function ko(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var u=s&~i;u!==0?r=ko(u):(o&=s,o!==0&&(r=ko(o)))}else s=n&~i,s!==0?r=ko(s):o!==0&&(r=ko(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-qt(t),i=1<<n,r|=e[n],t&=~i;return r}function gS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-qt(o),u=1<<s,a=i[s];a===-1?(!(u&n)||u&r)&&(i[s]=gS(u,t)):a<=t&&(e.expiredLanes|=u),o&=~u}}function Gc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fy(){var e=ou;return ou<<=1,!(ou&4194240)&&(ou=64),e}function Gl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function As(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qt(t),e[t]=n}function ES(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-qt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function vh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-qt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ee=0;function My(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $y,yh,Uy,Vy,By,Yc=!1,uu=[],Vn=null,Bn=null,zn=null,Yo=new Map,Xo=new Map,Rn=[],SS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Np(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":Yo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xo.delete(t.pointerId)}}function yo(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Ps(t),t!==null&&yh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function _S(e,t,n,r,i){switch(t){case"focusin":return Vn=yo(Vn,e,t,n,r,i),!0;case"dragenter":return Bn=yo(Bn,e,t,n,r,i),!0;case"mouseover":return zn=yo(zn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Yo.set(o,yo(Yo.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Xo.set(o,yo(Xo.get(o)||null,e,t,n,r,i)),!0}return!1}function zy(e){var t=gr(e.target);if(t!==null){var n=qr(t);if(n!==null){if(t=n.tag,t===13){if(t=Ay(n),t!==null){e.blockedOn=t,By(e.priority,function(){Uy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Kc=r,n.target.dispatchEvent(r),Kc=null}else return t=Ps(n),t!==null&&yh(t),e.blockedOn=n,!1;t.shift()}return!0}function kp(e,t,n){bu(e)&&n.delete(t)}function TS(){Yc=!1,Vn!==null&&bu(Vn)&&(Vn=null),Bn!==null&&bu(Bn)&&(Bn=null),zn!==null&&bu(zn)&&(zn=null),Yo.forEach(kp),Xo.forEach(kp)}function go(e,t){e.blockedOn===t&&(e.blockedOn=null,Yc||(Yc=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,TS)))}function Jo(e){function t(i){return go(i,e)}if(0<uu.length){go(uu[0],e);for(var n=1;n<uu.length;n++){var r=uu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vn!==null&&go(Vn,e),Bn!==null&&go(Bn,e),zn!==null&&go(zn,e),Yo.forEach(t),Xo.forEach(t),n=0;n<Rn.length;n++)r=Rn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)zy(n),n.blockedOn===null&&Rn.shift()}var Ii=Tn.ReactCurrentBatchConfig,Xu=!0;function IS(e,t,n,r){var i=ee,o=Ii.transition;Ii.transition=null;try{ee=1,gh(e,t,n,r)}finally{ee=i,Ii.transition=o}}function xS(e,t,n,r){var i=ee,o=Ii.transition;Ii.transition=null;try{ee=4,gh(e,t,n,r)}finally{ee=i,Ii.transition=o}}function gh(e,t,n,r){if(Xu){var i=Xc(e,t,n,r);if(i===null)oc(e,t,r,Ju,n),Np(e,r);else if(_S(i,e,t,n,r))r.stopPropagation();else if(Np(e,r),t&4&&-1<SS.indexOf(e)){for(;i!==null;){var o=Ps(i);if(o!==null&&$y(o),o=Xc(e,t,n,r),o===null&&oc(e,t,r,Ju,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else oc(e,t,r,null,n)}}var Ju=null;function Xc(e,t,n,r){if(Ju=null,e=ph(r),e=gr(e),e!==null)if(t=qr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ay(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ju=e,null}function qy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hS()){case mh:return 1;case Ly:return 4;case Gu:case dS:return 16;case jy:return 536870912;default:return 16}default:return 16}}var Mn=null,wh=null,Du=null;function Ky(){if(Du)return Du;var e,t=wh,n=t.length,r,i="value"in Mn?Mn.value:Mn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Du=i.slice(e,1<r?1-r:void 0)}function Au(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function au(){return!0}function Cp(){return!1}function At(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?au:Cp,this.isPropagationStopped=Cp,this}return he(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=au)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=au)},persist:function(){},isPersistent:au}),t}var eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eh=At(eo),Rs=he({},eo,{view:0,detail:0}),NS=At(Rs),Yl,Xl,wo,Wa=he({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wo&&(wo&&e.type==="mousemove"?(Yl=e.screenX-wo.screenX,Xl=e.screenY-wo.screenY):Xl=Yl=0,wo=e),Yl)},movementY:function(e){return"movementY"in e?e.movementY:Xl}}),bp=At(Wa),kS=he({},Wa,{dataTransfer:0}),CS=At(kS),bS=he({},Rs,{relatedTarget:0}),Jl=At(bS),DS=he({},eo,{animationName:0,elapsedTime:0,pseudoElement:0}),AS=At(DS),RS=he({},eo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),PS=At(RS),OS=he({},eo,{data:0}),Dp=At(OS),LS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=FS[e])?!!t[e]:!1}function Sh(){return MS}var $S=he({},Rs,{key:function(e){if(e.key){var t=LS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Au(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sh,charCode:function(e){return e.type==="keypress"?Au(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Au(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),US=At($S),VS=he({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ap=At(VS),BS=he({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sh}),zS=At(BS),qS=he({},eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),KS=At(qS),HS=he({},Wa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),WS=At(HS),QS=[9,13,27,32],_h=gn&&"CompositionEvent"in window,Oo=null;gn&&"documentMode"in document&&(Oo=document.documentMode);var GS=gn&&"TextEvent"in window&&!Oo,Hy=gn&&(!_h||Oo&&8<Oo&&11>=Oo),Rp=" ",Pp=!1;function Wy(e,t){switch(e){case"keyup":return QS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var li=!1;function YS(e,t){switch(e){case"compositionend":return Qy(t);case"keypress":return t.which!==32?null:(Pp=!0,Rp);case"textInput":return e=t.data,e===Rp&&Pp?null:e;default:return null}}function XS(e,t){if(li)return e==="compositionend"||!_h&&Wy(e,t)?(e=Ky(),Du=wh=Mn=null,li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hy&&t.locale!=="ko"?null:t.data;default:return null}}var JS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Op(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JS[e.type]:t==="textarea"}function Gy(e,t,n,r){Ny(r),t=Zu(t,"onChange"),0<t.length&&(n=new Eh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Lo=null,Zo=null;function ZS(e){sg(e,0)}function Qa(e){var t=hi(e);if(wy(t))return e}function e_(e,t){if(e==="change")return t}var Yy=!1;if(gn){var Zl;if(gn){var ec="oninput"in document;if(!ec){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),ec=typeof Lp.oninput=="function"}Zl=ec}else Zl=!1;Yy=Zl&&(!document.documentMode||9<document.documentMode)}function jp(){Lo&&(Lo.detachEvent("onpropertychange",Xy),Zo=Lo=null)}function Xy(e){if(e.propertyName==="value"&&Qa(Zo)){var t=[];Gy(t,Zo,e,ph(e)),Dy(ZS,t)}}function t_(e,t,n){e==="focusin"?(jp(),Lo=t,Zo=n,Lo.attachEvent("onpropertychange",Xy)):e==="focusout"&&jp()}function n_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qa(Zo)}function r_(e,t){if(e==="click")return Qa(t)}function i_(e,t){if(e==="input"||e==="change")return Qa(t)}function o_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gt=typeof Object.is=="function"?Object.is:o_;function es(e,t){if(Gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Pc.call(t,i)||!Gt(e[i],t[i]))return!1}return!0}function Fp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mp(e,t){var n=Fp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fp(n)}}function Jy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zy(){for(var e=window,t=Hu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Hu(e.document)}return t}function Th(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function s_(e){var t=Zy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Jy(n.ownerDocument.documentElement,n)){if(r!==null&&Th(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Mp(n,o);var s=Mp(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var u_=gn&&"documentMode"in document&&11>=document.documentMode,ci=null,Jc=null,jo=null,Zc=!1;function $p(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zc||ci==null||ci!==Hu(r)||(r=ci,"selectionStart"in r&&Th(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jo&&es(jo,r)||(jo=r,r=Zu(Jc,"onSelect"),0<r.length&&(t=new Eh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ci)))}function lu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fi={animationend:lu("Animation","AnimationEnd"),animationiteration:lu("Animation","AnimationIteration"),animationstart:lu("Animation","AnimationStart"),transitionend:lu("Transition","TransitionEnd")},tc={},eg={};gn&&(eg=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function Ga(e){if(tc[e])return tc[e];if(!fi[e])return e;var t=fi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in eg)return tc[e]=t[n];return e}var tg=Ga("animationend"),ng=Ga("animationiteration"),rg=Ga("animationstart"),ig=Ga("transitionend"),og=new Map,Up="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(e,t){og.set(e,t),zr(t,[e])}for(var nc=0;nc<Up.length;nc++){var rc=Up[nc],a_=rc.toLowerCase(),l_=rc[0].toUpperCase()+rc.slice(1);nr(a_,"on"+l_)}nr(tg,"onAnimationEnd");nr(ng,"onAnimationIteration");nr(rg,"onAnimationStart");nr("dblclick","onDoubleClick");nr("focusin","onFocus");nr("focusout","onBlur");nr(ig,"onTransitionEnd");Ci("onMouseEnter",["mouseout","mouseover"]);Ci("onMouseLeave",["mouseout","mouseover"]);Ci("onPointerEnter",["pointerout","pointerover"]);Ci("onPointerLeave",["pointerout","pointerover"]);zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zr("onBeforeInput",["compositionend","keypress","textInput","paste"]);zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Co));function Vp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,aS(r,t,void 0,e),e.currentTarget=null}function sg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var u=r[s],a=u.instance,l=u.currentTarget;if(u=u.listener,a!==o&&i.isPropagationStopped())break e;Vp(i,u,l),o=a}else for(s=0;s<r.length;s++){if(u=r[s],a=u.instance,l=u.currentTarget,u=u.listener,a!==o&&i.isPropagationStopped())break e;Vp(i,u,l),o=a}}}if(Qu)throw e=Qc,Qu=!1,Qc=null,e}function ie(e,t){var n=t[of];n===void 0&&(n=t[of]=new Set);var r=e+"__bubble";n.has(r)||(ug(t,e,2,!1),n.add(r))}function ic(e,t,n){var r=0;t&&(r|=4),ug(n,e,r,t)}var cu="_reactListening"+Math.random().toString(36).slice(2);function ts(e){if(!e[cu]){e[cu]=!0,py.forEach(function(n){n!=="selectionchange"&&(c_.has(n)||ic(n,!1,e),ic(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cu]||(t[cu]=!0,ic("selectionchange",!1,t))}}function ug(e,t,n,r){switch(qy(t)){case 1:var i=IS;break;case 4:i=xS;break;default:i=gh}n=i.bind(null,t,n,e),i=void 0,!Wc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function oc(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;u!==null;){if(s=gr(u),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}u=u.parentNode}}r=r.return}Dy(function(){var l=o,c=ph(n),f=[];e:{var h=og.get(e);if(h!==void 0){var d=Eh,v=e;switch(e){case"keypress":if(Au(n)===0)break e;case"keydown":case"keyup":d=US;break;case"focusin":v="focus",d=Jl;break;case"focusout":v="blur",d=Jl;break;case"beforeblur":case"afterblur":d=Jl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=bp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=CS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=zS;break;case tg:case ng:case rg:d=AS;break;case ig:d=KS;break;case"scroll":d=NS;break;case"wheel":d=WS;break;case"copy":case"cut":case"paste":d=PS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Ap}var y=(t&4)!==0,E=!y&&e==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var p=l,g;p!==null;){g=p;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,m!==null&&(S=Go(p,m),S!=null&&y.push(ns(p,S,g)))),E)break;p=p.return}0<y.length&&(h=new d(h,v,null,n,c),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",h&&n!==Kc&&(v=n.relatedTarget||n.fromElement)&&(gr(v)||v[wn]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(v=n.relatedTarget||n.toElement,d=l,v=v?gr(v):null,v!==null&&(E=qr(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(d=null,v=l),d!==v)){if(y=bp,S="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=Ap,S="onPointerLeave",m="onPointerEnter",p="pointer"),E=d==null?h:hi(d),g=v==null?h:hi(v),h=new y(S,p+"leave",d,n,c),h.target=E,h.relatedTarget=g,S=null,gr(c)===l&&(y=new y(m,p+"enter",v,n,c),y.target=g,y.relatedTarget=E,S=y),E=S,d&&v)t:{for(y=d,m=v,p=0,g=y;g;g=ei(g))p++;for(g=0,S=m;S;S=ei(S))g++;for(;0<p-g;)y=ei(y),p--;for(;0<g-p;)m=ei(m),g--;for(;p--;){if(y===m||m!==null&&y===m.alternate)break t;y=ei(y),m=ei(m)}y=null}else y=null;d!==null&&Bp(f,h,d,y,!1),v!==null&&E!==null&&Bp(f,E,v,y,!0)}}e:{if(h=l?hi(l):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var I=e_;else if(Op(h))if(Yy)I=i_;else{I=n_;var b=t_}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=r_);if(I&&(I=I(e,l))){Gy(f,I,n,c);break e}b&&b(e,h,l),e==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&Uc(h,"number",h.value)}switch(b=l?hi(l):window,e){case"focusin":(Op(b)||b.contentEditable==="true")&&(ci=b,Jc=l,jo=null);break;case"focusout":jo=Jc=ci=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,$p(f,n,c);break;case"selectionchange":if(u_)break;case"keydown":case"keyup":$p(f,n,c)}var R;if(_h)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else li?Wy(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Hy&&n.locale!=="ko"&&(li||M!=="onCompositionStart"?M==="onCompositionEnd"&&li&&(R=Ky()):(Mn=c,wh="value"in Mn?Mn.value:Mn.textContent,li=!0)),b=Zu(l,M),0<b.length&&(M=new Dp(M,e,null,n,c),f.push({event:M,listeners:b}),R?M.data=R:(R=Qy(n),R!==null&&(M.data=R)))),(R=GS?YS(e,n):XS(e,n))&&(l=Zu(l,"onBeforeInput"),0<l.length&&(c=new Dp("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=R))}sg(f,t)})}function ns(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Go(e,n),o!=null&&r.unshift(ns(e,o,i)),o=Go(e,t),o!=null&&r.push(ns(e,o,i))),e=e.return}return r}function ei(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bp(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var u=n,a=u.alternate,l=u.stateNode;if(a!==null&&a===r)break;u.tag===5&&l!==null&&(u=l,i?(a=Go(n,o),a!=null&&s.unshift(ns(n,a,u))):i||(a=Go(n,o),a!=null&&s.push(ns(n,a,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var f_=/\r\n?/g,h_=/\u0000|\uFFFD/g;function zp(e){return(typeof e=="string"?e:""+e).replace(f_,`
`).replace(h_,"")}function fu(e,t,n){if(t=zp(t),zp(e)!==t&&n)throw Error(C(425))}function ea(){}var ef=null,tf=null;function nf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rf=typeof setTimeout=="function"?setTimeout:void 0,d_=typeof clearTimeout=="function"?clearTimeout:void 0,qp=typeof Promise=="function"?Promise:void 0,p_=typeof queueMicrotask=="function"?queueMicrotask:typeof qp<"u"?function(e){return qp.resolve(null).then(e).catch(m_)}:rf;function m_(e){setTimeout(function(){throw e})}function sc(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Jo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Jo(t)}function qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var to=Math.random().toString(36).slice(2),en="__reactFiber$"+to,rs="__reactProps$"+to,wn="__reactContainer$"+to,of="__reactEvents$"+to,v_="__reactListeners$"+to,y_="__reactHandles$"+to;function gr(e){var t=e[en];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wn]||n[en]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Kp(e);e!==null;){if(n=e[en])return n;e=Kp(e)}return t}e=n,n=e.parentNode}return null}function Ps(e){return e=e[en]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Ya(e){return e[rs]||null}var sf=[],di=-1;function rr(e){return{current:e}}function se(e){0>di||(e.current=sf[di],sf[di]=null,di--)}function ne(e,t){di++,sf[di]=e.current,e.current=t}var Zn={},Ye=rr(Zn),ht=rr(!1),Dr=Zn;function bi(e,t){var n=e.type.contextTypes;if(!n)return Zn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function dt(e){return e=e.childContextTypes,e!=null}function ta(){se(ht),se(Ye)}function Hp(e,t,n){if(Ye.current!==Zn)throw Error(C(168));ne(Ye,t),ne(ht,n)}function ag(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(C(108,tS(e)||"Unknown",i));return he({},n,r)}function na(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zn,Dr=Ye.current,ne(Ye,e),ne(ht,ht.current),!0}function Wp(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=ag(e,t,Dr),r.__reactInternalMemoizedMergedChildContext=e,se(ht),se(Ye),ne(Ye,e)):se(ht),ne(ht,n)}var ln=null,Xa=!1,uc=!1;function lg(e){ln===null?ln=[e]:ln.push(e)}function g_(e){Xa=!0,lg(e)}function ir(){if(!uc&&ln!==null){uc=!0;var e=0,t=ee;try{var n=ln;for(ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ln=null,Xa=!1}catch(i){throw ln!==null&&(ln=ln.slice(e+1)),Oy(mh,ir),i}finally{ee=t,uc=!1}}return null}var pi=[],mi=0,ra=null,ia=0,Rt=[],Pt=0,Ar=null,cn=1,fn="";function pr(e,t){pi[mi++]=ia,pi[mi++]=ra,ra=e,ia=t}function cg(e,t,n){Rt[Pt++]=cn,Rt[Pt++]=fn,Rt[Pt++]=Ar,Ar=e;var r=cn;e=fn;var i=32-qt(r)-1;r&=~(1<<i),n+=1;var o=32-qt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,cn=1<<32-qt(t)+i|n<<i|r,fn=o+e}else cn=1<<o|n<<i|r,fn=e}function Ih(e){e.return!==null&&(pr(e,1),cg(e,1,0))}function xh(e){for(;e===ra;)ra=pi[--mi],pi[mi]=null,ia=pi[--mi],pi[mi]=null;for(;e===Ar;)Ar=Rt[--Pt],Rt[Pt]=null,fn=Rt[--Pt],Rt[Pt]=null,cn=Rt[--Pt],Rt[Pt]=null}var Nt=null,Tt=null,ue=!1,zt=null;function fg(e,t){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,Tt=qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,Tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ar!==null?{id:cn,overflow:fn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Nt=e,Tt=null,!0):!1;default:return!1}}function uf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function af(e){if(ue){var t=Tt;if(t){var n=t;if(!Qp(e,t)){if(uf(e))throw Error(C(418));t=qn(n.nextSibling);var r=Nt;t&&Qp(e,t)?fg(r,n):(e.flags=e.flags&-4097|2,ue=!1,Nt=e)}}else{if(uf(e))throw Error(C(418));e.flags=e.flags&-4097|2,ue=!1,Nt=e}}}function Gp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function hu(e){if(e!==Nt)return!1;if(!ue)return Gp(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!nf(e.type,e.memoizedProps)),t&&(t=Tt)){if(uf(e))throw hg(),Error(C(418));for(;t;)fg(e,t),t=qn(t.nextSibling)}if(Gp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Tt=qn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Tt=null}}else Tt=Nt?qn(e.stateNode.nextSibling):null;return!0}function hg(){for(var e=Tt;e;)e=qn(e.nextSibling)}function Di(){Tt=Nt=null,ue=!1}function Nh(e){zt===null?zt=[e]:zt.push(e)}var w_=Tn.ReactCurrentBatchConfig;function Eo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var u=i.refs;s===null?delete u[o]:u[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function du(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yp(e){var t=e._init;return t(e._payload)}function dg(e){function t(m,p){if(e){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Qn(m,p),m.index=0,m.sibling=null,m}function o(m,p,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function u(m,p,g,S){return p===null||p.tag!==6?(p=pc(g,m.mode,S),p.return=m,p):(p=i(p,g),p.return=m,p)}function a(m,p,g,S){var I=g.type;return I===ai?c(m,p,g.props.children,S,g.key):p!==null&&(p.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===bn&&Yp(I)===p.type)?(S=i(p,g.props),S.ref=Eo(m,p,g),S.return=m,S):(S=Mu(g.type,g.key,g.props,null,m.mode,S),S.ref=Eo(m,p,g),S.return=m,S)}function l(m,p,g,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=mc(g,m.mode,S),p.return=m,p):(p=i(p,g.children||[]),p.return=m,p)}function c(m,p,g,S,I){return p===null||p.tag!==7?(p=Nr(g,m.mode,S,I),p.return=m,p):(p=i(p,g),p.return=m,p)}function f(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=pc(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case nu:return g=Mu(p.type,p.key,p.props,null,m.mode,g),g.ref=Eo(m,null,p),g.return=m,g;case ui:return p=mc(p,m.mode,g),p.return=m,p;case bn:var S=p._init;return f(m,S(p._payload),g)}if(No(p)||mo(p))return p=Nr(p,m.mode,g,null),p.return=m,p;du(m,p)}return null}function h(m,p,g,S){var I=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return I!==null?null:u(m,p,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case nu:return g.key===I?a(m,p,g,S):null;case ui:return g.key===I?l(m,p,g,S):null;case bn:return I=g._init,h(m,p,I(g._payload),S)}if(No(g)||mo(g))return I!==null?null:c(m,p,g,S,null);du(m,g)}return null}function d(m,p,g,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(g)||null,u(p,m,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case nu:return m=m.get(S.key===null?g:S.key)||null,a(p,m,S,I);case ui:return m=m.get(S.key===null?g:S.key)||null,l(p,m,S,I);case bn:var b=S._init;return d(m,p,g,b(S._payload),I)}if(No(S)||mo(S))return m=m.get(g)||null,c(p,m,S,I,null);du(p,S)}return null}function v(m,p,g,S){for(var I=null,b=null,R=p,M=p=0,te=null;R!==null&&M<g.length;M++){R.index>M?(te=R,R=null):te=R.sibling;var q=h(m,R,g[M],S);if(q===null){R===null&&(R=te);break}e&&R&&q.alternate===null&&t(m,R),p=o(q,p,M),b===null?I=q:b.sibling=q,b=q,R=te}if(M===g.length)return n(m,R),ue&&pr(m,M),I;if(R===null){for(;M<g.length;M++)R=f(m,g[M],S),R!==null&&(p=o(R,p,M),b===null?I=R:b.sibling=R,b=R);return ue&&pr(m,M),I}for(R=r(m,R);M<g.length;M++)te=d(R,m,M,g[M],S),te!==null&&(e&&te.alternate!==null&&R.delete(te.key===null?M:te.key),p=o(te,p,M),b===null?I=te:b.sibling=te,b=te);return e&&R.forEach(function(at){return t(m,at)}),ue&&pr(m,M),I}function y(m,p,g,S){var I=mo(g);if(typeof I!="function")throw Error(C(150));if(g=I.call(g),g==null)throw Error(C(151));for(var b=I=null,R=p,M=p=0,te=null,q=g.next();R!==null&&!q.done;M++,q=g.next()){R.index>M?(te=R,R=null):te=R.sibling;var at=h(m,R,q.value,S);if(at===null){R===null&&(R=te);break}e&&R&&at.alternate===null&&t(m,R),p=o(at,p,M),b===null?I=at:b.sibling=at,b=at,R=te}if(q.done)return n(m,R),ue&&pr(m,M),I;if(R===null){for(;!q.done;M++,q=g.next())q=f(m,q.value,S),q!==null&&(p=o(q,p,M),b===null?I=q:b.sibling=q,b=q);return ue&&pr(m,M),I}for(R=r(m,R);!q.done;M++,q=g.next())q=d(R,m,M,q.value,S),q!==null&&(e&&q.alternate!==null&&R.delete(q.key===null?M:q.key),p=o(q,p,M),b===null?I=q:b.sibling=q,b=q);return e&&R.forEach(function(ho){return t(m,ho)}),ue&&pr(m,M),I}function E(m,p,g,S){if(typeof g=="object"&&g!==null&&g.type===ai&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case nu:e:{for(var I=g.key,b=p;b!==null;){if(b.key===I){if(I=g.type,I===ai){if(b.tag===7){n(m,b.sibling),p=i(b,g.props.children),p.return=m,m=p;break e}}else if(b.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===bn&&Yp(I)===b.type){n(m,b.sibling),p=i(b,g.props),p.ref=Eo(m,b,g),p.return=m,m=p;break e}n(m,b);break}else t(m,b);b=b.sibling}g.type===ai?(p=Nr(g.props.children,m.mode,S,g.key),p.return=m,m=p):(S=Mu(g.type,g.key,g.props,null,m.mode,S),S.ref=Eo(m,p,g),S.return=m,m=S)}return s(m);case ui:e:{for(b=g.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=i(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=mc(g,m.mode,S),p.return=m,m=p}return s(m);case bn:return b=g._init,E(m,p,b(g._payload),S)}if(No(g))return v(m,p,g,S);if(mo(g))return y(m,p,g,S);du(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,g),p.return=m,m=p):(n(m,p),p=pc(g,m.mode,S),p.return=m,m=p),s(m)):n(m,p)}return E}var Ai=dg(!0),pg=dg(!1),oa=rr(null),sa=null,vi=null,kh=null;function Ch(){kh=vi=sa=null}function bh(e){var t=oa.current;se(oa),e._currentValue=t}function lf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xi(e,t){sa=e,kh=vi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ct=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(kh!==e)if(e={context:e,memoizedValue:t,next:null},vi===null){if(sa===null)throw Error(C(308));vi=e,sa.dependencies={lanes:0,firstContext:e}}else vi=vi.next=e;return t}var wr=null;function Dh(e){wr===null?wr=[e]:wr.push(e)}function mg(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Dh(t)):(n.next=i.next,i.next=n),t.interleaved=n,En(e,r)}function En(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Dn=!1;function Ah(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,En(e,n)}return i=r.interleaved,i===null?(t.next=t,Dh(r)):(t.next=i.next,i.next=t),r.interleaved=t,En(e,n)}function Ru(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vh(e,n)}}function Xp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ua(e,t,n,r){var i=e.updateQueue;Dn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var a=u,l=a.next;a.next=null,s===null?o=l:s.next=l,s=a;var c=e.alternate;c!==null&&(c=c.updateQueue,u=c.lastBaseUpdate,u!==s&&(u===null?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=a))}if(o!==null){var f=i.baseState;s=0,c=l=a=null,u=o;do{var h=u.lane,d=u.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var v=e,y=u;switch(h=t,d=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(d,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(d,f,h):v,h==null)break e;f=he({},f,h);break e;case 2:Dn=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},c===null?(l=c=d,a=f):c=c.next=d,s|=h;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;h=u,u=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(a=f),i.baseState=a,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Pr|=s,e.lanes=s,e.memoizedState=f}}function Jp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(C(191,i));i.call(r)}}}var Os={},rn=rr(Os),is=rr(Os),os=rr(Os);function Er(e){if(e===Os)throw Error(C(174));return e}function Rh(e,t){switch(ne(os,t),ne(is,e),ne(rn,Os),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bc(t,e)}se(rn),ne(rn,t)}function Ri(){se(rn),se(is),se(os)}function yg(e){Er(os.current);var t=Er(rn.current),n=Bc(t,e.type);t!==n&&(ne(is,e),ne(rn,n))}function Ph(e){is.current===e&&(se(rn),se(is))}var le=rr(0);function aa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ac=[];function Oh(){for(var e=0;e<ac.length;e++)ac[e]._workInProgressVersionPrimary=null;ac.length=0}var Pu=Tn.ReactCurrentDispatcher,lc=Tn.ReactCurrentBatchConfig,Rr=0,fe=null,xe=null,Ae=null,la=!1,Fo=!1,ss=0,E_=0;function Be(){throw Error(C(321))}function Lh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gt(e[n],t[n]))return!1;return!0}function jh(e,t,n,r,i,o){if(Rr=o,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pu.current=e===null||e.memoizedState===null?I_:x_,e=n(r,i),Fo){o=0;do{if(Fo=!1,ss=0,25<=o)throw Error(C(301));o+=1,Ae=xe=null,t.updateQueue=null,Pu.current=N_,e=n(r,i)}while(Fo)}if(Pu.current=ca,t=xe!==null&&xe.next!==null,Rr=0,Ae=xe=fe=null,la=!1,t)throw Error(C(300));return e}function Fh(){var e=ss!==0;return ss=0,e}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?fe.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function Ft(){if(xe===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=Ae===null?fe.memoizedState:Ae.next;if(t!==null)Ae=t,xe=e;else{if(e===null)throw Error(C(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},Ae===null?fe.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function us(e,t){return typeof t=="function"?t(e):t}function cc(e){var t=Ft(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=xe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var u=s=null,a=null,l=o;do{var c=l.lane;if((Rr&c)===c)a!==null&&(a=a.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};a===null?(u=a=f,s=r):a=a.next=f,fe.lanes|=c,Pr|=c}l=l.next}while(l!==null&&l!==o);a===null?s=r:a.next=u,Gt(r,t.memoizedState)||(ct=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,fe.lanes|=o,Pr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fc(e){var t=Ft(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Gt(o,t.memoizedState)||(ct=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function gg(){}function wg(e,t){var n=fe,r=Ft(),i=t(),o=!Gt(r.memoizedState,i);if(o&&(r.memoizedState=i,ct=!0),r=r.queue,Mh(_g.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,as(9,Sg.bind(null,n,r,i,t),void 0,null),Re===null)throw Error(C(349));Rr&30||Eg(n,t,i)}return i}function Eg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Sg(e,t,n,r){t.value=n,t.getSnapshot=r,Tg(t)&&Ig(e)}function _g(e,t,n){return n(function(){Tg(t)&&Ig(e)})}function Tg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gt(e,n)}catch{return!0}}function Ig(e){var t=En(e,1);t!==null&&Kt(t,e,1,-1)}function Zp(e){var t=Jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:e},t.queue=e,e=e.dispatch=T_.bind(null,fe,e),[t.memoizedState,e]}function as(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xg(){return Ft().memoizedState}function Ou(e,t,n,r){var i=Jt();fe.flags|=e,i.memoizedState=as(1|t,n,void 0,r===void 0?null:r)}function Ja(e,t,n,r){var i=Ft();r=r===void 0?null:r;var o=void 0;if(xe!==null){var s=xe.memoizedState;if(o=s.destroy,r!==null&&Lh(r,s.deps)){i.memoizedState=as(t,n,o,r);return}}fe.flags|=e,i.memoizedState=as(1|t,n,o,r)}function em(e,t){return Ou(8390656,8,e,t)}function Mh(e,t){return Ja(2048,8,e,t)}function Ng(e,t){return Ja(4,2,e,t)}function kg(e,t){return Ja(4,4,e,t)}function Cg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bg(e,t,n){return n=n!=null?n.concat([e]):null,Ja(4,4,Cg.bind(null,t,e),n)}function $h(){}function Dg(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ag(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Rg(e,t,n){return Rr&21?(Gt(n,t)||(n=Fy(),fe.lanes|=n,Pr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=n)}function S_(e,t){var n=ee;ee=n!==0&&4>n?n:4,e(!0);var r=lc.transition;lc.transition={};try{e(!1),t()}finally{ee=n,lc.transition=r}}function Pg(){return Ft().memoizedState}function __(e,t,n){var r=Wn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Og(e))Lg(t,n);else if(n=mg(e,t,n,r),n!==null){var i=ot();Kt(n,e,r,i),jg(n,t,r)}}function T_(e,t,n){var r=Wn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Og(e))Lg(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,u=o(s,n);if(i.hasEagerState=!0,i.eagerState=u,Gt(u,s)){var a=t.interleaved;a===null?(i.next=i,Dh(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=mg(e,t,i,r),n!==null&&(i=ot(),Kt(n,e,r,i),jg(n,t,r))}}function Og(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Lg(e,t){Fo=la=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vh(e,n)}}var ca={readContext:jt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},I_={readContext:jt,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:em,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ou(4194308,4,Cg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ou(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ou(4,2,e,t)},useMemo:function(e,t){var n=Jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Jt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=__.bind(null,fe,e),[r.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:Zp,useDebugValue:$h,useDeferredValue:function(e){return Jt().memoizedState=e},useTransition:function(){var e=Zp(!1),t=e[0];return e=S_.bind(null,e[1]),Jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fe,i=Jt();if(ue){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),Re===null)throw Error(C(349));Rr&30||Eg(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,em(_g.bind(null,r,o,e),[e]),r.flags|=2048,as(9,Sg.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Jt(),t=Re.identifierPrefix;if(ue){var n=fn,r=cn;n=(r&~(1<<32-qt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ss++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=E_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},x_={readContext:jt,useCallback:Dg,useContext:jt,useEffect:Mh,useImperativeHandle:bg,useInsertionEffect:Ng,useLayoutEffect:kg,useMemo:Ag,useReducer:cc,useRef:xg,useState:function(){return cc(us)},useDebugValue:$h,useDeferredValue:function(e){var t=Ft();return Rg(t,xe.memoizedState,e)},useTransition:function(){var e=cc(us)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:gg,useSyncExternalStore:wg,useId:Pg,unstable_isNewReconciler:!1},N_={readContext:jt,useCallback:Dg,useContext:jt,useEffect:Mh,useImperativeHandle:bg,useInsertionEffect:Ng,useLayoutEffect:kg,useMemo:Ag,useReducer:fc,useRef:xg,useState:function(){return fc(us)},useDebugValue:$h,useDeferredValue:function(e){var t=Ft();return xe===null?t.memoizedState=e:Rg(t,xe.memoizedState,e)},useTransition:function(){var e=fc(us)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:gg,useSyncExternalStore:wg,useId:Pg,unstable_isNewReconciler:!1};function Vt(e,t){if(e&&e.defaultProps){t=he({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function cf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:he({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Za={isMounted:function(e){return(e=e._reactInternals)?qr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ot(),i=Wn(e),o=pn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Kn(e,o,i),t!==null&&(Kt(t,e,i,r),Ru(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ot(),i=Wn(e),o=pn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Kn(e,o,i),t!==null&&(Kt(t,e,i,r),Ru(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ot(),r=Wn(e),i=pn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Kn(e,i,r),t!==null&&(Kt(t,e,r,n),Ru(t,e,r))}};function tm(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!es(n,r)||!es(i,o):!0}function Fg(e,t,n){var r=!1,i=Zn,o=t.contextType;return typeof o=="object"&&o!==null?o=jt(o):(i=dt(t)?Dr:Ye.current,r=t.contextTypes,o=(r=r!=null)?bi(e,i):Zn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Za,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function nm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Za.enqueueReplaceState(t,t.state,null)}function ff(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ah(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=jt(o):(o=dt(t)?Dr:Ye.current,i.context=bi(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(cf(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Za.enqueueReplaceState(i,i.state,null),ua(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Pi(e,t){try{var n="",r=t;do n+=eS(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function hc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var k_=typeof WeakMap=="function"?WeakMap:Map;function Mg(e,t,n){n=pn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ha||(ha=!0,_f=r),hf(e,t)},n}function $g(e,t,n){n=pn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hf(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){hf(e,t),typeof r!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function rm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new k_;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=V_.bind(null,e,t,n),t.then(e,e))}function im(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function om(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pn(-1,1),t.tag=2,Kn(n,t,1))),n.lanes|=1),e)}var C_=Tn.ReactCurrentOwner,ct=!1;function Ze(e,t,n,r){t.child=e===null?pg(t,null,n,r):Ai(t,e.child,n,r)}function sm(e,t,n,r,i){n=n.render;var o=t.ref;return xi(t,i),r=jh(e,t,n,r,o,i),n=Fh(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sn(e,t,i)):(ue&&n&&Ih(t),t.flags|=1,Ze(e,t,r,i),t.child)}function um(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Wh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Ug(e,t,o,r,i)):(e=Mu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:es,n(s,r)&&e.ref===t.ref)return Sn(e,t,i)}return t.flags|=1,e=Qn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Ug(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(es(o,r)&&e.ref===t.ref)if(ct=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(ct=!0);else return t.lanes=e.lanes,Sn(e,t,i)}return df(e,t,n,r,i)}function Vg(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(gi,wt),wt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ne(gi,wt),wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ne(gi,wt),wt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ne(gi,wt),wt|=r;return Ze(e,t,i,n),t.child}function Bg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function df(e,t,n,r,i){var o=dt(n)?Dr:Ye.current;return o=bi(t,o),xi(t,i),n=jh(e,t,n,r,o,i),r=Fh(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sn(e,t,i)):(ue&&r&&Ih(t),t.flags|=1,Ze(e,t,n,i),t.child)}function am(e,t,n,r,i){if(dt(n)){var o=!0;na(t)}else o=!1;if(xi(t,i),t.stateNode===null)Lu(e,t),Fg(t,n,r),ff(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,u=t.memoizedProps;s.props=u;var a=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=jt(l):(l=dt(n)?Dr:Ye.current,l=bi(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==r||a!==l)&&nm(t,s,r,l),Dn=!1;var h=t.memoizedState;s.state=h,ua(t,r,s,i),a=t.memoizedState,u!==r||h!==a||ht.current||Dn?(typeof c=="function"&&(cf(t,n,c,r),a=t.memoizedState),(u=Dn||tm(t,n,u,r,h,a,l))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=l,r=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,vg(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:Vt(t.type,u),s.props=l,f=t.pendingProps,h=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=jt(a):(a=dt(n)?Dr:Ye.current,a=bi(t,a));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==f||h!==a)&&nm(t,s,r,a),Dn=!1,h=t.memoizedState,s.state=h,ua(t,r,s,i);var v=t.memoizedState;u!==f||h!==v||ht.current||Dn?(typeof d=="function"&&(cf(t,n,d,r),v=t.memoizedState),(l=Dn||tm(t,n,l,r,h,v,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=a,r=l):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return pf(e,t,n,r,o,i)}function pf(e,t,n,r,i,o){Bg(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Wp(t,n,!1),Sn(e,t,o);r=t.stateNode,C_.current=t;var u=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Ai(t,e.child,null,o),t.child=Ai(t,null,u,o)):Ze(e,t,u,o),t.memoizedState=r.state,i&&Wp(t,n,!0),t.child}function zg(e){var t=e.stateNode;t.pendingContext?Hp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hp(e,t.context,!1),Rh(e,t.containerInfo)}function lm(e,t,n,r,i){return Di(),Nh(i),t.flags|=256,Ze(e,t,n,r),t.child}var mf={dehydrated:null,treeContext:null,retryLane:0};function vf(e){return{baseLanes:e,cachePool:null,transitions:null}}function qg(e,t,n){var r=t.pendingProps,i=le.current,o=!1,s=(t.flags&128)!==0,u;if((u=s)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ne(le,i&1),e===null)return af(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=nl(s,r,0,null),e=Nr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=vf(n),t.memoizedState=mf,e):Uh(t,s));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return b_(e,t,s,r,u,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,u=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Qn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?o=Qn(u,o):(o=Nr(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?vf(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=mf,r}return o=e.child,e=o.sibling,r=Qn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Uh(e,t){return t=nl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pu(e,t,n,r){return r!==null&&Nh(r),Ai(t,e.child,null,n),e=Uh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function b_(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=hc(Error(C(422))),pu(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=nl({mode:"visible",children:r.children},i,0,null),o=Nr(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ai(t,e.child,null,s),t.child.memoizedState=vf(s),t.memoizedState=mf,o);if(!(t.mode&1))return pu(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(C(419)),r=hc(o,r,void 0),pu(e,t,s,r)}if(u=(s&e.childLanes)!==0,ct||u){if(r=Re,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,En(e,i),Kt(r,e,i,-1))}return Hh(),r=hc(Error(C(421))),pu(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=B_.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Tt=qn(i.nextSibling),Nt=t,ue=!0,zt=null,e!==null&&(Rt[Pt++]=cn,Rt[Pt++]=fn,Rt[Pt++]=Ar,cn=e.id,fn=e.overflow,Ar=t),t=Uh(t,r.children),t.flags|=4096,t)}function cm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),lf(e.return,t,n)}function dc(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Kg(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ze(e,t,r.children,n),r=le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cm(e,n,t);else if(e.tag===19)cm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ne(le,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&aa(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),dc(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&aa(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}dc(t,!0,n,null,o);break;case"together":dc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=Qn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function D_(e,t,n){switch(t.tag){case 3:zg(t),Di();break;case 5:yg(t);break;case 1:dt(t.type)&&na(t);break;case 4:Rh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ne(oa,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ne(le,le.current&1),t.flags|=128,null):n&t.child.childLanes?qg(e,t,n):(ne(le,le.current&1),e=Sn(e,t,n),e!==null?e.sibling:null);ne(le,le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Kg(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ne(le,le.current),r)break;return null;case 22:case 23:return t.lanes=0,Vg(e,t,n)}return Sn(e,t,n)}var Hg,yf,Wg,Qg;Hg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yf=function(){};Wg=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Er(rn.current);var o=null;switch(n){case"input":i=Mc(e,i),r=Mc(e,r),o=[];break;case"select":i=he({},i,{value:void 0}),r=he({},r,{value:void 0}),o=[];break;case"textarea":i=Vc(e,i),r=Vc(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ea)}zc(n,r);var s;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var u=i[l];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Wo.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var a=r[l];if(u=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&a!==u&&(a!=null||u!=null))if(l==="style")if(u){for(s in u)!u.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&u[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(l,n)),n=a;else l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,u=u?u.__html:void 0,a!=null&&u!==a&&(o=o||[]).push(l,a)):l==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(l,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Wo.hasOwnProperty(l)?(a!=null&&l==="onScroll"&&ie("scroll",e),o||u===a||(o=[])):(o=o||[]).push(l,a))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}};Qg=function(e,t,n,r){n!==r&&(t.flags|=4)};function So(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function A_(e,t,n){var r=t.pendingProps;switch(xh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return dt(t.type)&&ta(),ze(t),null;case 3:return r=t.stateNode,Ri(),se(ht),se(Ye),Oh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(hu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zt!==null&&(xf(zt),zt=null))),yf(e,t),ze(t),null;case 5:Ph(t);var i=Er(os.current);if(n=t.type,e!==null&&t.stateNode!=null)Wg(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return ze(t),null}if(e=Er(rn.current),hu(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[en]=t,r[rs]=o,e=(t.mode&1)!==0,n){case"dialog":ie("cancel",r),ie("close",r);break;case"iframe":case"object":case"embed":ie("load",r);break;case"video":case"audio":for(i=0;i<Co.length;i++)ie(Co[i],r);break;case"source":ie("error",r);break;case"img":case"image":case"link":ie("error",r),ie("load",r);break;case"details":ie("toggle",r);break;case"input":wp(r,o),ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ie("invalid",r);break;case"textarea":Sp(r,o),ie("invalid",r)}zc(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&fu(r.textContent,u,e),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&fu(r.textContent,u,e),i=["children",""+u]):Wo.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&ie("scroll",r)}switch(n){case"input":ru(r),Ep(r,o,!0);break;case"textarea":ru(r),_p(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ea)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_y(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[en]=t,e[rs]=r,Hg(e,t,!1,!1),t.stateNode=e;e:{switch(s=qc(n,r),n){case"dialog":ie("cancel",e),ie("close",e),i=r;break;case"iframe":case"object":case"embed":ie("load",e),i=r;break;case"video":case"audio":for(i=0;i<Co.length;i++)ie(Co[i],e);i=r;break;case"source":ie("error",e),i=r;break;case"img":case"image":case"link":ie("error",e),ie("load",e),i=r;break;case"details":ie("toggle",e),i=r;break;case"input":wp(e,r),i=Mc(e,r),ie("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=he({},r,{value:void 0}),ie("invalid",e);break;case"textarea":Sp(e,r),i=Vc(e,r),ie("invalid",e);break;default:i=r}zc(n,i),u=i;for(o in u)if(u.hasOwnProperty(o)){var a=u[o];o==="style"?xy(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Ty(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Qo(e,a):typeof a=="number"&&Qo(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Wo.hasOwnProperty(o)?a!=null&&o==="onScroll"&&ie("scroll",e):a!=null&&ch(e,o,a,s))}switch(n){case"input":ru(e),Ep(e,r,!1);break;case"textarea":ru(e),_p(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Jn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Si(e,!!r.multiple,o,!1):r.defaultValue!=null&&Si(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ea)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)Qg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=Er(os.current),Er(rn.current),hu(t)){if(r=t.stateNode,n=t.memoizedProps,r[en]=t,(o=r.nodeValue!==n)&&(e=Nt,e!==null))switch(e.tag){case 3:fu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fu(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=t,t.stateNode=r}return ze(t),null;case 13:if(se(le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&Tt!==null&&t.mode&1&&!(t.flags&128))hg(),Di(),t.flags|=98560,o=!1;else if(o=hu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(C(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(C(317));o[en]=t}else Di(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),o=!1}else zt!==null&&(xf(zt),zt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?Ne===0&&(Ne=3):Hh())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return Ri(),yf(e,t),e===null&&ts(t.stateNode.containerInfo),ze(t),null;case 10:return bh(t.type._context),ze(t),null;case 17:return dt(t.type)&&ta(),ze(t),null;case 19:if(se(le),o=t.memoizedState,o===null)return ze(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)So(o,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=aa(e),s!==null){for(t.flags|=128,So(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ne(le,le.current&1|2),t.child}e=e.sibling}o.tail!==null&&ye()>Oi&&(t.flags|=128,r=!0,So(o,!1),t.lanes=4194304)}else{if(!r)if(e=aa(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),So(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ue)return ze(t),null}else 2*ye()-o.renderingStartTime>Oi&&n!==1073741824&&(t.flags|=128,r=!0,So(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ye(),t.sibling=null,n=le.current,ne(le,r?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return Kh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?wt&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function R_(e,t){switch(xh(t),t.tag){case 1:return dt(t.type)&&ta(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ri(),se(ht),se(Ye),Oh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ph(t),null;case 13:if(se(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(le),null;case 4:return Ri(),null;case 10:return bh(t.type._context),null;case 22:case 23:return Kh(),null;case 24:return null;default:return null}}var mu=!1,Ke=!1,P_=typeof WeakSet=="function"?WeakSet:Set,O=null;function yi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){de(e,t,r)}else n.current=null}function gf(e,t,n){try{n()}catch(r){de(e,t,r)}}var fm=!1;function O_(e,t){if(ef=Xu,e=Zy(),Th(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,u=-1,a=-1,l=0,c=0,f=e,h=null;t:for(;;){for(var d;f!==n||i!==0&&f.nodeType!==3||(u=s+i),f!==o||r!==0&&f.nodeType!==3||(a=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===e)break t;if(h===n&&++l===i&&(u=s),h===o&&++c===r&&(a=s),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}n=u===-1||a===-1?null:{start:u,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(tf={focusedElem:e,selectionRange:n},Xu=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,E=v.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:Vt(t.type,y),E);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(S){de(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return v=fm,fm=!1,v}function Mo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&gf(t,n,o)}i=i.next}while(i!==r)}}function el(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function wf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Gg(e){var t=e.alternate;t!==null&&(e.alternate=null,Gg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[rs],delete t[of],delete t[v_],delete t[y_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yg(e){return e.tag===5||e.tag===3||e.tag===4}function hm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ef(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ea));else if(r!==4&&(e=e.child,e!==null))for(Ef(e,t,n),e=e.sibling;e!==null;)Ef(e,t,n),e=e.sibling}function Sf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Sf(e,t,n),e=e.sibling;e!==null;)Sf(e,t,n),e=e.sibling}var Oe=null,Bt=!1;function xn(e,t,n){for(n=n.child;n!==null;)Xg(e,t,n),n=n.sibling}function Xg(e,t,n){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Ha,n)}catch{}switch(n.tag){case 5:Ke||yi(n,t);case 6:var r=Oe,i=Bt;Oe=null,xn(e,t,n),Oe=r,Bt=i,Oe!==null&&(Bt?(e=Oe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Oe.removeChild(n.stateNode));break;case 18:Oe!==null&&(Bt?(e=Oe,n=n.stateNode,e.nodeType===8?sc(e.parentNode,n):e.nodeType===1&&sc(e,n),Jo(e)):sc(Oe,n.stateNode));break;case 4:r=Oe,i=Bt,Oe=n.stateNode.containerInfo,Bt=!0,xn(e,t,n),Oe=r,Bt=i;break;case 0:case 11:case 14:case 15:if(!Ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&gf(n,t,s),i=i.next}while(i!==r)}xn(e,t,n);break;case 1:if(!Ke&&(yi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){de(n,t,u)}xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:n.mode&1?(Ke=(r=Ke)||n.memoizedState!==null,xn(e,t,n),Ke=r):xn(e,t,n);break;default:xn(e,t,n)}}function dm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new P_),t.forEach(function(r){var i=z_.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;u!==null;){switch(u.tag){case 5:Oe=u.stateNode,Bt=!1;break e;case 3:Oe=u.stateNode.containerInfo,Bt=!0;break e;case 4:Oe=u.stateNode.containerInfo,Bt=!0;break e}u=u.return}if(Oe===null)throw Error(C(160));Xg(o,s,i),Oe=null,Bt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(l){de(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Jg(t,e),t=t.sibling}function Jg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(t,e),Xt(e),r&4){try{Mo(3,e,e.return),el(3,e)}catch(y){de(e,e.return,y)}try{Mo(5,e,e.return)}catch(y){de(e,e.return,y)}}break;case 1:Mt(t,e),Xt(e),r&512&&n!==null&&yi(n,n.return);break;case 5:if(Mt(t,e),Xt(e),r&512&&n!==null&&yi(n,n.return),e.flags&32){var i=e.stateNode;try{Qo(i,"")}catch(y){de(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,u=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&Ey(i,o),qc(u,s);var l=qc(u,o);for(s=0;s<a.length;s+=2){var c=a[s],f=a[s+1];c==="style"?xy(i,f):c==="dangerouslySetInnerHTML"?Ty(i,f):c==="children"?Qo(i,f):ch(i,c,f,l)}switch(u){case"input":$c(i,o);break;case"textarea":Sy(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?Si(i,!!o.multiple,d,!1):h!==!!o.multiple&&(o.defaultValue!=null?Si(i,!!o.multiple,o.defaultValue,!0):Si(i,!!o.multiple,o.multiple?[]:"",!1))}i[rs]=o}catch(y){de(e,e.return,y)}}break;case 6:if(Mt(t,e),Xt(e),r&4){if(e.stateNode===null)throw Error(C(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){de(e,e.return,y)}}break;case 3:if(Mt(t,e),Xt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jo(t.containerInfo)}catch(y){de(e,e.return,y)}break;case 4:Mt(t,e),Xt(e);break;case 13:Mt(t,e),Xt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(zh=ye())),r&4&&dm(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ke=(l=Ke)||c,Mt(t,e),Ke=l):Mt(t,e),Xt(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(O=e,c=e.child;c!==null;){for(f=O=c;O!==null;){switch(h=O,d=h.child,h.tag){case 0:case 11:case 14:case 15:Mo(4,h,h.return);break;case 1:yi(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){de(r,n,y)}}break;case 5:yi(h,h.return);break;case 22:if(h.memoizedState!==null){mm(f);continue}}d!==null?(d.return=h,O=d):mm(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=f.stateNode,a=f.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,u.style.display=Iy("display",s))}catch(y){de(e,e.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(y){de(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Mt(t,e),Xt(e),r&4&&dm(e);break;case 21:break;default:Mt(t,e),Xt(e)}}function Xt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Yg(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qo(i,""),r.flags&=-33);var o=hm(e);Sf(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,u=hm(e);Ef(e,u,s);break;default:throw Error(C(161))}}catch(a){de(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function L_(e,t,n){O=e,Zg(e)}function Zg(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var i=O,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||mu;if(!s){var u=i.alternate,a=u!==null&&u.memoizedState!==null||Ke;u=mu;var l=Ke;if(mu=s,(Ke=a)&&!l)for(O=i;O!==null;)s=O,a=s.child,s.tag===22&&s.memoizedState!==null?vm(i):a!==null?(a.return=s,O=a):vm(i);for(;o!==null;)O=o,Zg(o),o=o.sibling;O=i,mu=u,Ke=l}pm(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,O=o):pm(e)}}function pm(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||el(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ke)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Vt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Jp(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jp(t,s,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Jo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Ke||t.flags&512&&wf(t)}catch(h){de(t,t.return,h)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function mm(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function vm(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{el(4,t)}catch(a){de(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){de(t,i,a)}}var o=t.return;try{wf(t)}catch(a){de(t,o,a)}break;case 5:var s=t.return;try{wf(t)}catch(a){de(t,s,a)}}}catch(a){de(t,t.return,a)}if(t===e){O=null;break}var u=t.sibling;if(u!==null){u.return=t.return,O=u;break}O=t.return}}var j_=Math.ceil,fa=Tn.ReactCurrentDispatcher,Vh=Tn.ReactCurrentOwner,Lt=Tn.ReactCurrentBatchConfig,Y=0,Re=null,Ee=null,Fe=0,wt=0,gi=rr(0),Ne=0,ls=null,Pr=0,tl=0,Bh=0,$o=null,lt=null,zh=0,Oi=1/0,an=null,ha=!1,_f=null,Hn=null,vu=!1,$n=null,da=0,Uo=0,Tf=null,ju=-1,Fu=0;function ot(){return Y&6?ye():ju!==-1?ju:ju=ye()}function Wn(e){return e.mode&1?Y&2&&Fe!==0?Fe&-Fe:w_.transition!==null?(Fu===0&&(Fu=Fy()),Fu):(e=ee,e!==0||(e=window.event,e=e===void 0?16:qy(e.type)),e):1}function Kt(e,t,n,r){if(50<Uo)throw Uo=0,Tf=null,Error(C(185));As(e,n,r),(!(Y&2)||e!==Re)&&(e===Re&&(!(Y&2)&&(tl|=n),Ne===4&&Pn(e,Fe)),pt(e,r),n===1&&Y===0&&!(t.mode&1)&&(Oi=ye()+500,Xa&&ir()))}function pt(e,t){var n=e.callbackNode;wS(e,t);var r=Yu(e,e===Re?Fe:0);if(r===0)n!==null&&xp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&xp(n),t===1)e.tag===0?g_(ym.bind(null,e)):lg(ym.bind(null,e)),p_(function(){!(Y&6)&&ir()}),n=null;else{switch(My(r)){case 1:n=mh;break;case 4:n=Ly;break;case 16:n=Gu;break;case 536870912:n=jy;break;default:n=Gu}n=u0(n,e0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function e0(e,t){if(ju=-1,Fu=0,Y&6)throw Error(C(327));var n=e.callbackNode;if(Ni()&&e.callbackNode!==n)return null;var r=Yu(e,e===Re?Fe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=pa(e,r);else{t=r;var i=Y;Y|=2;var o=n0();(Re!==e||Fe!==t)&&(an=null,Oi=ye()+500,xr(e,t));do try{$_();break}catch(u){t0(e,u)}while(!0);Ch(),fa.current=o,Y=i,Ee!==null?t=0:(Re=null,Fe=0,t=Ne)}if(t!==0){if(t===2&&(i=Gc(e),i!==0&&(r=i,t=If(e,i))),t===1)throw n=ls,xr(e,0),Pn(e,r),pt(e,ye()),n;if(t===6)Pn(e,r);else{if(i=e.current.alternate,!(r&30)&&!F_(i)&&(t=pa(e,r),t===2&&(o=Gc(e),o!==0&&(r=o,t=If(e,o))),t===1))throw n=ls,xr(e,0),Pn(e,r),pt(e,ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:mr(e,lt,an);break;case 3:if(Pn(e,r),(r&130023424)===r&&(t=zh+500-ye(),10<t)){if(Yu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ot(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=rf(mr.bind(null,e,lt,an),t);break}mr(e,lt,an);break;case 4:if(Pn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-qt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*j_(r/1960))-r,10<r){e.timeoutHandle=rf(mr.bind(null,e,lt,an),r);break}mr(e,lt,an);break;case 5:mr(e,lt,an);break;default:throw Error(C(329))}}}return pt(e,ye()),e.callbackNode===n?e0.bind(null,e):null}function If(e,t){var n=$o;return e.current.memoizedState.isDehydrated&&(xr(e,t).flags|=256),e=pa(e,t),e!==2&&(t=lt,lt=n,t!==null&&xf(t)),e}function xf(e){lt===null?lt=e:lt.push.apply(lt,e)}function F_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Gt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t){for(t&=~Bh,t&=~tl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function ym(e){if(Y&6)throw Error(C(327));Ni();var t=Yu(e,0);if(!(t&1))return pt(e,ye()),null;var n=pa(e,t);if(e.tag!==0&&n===2){var r=Gc(e);r!==0&&(t=r,n=If(e,r))}if(n===1)throw n=ls,xr(e,0),Pn(e,t),pt(e,ye()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mr(e,lt,an),pt(e,ye()),null}function qh(e,t){var n=Y;Y|=1;try{return e(t)}finally{Y=n,Y===0&&(Oi=ye()+500,Xa&&ir())}}function Or(e){$n!==null&&$n.tag===0&&!(Y&6)&&Ni();var t=Y;Y|=1;var n=Lt.transition,r=ee;try{if(Lt.transition=null,ee=1,e)return e()}finally{ee=r,Lt.transition=n,Y=t,!(Y&6)&&ir()}}function Kh(){wt=gi.current,se(gi)}function xr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,d_(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(xh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ta();break;case 3:Ri(),se(ht),se(Ye),Oh();break;case 5:Ph(r);break;case 4:Ri();break;case 13:se(le);break;case 19:se(le);break;case 10:bh(r.type._context);break;case 22:case 23:Kh()}n=n.return}if(Re=e,Ee=e=Qn(e.current,null),Fe=wt=t,Ne=0,ls=null,Bh=tl=Pr=0,lt=$o=null,wr!==null){for(t=0;t<wr.length;t++)if(n=wr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}wr=null}return e}function t0(e,t){do{var n=Ee;try{if(Ch(),Pu.current=ca,la){for(var r=fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}la=!1}if(Rr=0,Ae=xe=fe=null,Fo=!1,ss=0,Vh.current=null,n===null||n.return===null){Ne=1,ls=t,Ee=null;break}e:{var o=e,s=n.return,u=n,a=t;if(t=Fe,u.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var l=a,c=u,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=im(s);if(d!==null){d.flags&=-257,om(d,s,u,o,t),d.mode&1&&rm(o,l,t),t=d,a=l;var v=t.updateQueue;if(v===null){var y=new Set;y.add(a),t.updateQueue=y}else v.add(a);break e}else{if(!(t&1)){rm(o,l,t),Hh();break e}a=Error(C(426))}}else if(ue&&u.mode&1){var E=im(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),om(E,s,u,o,t),Nh(Pi(a,u));break e}}o=a=Pi(a,u),Ne!==4&&(Ne=2),$o===null?$o=[o]:$o.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=Mg(o,a,t);Xp(o,m);break e;case 1:u=a;var p=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Hn===null||!Hn.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=$g(o,u,t);Xp(o,S);break e}}o=o.return}while(o!==null)}i0(n)}catch(I){t=I,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function n0(){var e=fa.current;return fa.current=ca,e===null?ca:e}function Hh(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),Re===null||!(Pr&268435455)&&!(tl&268435455)||Pn(Re,Fe)}function pa(e,t){var n=Y;Y|=2;var r=n0();(Re!==e||Fe!==t)&&(an=null,xr(e,t));do try{M_();break}catch(i){t0(e,i)}while(!0);if(Ch(),Y=n,fa.current=r,Ee!==null)throw Error(C(261));return Re=null,Fe=0,Ne}function M_(){for(;Ee!==null;)r0(Ee)}function $_(){for(;Ee!==null&&!cS();)r0(Ee)}function r0(e){var t=s0(e.alternate,e,wt);e.memoizedProps=e.pendingProps,t===null?i0(e):Ee=t,Vh.current=null}function i0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=R_(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,Ee=null;return}}else if(n=A_(n,t,wt),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Ne===0&&(Ne=5)}function mr(e,t,n){var r=ee,i=Lt.transition;try{Lt.transition=null,ee=1,U_(e,t,n,r)}finally{Lt.transition=i,ee=r}return null}function U_(e,t,n,r){do Ni();while($n!==null);if(Y&6)throw Error(C(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(ES(e,o),e===Re&&(Ee=Re=null,Fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vu||(vu=!0,u0(Gu,function(){return Ni(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Lt.transition,Lt.transition=null;var s=ee;ee=1;var u=Y;Y|=4,Vh.current=null,O_(e,n),Jg(n,e),s_(tf),Xu=!!ef,tf=ef=null,e.current=n,L_(n),fS(),Y=u,ee=s,Lt.transition=o}else e.current=n;if(vu&&(vu=!1,$n=e,da=i),o=e.pendingLanes,o===0&&(Hn=null),pS(n.stateNode),pt(e,ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ha)throw ha=!1,e=_f,_f=null,e;return da&1&&e.tag!==0&&Ni(),o=e.pendingLanes,o&1?e===Tf?Uo++:(Uo=0,Tf=e):Uo=0,ir(),null}function Ni(){if($n!==null){var e=My(da),t=Lt.transition,n=ee;try{if(Lt.transition=null,ee=16>e?16:e,$n===null)var r=!1;else{if(e=$n,$n=null,da=0,Y&6)throw Error(C(331));var i=Y;for(Y|=4,O=e.current;O!==null;){var o=O,s=o.child;if(O.flags&16){var u=o.deletions;if(u!==null){for(var a=0;a<u.length;a++){var l=u[a];for(O=l;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:Mo(8,c,o)}var f=c.child;if(f!==null)f.return=c,O=f;else for(;O!==null;){c=O;var h=c.sibling,d=c.return;if(Gg(c),c===l){O=null;break}if(h!==null){h.return=d,O=h;break}O=d}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}O=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,O=s;else e:for(;O!==null;){if(o=O,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Mo(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,O=m;break e}O=o.return}}var p=e.current;for(O=p;O!==null;){s=O;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,O=g;else e:for(s=p;O!==null;){if(u=O,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:el(9,u)}}catch(I){de(u,u.return,I)}if(u===s){O=null;break e}var S=u.sibling;if(S!==null){S.return=u.return,O=S;break e}O=u.return}}if(Y=i,ir(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Ha,e)}catch{}r=!0}return r}finally{ee=n,Lt.transition=t}}return!1}function gm(e,t,n){t=Pi(n,t),t=Mg(e,t,1),e=Kn(e,t,1),t=ot(),e!==null&&(As(e,1,t),pt(e,t))}function de(e,t,n){if(e.tag===3)gm(e,e,n);else for(;t!==null;){if(t.tag===3){gm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hn===null||!Hn.has(r))){e=Pi(n,e),e=$g(t,e,1),t=Kn(t,e,1),e=ot(),t!==null&&(As(t,1,e),pt(t,e));break}}t=t.return}}function V_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&n,Re===e&&(Fe&n)===n&&(Ne===4||Ne===3&&(Fe&130023424)===Fe&&500>ye()-zh?xr(e,0):Bh|=n),pt(e,t)}function o0(e,t){t===0&&(e.mode&1?(t=su,su<<=1,!(su&130023424)&&(su=4194304)):t=1);var n=ot();e=En(e,t),e!==null&&(As(e,t,n),pt(e,n))}function B_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),o0(e,n)}function z_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),o0(e,n)}var s0;s0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ht.current)ct=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ct=!1,D_(e,t,n);ct=!!(e.flags&131072)}else ct=!1,ue&&t.flags&1048576&&cg(t,ia,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Lu(e,t),e=t.pendingProps;var i=bi(t,Ye.current);xi(t,n),i=jh(null,t,r,e,i,n);var o=Fh();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(r)?(o=!0,na(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ah(t),i.updater=Za,t.stateNode=i,i._reactInternals=t,ff(t,r,e,n),t=pf(null,t,r,!0,o,n)):(t.tag=0,ue&&o&&Ih(t),Ze(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Lu(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=K_(r),e=Vt(r,e),i){case 0:t=df(null,t,r,e,n);break e;case 1:t=am(null,t,r,e,n);break e;case 11:t=sm(null,t,r,e,n);break e;case 14:t=um(null,t,r,Vt(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vt(r,i),df(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vt(r,i),am(e,t,r,i,n);case 3:e:{if(zg(t),e===null)throw Error(C(387));r=t.pendingProps,o=t.memoizedState,i=o.element,vg(e,t),ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Pi(Error(C(423)),t),t=lm(e,t,r,n,i);break e}else if(r!==i){i=Pi(Error(C(424)),t),t=lm(e,t,r,n,i);break e}else for(Tt=qn(t.stateNode.containerInfo.firstChild),Nt=t,ue=!0,zt=null,n=pg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Di(),r===i){t=Sn(e,t,n);break e}Ze(e,t,r,n)}t=t.child}return t;case 5:return yg(t),e===null&&af(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,nf(r,i)?s=null:o!==null&&nf(r,o)&&(t.flags|=32),Bg(e,t),Ze(e,t,s,n),t.child;case 6:return e===null&&af(t),null;case 13:return qg(e,t,n);case 4:return Rh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ai(t,null,r,n):Ze(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vt(r,i),sm(e,t,r,i,n);case 7:return Ze(e,t,t.pendingProps,n),t.child;case 8:return Ze(e,t,t.pendingProps.children,n),t.child;case 12:return Ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ne(oa,r._currentValue),r._currentValue=s,o!==null)if(Gt(o.value,s)){if(o.children===i.children&&!ht.current){t=Sn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var u=o.dependencies;if(u!==null){s=o.child;for(var a=u.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=pn(-1,n&-n),a.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?a.next=a:(a.next=c.next,c.next=a),l.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),lf(o.return,n,t),u.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(C(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),lf(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ze(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xi(t,n),i=jt(i),r=r(i),t.flags|=1,Ze(e,t,r,n),t.child;case 14:return r=t.type,i=Vt(r,t.pendingProps),i=Vt(r.type,i),um(e,t,r,i,n);case 15:return Ug(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vt(r,i),Lu(e,t),t.tag=1,dt(r)?(e=!0,na(t)):e=!1,xi(t,n),Fg(t,r,i),ff(t,r,i,n),pf(null,t,r,!0,e,n);case 19:return Kg(e,t,n);case 22:return Vg(e,t,n)}throw Error(C(156,t.tag))};function u0(e,t){return Oy(e,t)}function q_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,n,r){return new q_(e,t,n,r)}function Wh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function K_(e){if(typeof e=="function")return Wh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hh)return 11;if(e===dh)return 14}return 2}function Qn(e,t){var n=e.alternate;return n===null?(n=Ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mu(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Wh(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ai:return Nr(n.children,i,o,t);case fh:s=8,i|=8;break;case Oc:return e=Ot(12,n,t,i|2),e.elementType=Oc,e.lanes=o,e;case Lc:return e=Ot(13,n,t,i),e.elementType=Lc,e.lanes=o,e;case jc:return e=Ot(19,n,t,i),e.elementType=jc,e.lanes=o,e;case yy:return nl(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case my:s=10;break e;case vy:s=9;break e;case hh:s=11;break e;case dh:s=14;break e;case bn:s=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Ot(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Nr(e,t,n,r){return e=Ot(7,e,r,t),e.lanes=n,e}function nl(e,t,n,r){return e=Ot(22,e,r,t),e.elementType=yy,e.lanes=n,e.stateNode={isHidden:!1},e}function pc(e,t,n){return e=Ot(6,e,null,t),e.lanes=n,e}function mc(e,t,n){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function H_(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gl(0),this.expirationTimes=Gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qh(e,t,n,r,i,o,s,u,a){return e=new H_(e,t,n,u,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ot(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ah(o),e}function W_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ui,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function a0(e){if(!e)return Zn;e=e._reactInternals;e:{if(qr(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(dt(n))return ag(e,n,t)}return t}function l0(e,t,n,r,i,o,s,u,a){return e=Qh(n,r,!0,e,i,o,s,u,a),e.context=a0(null),n=e.current,r=ot(),i=Wn(n),o=pn(r,i),o.callback=t??null,Kn(n,o,i),e.current.lanes=i,As(e,i,r),pt(e,r),e}function rl(e,t,n,r){var i=t.current,o=ot(),s=Wn(i);return n=a0(n),t.context===null?t.context=n:t.pendingContext=n,t=pn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kn(i,t,s),e!==null&&(Kt(e,i,s,o),Ru(e,i,s)),s}function ma(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Gh(e,t){wm(e,t),(e=e.alternate)&&wm(e,t)}function Q_(){return null}var c0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yh(e){this._internalRoot=e}il.prototype.render=Yh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));rl(e,t,null,null)};il.prototype.unmount=Yh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Or(function(){rl(null,e,null,null)}),t[wn]=null}};function il(e){this._internalRoot=e}il.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rn.length&&t!==0&&t<Rn[n].priority;n++);Rn.splice(n,0,e),n===0&&zy(e)}};function Xh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Em(){}function G_(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=ma(s);o.call(l)}}var s=l0(t,r,e,0,null,!1,!1,"",Em);return e._reactRootContainer=s,e[wn]=s.current,ts(e.nodeType===8?e.parentNode:e),Or(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var l=ma(a);u.call(l)}}var a=Qh(e,0,!1,null,null,!1,!1,"",Em);return e._reactRootContainer=a,e[wn]=a.current,ts(e.nodeType===8?e.parentNode:e),Or(function(){rl(t,a,n,r)}),a}function sl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var u=i;i=function(){var a=ma(s);u.call(a)}}rl(t,s,e,i)}else s=G_(n,t,e,i,r);return ma(s)}$y=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ko(t.pendingLanes);n!==0&&(vh(t,n|1),pt(t,ye()),!(Y&6)&&(Oi=ye()+500,ir()))}break;case 13:Or(function(){var r=En(e,1);if(r!==null){var i=ot();Kt(r,e,1,i)}}),Gh(e,1)}};yh=function(e){if(e.tag===13){var t=En(e,134217728);if(t!==null){var n=ot();Kt(t,e,134217728,n)}Gh(e,134217728)}};Uy=function(e){if(e.tag===13){var t=Wn(e),n=En(e,t);if(n!==null){var r=ot();Kt(n,e,t,r)}Gh(e,t)}};Vy=function(){return ee};By=function(e,t){var n=ee;try{return ee=e,t()}finally{ee=n}};Hc=function(e,t,n){switch(t){case"input":if($c(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ya(r);if(!i)throw Error(C(90));wy(r),$c(r,i)}}}break;case"textarea":Sy(e,n);break;case"select":t=n.value,t!=null&&Si(e,!!n.multiple,t,!1)}};Cy=qh;by=Or;var Y_={usingClientEntryPoint:!1,Events:[Ps,hi,Ya,Ny,ky,qh]},_o={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X_={bundleType:_o.bundleType,version:_o.version,rendererPackageName:_o.rendererPackageName,rendererConfig:_o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ry(e),e===null?null:e.stateNode},findFiberByHostInstance:_o.findFiberByHostInstance||Q_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{Ha=yu.inject(X_),nn=yu}catch{}}Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y_;Dt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xh(t))throw Error(C(200));return W_(e,t,null,n)};Dt.createRoot=function(e,t){if(!Xh(e))throw Error(C(299));var n=!1,r="",i=c0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Qh(e,1,!1,null,null,n,!1,r,i),e[wn]=t.current,ts(e.nodeType===8?e.parentNode:e),new Yh(t)};Dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Ry(t),e=e===null?null:e.stateNode,e};Dt.flushSync=function(e){return Or(e)};Dt.hydrate=function(e,t,n){if(!ol(t))throw Error(C(200));return sl(null,e,t,!0,n)};Dt.hydrateRoot=function(e,t,n){if(!Xh(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=c0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=l0(t,null,e,1,n??null,i,!1,o,s),e[wn]=t.current,ts(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new il(t)};Dt.render=function(e,t,n){if(!ol(t))throw Error(C(200));return sl(null,e,t,!1,n)};Dt.unmountComponentAtNode=function(e){if(!ol(e))throw Error(C(40));return e._reactRootContainer?(Or(function(){sl(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1};Dt.unstable_batchedUpdates=qh;Dt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ol(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return sl(e,t,n,!1,r)};Dt.version="18.3.1-next-f1338f8080-20240426";function f0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f0)}catch(e){console.error(e)}}f0(),fy.exports=Dt;var J_=fy.exports,Sm=J_;Rc.createRoot=Sm.createRoot,Rc.hydrateRoot=Sm.hydrateRoot;const Z_=()=>w.jsxs("div",{className:"error-page",children:[w.jsx("h1",{children:"Error: Route not found"}),w.jsx("p",{children:"The page you are looking for does not exist."})]});var Nf=function(e,t){return Nf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Nf(e,t)};function U(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Nf(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var cs=function(){return cs=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},cs.apply(this,arguments)};function x(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(c){try{l(r.next(c))}catch(f){s(f)}}function a(c){try{l(r.throw(c))}catch(f){s(f)}}function l(c){c.done?o(c.value):i(c.value).then(u,a)}l((r=r.apply(e,t||[])).next())})}function T(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(l){return function(c){return a([l,c])}}function a(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function vc(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function gu(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function me(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h0=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},eT=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=e[n++],s=e[n++],u=e[n++],a=((i&7)<<18|(o&63)<<12|(s&63)<<6|u&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{var o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},tT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,u=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=o>>2,f=(o&3)<<4|u>>4,h=(u&15)<<2|l>>6,d=l&63;a||(d=64,s||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(h0(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):eT(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length,u=s?n[e.charAt(i)]:0;++i;var a=i<e.length,l=a?n[e.charAt(i)]:64;++i;var c=i<e.length,f=c?n[e.charAt(i)]:64;if(++i,o==null||u==null||l==null||f==null)throw Error();var h=o<<2|u>>4;if(r.push(h),l!==64){var d=u<<4&240|l>>2;if(r.push(d),f!==64){var v=l<<6&192|f;r.push(v)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},nT=function(e){var t=h0(e);return tT.encodeByteArray(t,!0)},_m=function(e){return nT(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(e){return fs(void 0,e)}function fs(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!iT(r)||(e[r]=fs(e[r],t[r]));return e}function iT(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oT=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=cs({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),u="";return[_m(JSON.stringify(n)),_m(JSON.stringify(s)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lr())}function d0(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aT(){return typeof self=="object"&&self.self===self}function lT(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function cT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fT(){return Lr().indexOf("Electron/")>=0}function hT(){var e=Lr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function dT(){return Lr().indexOf("MSAppHost/")>=0}function pT(){return!d0()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mT="FirebaseError",vT=function(e){U(t,e);function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=mT,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Jh.prototype.create),o}return t}(Error),Jh=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+t,s=this.errors[t],u=s?yT(s,i):"Error",a=this.serviceName+": "+u+" ("+o+").",l=new vT(o,a,i);return l},e}();function yT(e,t){return e.replace(gT,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var gT=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function wT(e,t){var n=new ET(e,t);return n.subscribe.bind(n)}var ET=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ST(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=yc),o.error===void 0&&(o.error=yc),o.complete===void 0&&(o.complete=yc);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch{}}),this.observers.push(o),s},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function ST(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function yc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(e){return e&&e._delegate?e._delegate:e}var ul=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _T=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new oT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(IT(t))try{this.getOrInitializeService({instanceIdentifier:vr})}catch{}try{for(var i=vc(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=gu(o.value,2),u=s[0],a=s[1],l=this.normalizeInstanceIdentifier(u);try{var c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}catch(f){n={error:f}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=vr),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return x(this,void 0,void 0,function(){var t;return T(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(me(me([],gu(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),gu(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=vr),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=vr),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,o=i===void 0?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var a=vc(this.instancesDeferred.entries()),l=a.next();!l.done;l=a.next()){var c=gu(l.value,2),f=c[0],h=c[1],d=this.normalizeInstanceIdentifier(f);s===d&&h.resolve(u)}}catch(v){n={error:v}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return u},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);var s=this.instances.get(i);return s&&t(s,i),function(){o.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,o=this.onInitCallbacks.get(n);if(o)try{for(var s=vc(o),u=s.next();!u.done;u=s.next()){var a=u.value;try{a(t,n)}catch{}}}catch(l){r={error:l}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:TT(n),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch{}return o||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=vr),this.component?this.component.multipleInstances?t:vr:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function TT(e){return e===vr?void 0:e}function IT(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xT=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new _T(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function $t(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr,Zh=[],X;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(X||(X={}));var p0={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},NT=X.INFO,kT=(dr={},dr[X.DEBUG]="log",dr[X.VERBOSE]="log",dr[X.INFO]="info",dr[X.WARN]="warn",dr[X.ERROR]="error",dr),CT=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),o=kT[t];if(o)console[o].apply(console,$t(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},m0=function(){function e(t){this.name=t,this._logLevel=NT,this._logHandler=CT,this._userLogHandler=null,Zh.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in X))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?p0[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,$t([this,X.DEBUG],t)),this._logHandler.apply(this,$t([this,X.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,$t([this,X.VERBOSE],t)),this._logHandler.apply(this,$t([this,X.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,$t([this,X.INFO],t)),this._logHandler.apply(this,$t([this,X.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,$t([this,X.WARN],t)),this._logHandler.apply(this,$t([this,X.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,$t([this,X.ERROR],t)),this._logHandler.apply(this,$t([this,X.ERROR],t))},e}();function bT(e){Zh.forEach(function(t){t.setLogLevel(e)})}function DT(e,t){for(var n=function(s){var u=null;t&&t.level&&(u=p0[t.level]),e===null?s.userLogHandler=null:s.userLogHandler=function(a,l){for(var c=[],f=2;f<arguments.length;f++)c[f-2]=arguments[f];var h=c.map(function(d){if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(function(d){return d}).join(" ");l>=(u??a.logLevel)&&e({level:X[l].toLowerCase(),message:h,args:c,type:a.name})}},r=0,i=Zh;r<i.length;r++){var o=i[r];n(o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn,AT=(Nn={},Nn["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Nn["bad-app-name"]="Illegal App name: '{$appName}",Nn["duplicate-app"]="Firebase App named '{$appName}' already exists",Nn["app-deleted"]="Firebase App named '{$appName}' already deleted",Nn["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Nn["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Nn),ri=new Jh("app","Firebase",AT),v0="@firebase/app",RT="0.6.30",PT="@firebase/analytics",OT="@firebase/app-check",LT="@firebase/auth",jT="@firebase/database",FT="@firebase/functions",MT="@firebase/installations",$T="@firebase/messaging",UT="@firebase/performance",VT="@firebase/remote-config",BT="@firebase/storage",zT="@firebase/firestore",qT="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,va="[DEFAULT]",KT=(qe={},qe[v0]="fire-core",qe[PT]="fire-analytics",qe[OT]="fire-app-check",qe[LT]="fire-auth",qe[jT]="fire-rtdb",qe[FT]="fire-fn",qe[MT]="fire-iid",qe[$T]="fire-fcm",qe[UT]="fire-perf",qe[VT]="fire-rc",qe[BT]="fire-gcs",qe[zT]="fire-fst",qe["fire-js"]="fire-js",qe[qT]="fire-js-all",qe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Li=new m0("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $u=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=rT(t),this.container=new xT(n.name),this._addComponent(new ul("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=va),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=va),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Li.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ri.create("app-deleted",{appName:this.name_})},e}();$u.prototype.name&&$u.prototype.options||$u.prototype.delete||console.log("dc");var HT="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(e){var t={},n=new Map,r={__esModule:!0,initializeApp:s,app:o,registerVersion:l,setLogLevel:bT,onLog:c,apps:null,SDK_VERSION:HT,INTERNAL:{registerComponent:a,removeApp:i,components:n,useAsService:f}};r.default=r,Object.defineProperty(r,"apps",{get:u});function i(h){delete t[h]}function o(h){if(h=h||va,!Tm(t,h))throw ri.create("no-app",{appName:h});return t[h]}o.App=e;function s(h,d){if(d===void 0&&(d={}),typeof d!="object"||d===null){var v=d;d={name:v}}var y=d;y.name===void 0&&(y.name=va);var E=y.name;if(typeof E!="string"||!E)throw ri.create("bad-app-name",{appName:String(E)});if(Tm(t,E))throw ri.create("duplicate-app",{appName:E});var m=new e(h,y,r);return t[E]=m,m}function u(){return Object.keys(t).map(function(h){return t[h]})}function a(h){var d=h.name;if(n.has(d))return Li.debug("There were multiple attempts to register component "+d+"."),h.type==="PUBLIC"?r[d]:null;if(n.set(d,h),h.type==="PUBLIC"){var v=function(p){if(p===void 0&&(p=o()),typeof p[d]!="function")throw ri.create("invalid-app-argument",{appName:d});return p[d]()};h.serviceProps!==void 0&&fs(v,h.serviceProps),r[d]=v,e.prototype[d]=function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];var S=this._getService.bind(this,d);return S.apply(this,h.multipleInstances?p:[])}}for(var y=0,E=Object.keys(t);y<E.length;y++){var m=E[y];t[m]._addComponent(h)}return h.type==="PUBLIC"?r[d]:null}function l(h,d,v){var y,E=(y=KT[h])!==null&&y!==void 0?y:h;v&&(E+="-"+v);var m=E.match(/\s|\//),p=d.match(/\s|\//);if(m||p){var g=['Unable to register library "'+E+'" with version "'+d+'":'];m&&g.push('library name "'+E+'" contains illegal characters (whitespace or "/")'),m&&p&&g.push("and"),p&&g.push('version name "'+d+'" contains illegal characters (whitespace or "/")'),Li.warn(g.join(" "));return}a(new ul(E+"-version",function(){return{library:E,version:d}},"VERSION"))}function c(h,d){if(h!==null&&typeof h!="function")throw ri.create("invalid-log-argument");DT(h,d)}function f(h,d){if(d==="serverAuth")return null;var v=d;return v}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(){var e=WT($u);e.INTERNAL=cs(cs({},e.INTERNAL),{createFirebaseNamespace:y0,extendNamespace:t,createSubscribe:wT,ErrorFactory:Jh,deepExtend:fs});function t(n){fs(e,n)}return e}var ed=y0();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QT=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(GT(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function GT(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(e,t){e.INTERNAL.registerComponent(new ul("platform-logger",function(n){return new QT(n)},"PRIVATE")),e.registerVersion(v0,RT,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(aT()&&self.firebase!==void 0){Li.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var Im=self.firebase.SDK_VERSION;Im&&Im.indexOf("LITE")>=0&&Li.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var XT=ed.initializeApp;ed.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return d0()&&Li.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),XT.apply(void 0,e)};var no=ed;YT(no);var JT="firebase",g0="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */no.registerVersion(JT,g0,"app");no.SDK_VERSION=g0;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kf=function(e,t){return kf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},kf(e,t)};function ZT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");kf(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function w0(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var eI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L,td=td||{},B=eI||self;function ya(){}function Cf(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function al(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function tI(e){return Object.prototype.hasOwnProperty.call(e,gc)&&e[gc]||(e[gc]=++nI)}var gc="closure_uid_"+(1e9*Math.random()>>>0),nI=0;function rI(e,t,n){return e.call.apply(e.bind,arguments)}function iI(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Me(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Me=rI:Me=iI,Me.apply(null,arguments)}function wu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Ve(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,o){for(var s=Array(arguments.length-2),u=2;u<arguments.length;u++)s[u-2]=arguments[u];return t.prototype[i].apply(r,s)}}function or(){this.s=this.s,this.o=this.o}var oI=0;or.prototype.s=!1;or.prototype.na=function(){!this.s&&(this.s=!0,this.M(),oI!=0)&&tI(this)};or.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var E0=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},S0=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function sI(e){e:{for(var t=JI,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function xm(e){return Array.prototype.concat.apply([],arguments)}function nd(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ga(e){return/^[\s\xa0]*$/.test(e)}var Nm=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function tt(e,t){return e.indexOf(t)!=-1}function wc(e,t){return e<t?-1:e>t?1:0}var nt;e:{var km=B.navigator;if(km){var Cm=km.userAgent;if(Cm){nt=Cm;break e}}nt=""}function rd(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function _0(e){var t={};for(var n in e)t[n]=e[n];return t}var bm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T0(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<bm.length;o++)n=bm[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function id(e){return id[" "](e),e}id[" "]=ya;function uI(e){var t=cI;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var aI=tt(nt,"Opera"),ji=tt(nt,"Trident")||tt(nt,"MSIE"),I0=tt(nt,"Edge"),bf=I0||ji,x0=tt(nt,"Gecko")&&!(tt(nt.toLowerCase(),"webkit")&&!tt(nt,"Edge"))&&!(tt(nt,"Trident")||tt(nt,"MSIE"))&&!tt(nt,"Edge"),lI=tt(nt.toLowerCase(),"webkit")&&!tt(nt,"Edge");function N0(){var e=B.document;return e?e.documentMode:void 0}var wa;e:{var Ec="",Sc=function(){var e=nt;if(x0)return/rv:([^\);]+)(\)|;)/.exec(e);if(I0)return/Edge\/([\d\.]+)/.exec(e);if(ji)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(lI)return/WebKit\/(\S+)/.exec(e);if(aI)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Sc&&(Ec=Sc?Sc[1]:""),ji){var _c=N0();if(_c!=null&&_c>parseFloat(Ec)){wa=String(_c);break e}}wa=Ec}var cI={};function fI(){return uI(function(){for(var e=0,t=Nm(String(wa)).split("."),n=Nm("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var o=t[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o[0].length==0&&s[0].length==0)break;e=wc(o[1].length==0?0:parseInt(o[1],10),s[1].length==0?0:parseInt(s[1],10))||wc(o[2].length==0,s[2].length==0)||wc(o[2],s[2]),o=o[3],s=s[3]}while(e==0)}return 0<=e})}var Df;if(B.document&&ji){var Dm=N0();Df=Dm||parseInt(wa,10)||void 0}else Df=void 0;var hI=Df,dI=function(){if(!B.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{B.addEventListener("test",ya,t),B.removeEventListener("test",ya,t)}catch{}return e}();function Ge(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ge.prototype.h=function(){this.defaultPrevented=!0};function hs(e,t){if(Ge.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(x0){e:{try{id(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:pI[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&hs.Z.h.call(this)}}Ve(hs,Ge);var pI={2:"touch",3:"pen",4:"mouse"};hs.prototype.h=function(){hs.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ll="closure_listenable_"+(1e6*Math.random()|0),mI=0;function vI(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++mI,this.ca=this.fa=!1}function cl(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function fl(e){this.src=e,this.g={},this.h=0}fl.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var s=Rf(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):(t=new vI(t,this.src,o,!!r,i),t.fa=n,e.push(t)),t};function Af(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=E0(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(cl(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Rf(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}var od="closure_lm_"+(1e6*Math.random()|0),Tc={};function k0(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)k0(e,t[o],n,r,i);return null}return n=D0(n),e&&e[ll]?e.N(t,n,al(r)?!!r.capture:!!r,i):yI(e,t,n,!1,r,i)}function yI(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=al(i)?!!i.capture:!!i,u=ud(e);if(u||(e[od]=u=new fl(e)),n=u.add(t,n,r,s,o),n.proxy)return n;if(r=gI(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)dI||(i=s),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(b0(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function gI(){function e(n){return t.call(e.src,e.listener,n)}var t=wI;return e}function C0(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)C0(e,t[o],n,r,i);else r=al(r)?!!r.capture:!!r,n=D0(n),e&&e[ll]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=Rf(o,n,r,i),-1<n&&(cl(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=ud(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Rf(t,n,r,i)),(n=-1<e?t[e]:null)&&sd(n))}function sd(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[ll])Af(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(b0(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ud(t))?(Af(n,e),n.h==0&&(n.src=null,t[od]=null)):cl(e)}}}function b0(e){return e in Tc?Tc[e]:Tc[e]="on"+e}function wI(e,t){if(e.ca)e=!0;else{t=new hs(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&sd(e),e=n.call(r,t)}return e}function ud(e){return e=e[od],e instanceof fl?e:null}var Ic="__closure_events_fn_"+(1e9*Math.random()>>>0);function D0(e){return typeof e=="function"?e:(e[Ic]||(e[Ic]=function(t){return e.handleEvent(t)}),e[Ic])}function Pe(){or.call(this),this.i=new fl(this),this.P=this,this.I=null}Ve(Pe,or);Pe.prototype[ll]=!0;Pe.prototype.removeEventListener=function(e,t,n,r){C0(this,e,t,n,r)};function $e(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new Ge(t,e);else if(t instanceof Ge)t.target=t.target||e;else{var i=t;t=new Ge(r,e),T0(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Eu(s,r,!0,t)&&i}if(s=t.g=e,i=Eu(s,r,!0,t)&&i,i=Eu(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=Eu(s,r,!1,t)&&i}Pe.prototype.M=function(){if(Pe.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)cl(n[r]);delete e.g[t],e.h--}}this.I=null};Pe.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Pe.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Eu(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ca&&s.capture==n){var u=s.listener,a=s.ia||s.src;s.fa&&Af(e.i,s),i=u.call(a,r)!==!1&&i}}return i&&!r.defaultPrevented}var ad=B.JSON.stringify;function EI(){var e=R0,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var SI=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=A0.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),A0=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new _I},function(e){return e.reset()}),_I=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function TI(e){B.setTimeout(function(){throw e},0)}function ld(e,t){Pf||II(),Of||(Pf(),Of=!0),R0.add(e,t)}var Pf;function II(){var e=B.Promise.resolve(void 0);Pf=function(){e.then(xI)}}var Of=!1,R0=new SI;function xI(){for(var e;e=EI();){try{e.h.call(e.g)}catch(n){TI(n)}var t=A0;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Of=!1}function hl(e,t){Pe.call(this),this.h=e||1,this.g=t||B,this.j=Me(this.kb,this),this.l=Date.now()}Ve(hl,Pe);L=hl.prototype;L.da=!1;L.S=null;L.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),$e(this,"tick"),this.da&&(cd(this),this.start()))}};L.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function cd(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}L.M=function(){hl.Z.M.call(this),cd(this),delete this.g};function fd(e,t,n){if(typeof e=="function")n&&(e=Me(e,n));else if(e&&typeof e.handleEvent=="function")e=Me(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:B.setTimeout(e,t||0)}function P0(e){e.g=fd(function(){e.g=null,e.i&&(e.i=!1,P0(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var NI=function(e){ZT(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:P0(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(B.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(or);function ds(e){or.call(this),this.h=e,this.g={}}Ve(ds,or);var Am=[];function O0(e,t,n,r){Array.isArray(n)||(n&&(Am[0]=n.toString()),n=Am);for(var i=0;i<n.length;i++){var o=k0(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function L0(e){rd(e.g,function(t,n){this.g.hasOwnProperty(n)&&sd(t)},e),e.g={}}ds.prototype.M=function(){ds.Z.M.call(this),L0(this)};ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function dl(){this.g=!0}dl.prototype.Aa=function(){this.g=!1};function kI(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var l=u[a].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");s=2<=f.length&&f[1]=="type"?s+(c+"="+l+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+s})}function CI(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+s})}function wi(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+DI(e,n)+(r?" "+r:"")})}function bI(e,t){e.info(function(){return"TIMEOUT: "+t})}dl.prototype.info=function(){};function DI(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return ad(n)}catch{return t}}var Kr={},Rm=null;function pl(){return Rm=Rm||new Pe}Kr.Ma="serverreachability";function j0(e){Ge.call(this,Kr.Ma,e)}Ve(j0,Ge);function ps(e){var t=pl();$e(t,new j0(t))}Kr.STAT_EVENT="statevent";function F0(e,t){Ge.call(this,Kr.STAT_EVENT,e),this.stat=t}Ve(F0,Ge);function rt(e){var t=pl();$e(t,new F0(t,e))}Kr.Na="timingevent";function M0(e,t){Ge.call(this,Kr.Na,e),this.size=t}Ve(M0,Ge);function Ls(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return B.setTimeout(function(){e()},t)}var ml={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},$0={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function hd(){}hd.prototype.h=null;function Pm(e){return e.h||(e.h=e.i())}function U0(){}var js={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dd(){Ge.call(this,"d")}Ve(dd,Ge);function pd(){Ge.call(this,"c")}Ve(pd,Ge);var Lf;function vl(){}Ve(vl,hd);vl.prototype.g=function(){return new XMLHttpRequest};vl.prototype.i=function(){return{}};Lf=new vl;function Fs(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new ds(this),this.P=AI,e=bf?125:void 0,this.W=new hl(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new V0}function V0(){this.i=null,this.g="",this.h=!1}var AI=45e3,jf={},Ea={};L=Fs.prototype;L.setTimeout=function(e){this.P=e};function Ff(e,t,n){e.K=1,e.v=gl(_n(t)),e.s=n,e.U=!0,B0(e,null)}function B0(e,t){e.F=Date.now(),Ms(e),e.A=_n(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),G0(n.h,"t",r),e.C=0,n=e.l.H,e.h=new V0,e.g=mw(e.l,n?t:null,!e.s),0<e.O&&(e.L=new NI(Me(e.Ia,e,e.g),e.O)),O0(e.V,e.g,"readystatechange",e.gb),t=e.H?_0(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ps(),kI(e.j,e.u,e.A,e.m,e.X,e.s)}L.gb=function(e){e=e.target;var t=this.L;t&&hn(e)==3?t.l():this.Ia(e)};L.Ia=function(e){try{if(e==this.g)e:{var t=hn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||bf||this.g&&(this.h.h||this.g.ga()||Fm(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?ps(3):ps(2)),yl(this);var i=this.g.ba();this.N=i;t:if(z0(this)){var o=Fm(this.g);e="";var s=o.length,u=hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sr(this),Vo(this);var a="";break t}this.h.i=new B.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:u&&n==s-1});o.splice(0,s),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=i==200,CI(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ga(l)){var f=l;break t}}f=null}if(i=f)wi(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mf(this,i);else{this.i=!1,this.o=3,rt(12),Sr(this),Vo(this);break e}}this.U?(q0(this,t,a),bf&&this.i&&t==3&&(O0(this.V,this.W,"tick",this.fb),this.W.start())):(wi(this.j,this.m,a,null),Mf(this,a)),t==4&&Sr(this),this.i&&!this.I&&(t==4?fw(this.l,this):(this.i=!1,Ms(this)))}else i==400&&0<a.indexOf("Unknown SID")?(this.o=3,rt(12)):(this.o=0,rt(13)),Sr(this),Vo(this)}}}catch{}finally{}};function z0(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function q0(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=RI(e,n),i==Ea){t==4&&(e.o=4,rt(14),r=!1),wi(e.j,e.m,null,"[Incomplete Response]");break}else if(i==jf){e.o=4,rt(15),wi(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else wi(e.j,e.m,i,null),Mf(e,i);z0(e)&&i!=Ea&&i!=jf&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,rt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Td(t),t.L=!0,rt(11))):(wi(e.j,e.m,n,"[Invalid Chunked Response]"),Sr(e),Vo(e))}L.fb=function(){if(this.g){var e=hn(this.g),t=this.g.ga();this.C<t.length&&(yl(this),q0(this,e,t),this.i&&e!=4&&Ms(this))}};function RI(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Ea:(n=Number(t.substring(n,r)),isNaN(n)?jf:(r+=1,r+n>t.length?Ea:(t=t.substr(r,n),e.C=r+n,t)))}L.cancel=function(){this.I=!0,Sr(this)};function Ms(e){e.Y=Date.now()+e.P,K0(e,e.P)}function K0(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Ls(Me(e.eb,e),t)}function yl(e){e.B&&(B.clearTimeout(e.B),e.B=null)}L.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(bI(this.j,this.A),this.K!=2&&(ps(),rt(17)),Sr(this),this.o=2,Vo(this)):K0(this,this.Y-e)};function Vo(e){e.l.G==0||e.I||fw(e.l,e)}function Sr(e){yl(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,cd(e.W),L0(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Mf(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||$f(n.i,e))){if(n.I=e.N,!e.J&&$f(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Ia(n),Sl(n);else break e;_d(n),rt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Ls(Me(n.ab,n),6e3));if(1>=J0(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else _r(n,11)}else if((e.J||n.g==e)&&Ia(n),!ga(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],n.G==2)if(o[0]=="c"){n.J=o[1],n.la=o[2];var s=o[3];s!=null&&(n.ma=s,n.h.info("VER="+n.ma));var u=o[4];u!=null&&(n.za=u,n.h.info("SVER="+n.za));var a=o[5];a!=null&&typeof a=="number"&&0<a&&(r=1.5*a,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;!f.g&&(tt(c,"spdy")||tt(c,"quic")||tt(c,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(yd(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,ae(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var d=e;if(r.oa=pw(r,r.H?r.la:null,r.W),d.J){Z0(r.i,d);var v=d,y=r.K;y&&v.setTimeout(y),v.B&&(yl(v),Ms(v)),r.g=d}else lw(r);0<n.l.length&&_l(n)}else o[0]!="stop"&&o[0]!="close"||_r(n,7);else n.G==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?_r(n,7):Sd(n):o[0]!="noop"&&n.j&&n.j.wa(o),n.A=0)}}ps(4)}catch{}}function PI(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(Cf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function md(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Cf(e)||typeof e=="string")S0(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(Cf(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=PI(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function ro(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ro)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}L=ro.prototype;L.R=function(){vd(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};L.T=function(){return vd(this),this.g.concat()};function vd(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];jr(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],jr(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}L.get=function(e,t){return jr(this.h,e)?this.h[e]:t};L.set=function(e,t){jr(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};L.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};function jr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var H0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function OI(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Fr(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Fr){this.g=t!==void 0?t:e.g,Sa(this,e.j),this.s=e.s,_a(this,e.i),Ta(this,e.m),this.l=e.l,t=e.h;var n=new ms;n.i=t.i,t.g&&(n.g=new ro(t.g),n.h=t.h),Om(this,n),this.o=e.o}else e&&(n=String(e).match(H0))?(this.g=!!t,Sa(this,n[1]||"",!0),this.s=Bo(n[2]||""),_a(this,n[3]||"",!0),Ta(this,n[4]),this.l=Bo(n[5]||"",!0),Om(this,n[6]||"",!0),this.o=Bo(n[7]||"")):(this.g=!!t,this.h=new ms(null,this.g))}Fr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bo(t,Lm,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(bo(t,Lm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(bo(n,n.charAt(0)=="/"?$I:MI,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",bo(n,VI)),e.join("")};function _n(e){return new Fr(e)}function Sa(e,t,n){e.j=n?Bo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function _a(e,t,n){e.i=n?Bo(t,!0):t}function Ta(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Om(e,t,n){t instanceof ms?(e.h=t,BI(e.h,e.g)):(n||(t=bo(t,UI)),e.h=new ms(t,e.g))}function ae(e,t,n){e.h.set(t,n)}function gl(e){return ae(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function LI(e){return e instanceof Fr?_n(e):new Fr(e,void 0)}function jI(e,t,n,r){var i=new Fr(null,void 0);return e&&Sa(i,e),t&&_a(i,t),n&&Ta(i,n),r&&(i.l=r),i}function Bo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bo(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,FI),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function FI(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Lm=/[#\/\?@]/g,MI=/[#\?:]/g,$I=/[#\?]/g,UI=/[#\?@]/g,VI=/#/g;function ms(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function sr(e){e.g||(e.g=new ro,e.h=0,e.i&&OI(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}L=ms.prototype;L.add=function(e,t){sr(this),this.i=null,e=io(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function W0(e,t){sr(e),t=io(e,t),jr(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,jr(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&vd(e)))}function Q0(e,t){return sr(e),t=io(e,t),jr(e.g.h,t)}L.forEach=function(e,t){sr(this),this.g.forEach(function(n,r){S0(n,function(i){e.call(t,i,r,this)},this)},this)};L.T=function(){sr(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n};L.R=function(e){sr(this);var t=[];if(typeof e=="string")Q0(this,e)&&(t=xm(t,this.g.get(io(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=xm(t,e[n])}return t};L.set=function(e,t){return sr(this),this.i=null,e=io(this,e),Q0(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};L.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function G0(e,t,n){W0(e,t),0<n.length&&(e.i=null,e.g.set(io(e,t),nd(n)),e.h+=n.length)}L.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;r[o]!==""&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.i=e.join("&")};function io(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function BI(e,t){t&&!e.j&&(sr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(W0(this,r),G0(this,i,n))},e)),e.j=t}var zI=function(){function e(t,n){this.h=t,this.g=n}return e}();function Y0(e){this.l=e||qI,B.PerformanceNavigationTiming?(e=B.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(B.g&&B.g.Ea&&B.g.Ea()&&B.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var qI=10;function X0(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function J0(e){return e.h?1:e.g?e.g.size:0}function $f(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function yd(e,t){e.g?e.g.add(t):e.h=t}function Z0(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Y0.prototype.cancel=function(){var e,t;if(this.i=ew(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=w0(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function ew(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=w0(e.g.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.D)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return nd(e.i)}function gd(){}gd.prototype.stringify=function(e){return B.JSON.stringify(e,void 0)};gd.prototype.parse=function(e){return B.JSON.parse(e,void 0)};function KI(){this.g=new gd}function HI(e,t,n){var r=n||"";try{md(e,function(i,o){var s=i;al(i)&&(s=ad(i)),t.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function WI(e,t){var n=new dl;if(B.Image){var r=new Image;r.onload=wu(Su,n,r,"TestLoadImage: loaded",!0,t),r.onerror=wu(Su,n,r,"TestLoadImage: error",!1,t),r.onabort=wu(Su,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=wu(Su,n,r,"TestLoadImage: timeout",!1,t),B.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Su(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function $s(e){this.l=e.$b||null,this.j=e.ib||!1}Ve($s,hd);$s.prototype.g=function(){return new wl(this.l,this.j)};$s.prototype.i=function(e){return function(){return e}}({});function wl(e,t){Pe.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=wd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ve(wl,Pe);var wd=0;L=wl.prototype;L.open=function(e,t){if(this.readyState!=wd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,vs(this)};L.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||B).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Us(this)),this.readyState=wd};L.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof B.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tw(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function tw(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}L.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Us(this):vs(this),this.readyState==3&&tw(this)}};L.Ua=function(e){this.g&&(this.response=this.responseText=e,Us(this))};L.Ta=function(e){this.g&&(this.response=e,Us(this))};L.ha=function(){this.g&&Us(this)};function Us(e){e.readyState=4,e.l=null,e.j=null,e.A=null,vs(e)}L.setRequestHeader=function(e,t){this.v.append(e,t)};L.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};L.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function vs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(wl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var QI=B.JSON.parse;function Ie(e){Pe.call(this),this.headers=new ro,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=nw,this.K=this.L=!1}Ve(Ie,Pe);var nw="",GI=/^https?$/i,YI=["POST","PUT"];L=Ie.prototype;L.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Lf.g(),this.C=this.u?Pm(this.u):Pm(Lf),this.g.onreadystatechange=Me(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){jm(this,o);return}e=n||"";var i=new ro(this.headers);r&&md(r,function(o,s){i.set(s,o)}),r=sI(i.T()),n=B.FormData&&e instanceof B.FormData,!(0<=E0(YI,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,s){this.g.setRequestHeader(s,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ow(this),0<this.B&&((this.K=XI(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Me(this.pa,this)):this.A=fd(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){jm(this,o)}};function XI(e){return ji&&fI()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function JI(e){return e.toLowerCase()=="content-type"}L.pa=function(){typeof td<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$e(this,"timeout"),this.abort(8))};function jm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,rw(e),El(e)}function rw(e){e.D||(e.D=!0,$e(e,"complete"),$e(e,"error"))}L.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,$e(this,"complete"),$e(this,"abort"),El(this))};L.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),El(this,!0)),Ie.Z.M.call(this)};L.Fa=function(){this.s||(this.F||this.v||this.l?iw(this):this.cb())};L.cb=function(){iw(this)};function iw(e){if(e.h&&typeof td<"u"&&(!e.C[1]||hn(e)!=4||e.ba()!=2)){if(e.v&&hn(e)==4)fd(e.Fa,0,e);else if($e(e,"readystatechange"),hn(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var o=String(e.H).match(H0)[1]||null;if(!o&&B.self&&B.self.location){var s=B.self.location.protocol;o=s.substr(0,s.length-1)}i=!GI.test(o?o.toLowerCase():"")}r=i}if(r)$e(e,"complete"),$e(e,"success");else{e.m=6;try{var u=2<hn(e)?e.g.statusText:""}catch{u=""}e.j=u+" ["+e.ba()+"]",rw(e)}}finally{El(e)}}}}function El(e,t){if(e.g){ow(e);var n=e.g,r=e.C[0]?ya:null;e.g=null,e.C=null,t||$e(e,"ready");try{n.onreadystatechange=r}catch{}}}function ow(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(B.clearTimeout(e.A),e.A=null)}function hn(e){return e.g?e.g.readyState:0}L.ba=function(){try{return 2<hn(this)?this.g.status:-1}catch{return-1}};L.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};L.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),QI(t)}};function Fm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case nw:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}L.Da=function(){return this.m};L.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function ZI(e){var t="";return rd(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Ed(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ZI(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ae(e,t,n))}function To(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function sw(e){this.za=0,this.l=[],this.h=new dl,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=To("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=To("baseRetryDelayMs",5e3,e),this.$a=To("retryDelaySeedMs",1e4,e),this.Ya=To("forwardChannelMaxRetries",2,e),this.ra=To("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Y0(e&&e.concurrentRequestLimit),this.Ca=new KI,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}L=sw.prototype;L.ma=8;L.G=1;function Sd(e){if(uw(e),e.G==3){var t=e.V++,n=_n(e.F);ae(n,"SID",e.J),ae(n,"RID",t),ae(n,"TYPE","terminate"),Vs(e,n),t=new Fs(e,e.h,t,void 0),t.K=2,t.v=gl(_n(n)),n=!1,B.navigator&&B.navigator.sendBeacon&&(n=B.navigator.sendBeacon(t.v.toString(),"")),!n&&B.Image&&(new Image().src=t.v,n=!0),n||(t.g=mw(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ms(t)}dw(e)}L.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Sl(e){e.g&&(Td(e),e.g.cancel(),e.g=null)}function uw(e){Sl(e),e.u&&(B.clearTimeout(e.u),e.u=null),Ia(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&B.clearTimeout(e.m),e.m=null)}function xc(e,t){e.l.push(new zI(e.Za++,t)),e.G==3&&_l(e)}function _l(e){X0(e.i)||e.m||(e.m=!0,ld(e.Ha,e),e.C=0)}function ex(e,t){return J0(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Ls(Me(e.Ha,e,t),hw(e,e.C)),e.C++,!0)}L.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Fs(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=_0(n),T0(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var o=this.l[i];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=aw(this,t,r),i=_n(this.F),ae(i,"RID",e),ae(i,"CVER",22),this.D&&ae(i,"X-HTTP-Session-Id",this.D),Vs(this,i),this.o&&n&&Ed(i,this.o,n),yd(this.i,t),this.Ra&&ae(i,"TYPE","init"),this.ja?(ae(i,"$req",r),ae(i,"SID","null"),t.$=!0,Ff(t,i,null)):Ff(t,i,r),this.G=2}}else this.G==3&&(e?Mm(this,e):this.l.length==0||X0(this.i)||Mm(this))};function Mm(e,t){var n;t?n=t.m:n=e.V++;var r=_n(e.F);ae(r,"SID",e.J),ae(r,"RID",n),ae(r,"AID",e.U),Vs(e,r),e.o&&e.s&&Ed(r,e.o,e.s),n=new Fs(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=aw(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),yd(e.i,n),Ff(n,r,t)}function Vs(e,t){e.j&&md({},function(n,r){ae(t,r,n)})}function aw(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Me(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var s=["count="+n];o==-1?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var l=i[a].h,c=i[a].g;if(l-=o,0>l)o=Math.max(0,i[a].h-100),u=!1;else try{HI(c,s,"req"+l+"_")}catch{r&&r(c)}}if(u){r=s.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function lw(e){e.g||e.u||(e.Y=1,ld(e.Ga,e),e.A=0)}function _d(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Ls(Me(e.Ga,e),hw(e,e.A)),e.A++,!0)}L.Ga=function(){if(this.u=null,cw(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ls(Me(this.bb,this),e)}};L.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,rt(10),Sl(this),cw(this))};function Td(e){e.B!=null&&(B.clearTimeout(e.B),e.B=null)}function cw(e){e.g=new Fs(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=_n(e.oa);ae(t,"RID","rpc"),ae(t,"SID",e.J),ae(t,"CI",e.N?"0":"1"),ae(t,"AID",e.U),Vs(e,t),ae(t,"TYPE","xmlhttp"),e.o&&e.s&&Ed(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=gl(_n(t)),n.s=null,n.U=!0,B0(n,e)}L.ab=function(){this.v!=null&&(this.v=null,Sl(this),_d(this),rt(19))};function Ia(e){e.v!=null&&(B.clearTimeout(e.v),e.v=null)}function fw(e,t){var n=null;if(e.g==t){Ia(e),Td(e),e.g=null;var r=2}else if($f(e.i,t))n=t.D,Z0(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=pl(),$e(r,new M0(r,n)),_l(e)}else lw(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&ex(e,t)||r==2&&_d(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:_r(e,5);break;case 4:_r(e,10);break;case 3:_r(e,6);break;default:_r(e,2)}}}function hw(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function _r(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=Me(e.jb,e);n||(n=new Fr("//www.google.com/images/cleardot.gif"),B.location&&B.location.protocol=="http"||Sa(n,"https"),gl(n)),WI(n.toString(),r)}else rt(2);e.G=0,e.j&&e.j.va(t),dw(e),uw(e)}L.jb=function(e){e?(this.h.info("Successfully pinged google.com"),rt(2)):(this.h.info("Failed to ping google.com"),rt(1))};function dw(e){e.G=0,e.I=-1,e.j&&((ew(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,nd(e.l),e.l.length=0),e.j.ua())}function pw(e,t,n){var r=LI(n);if(r.i!="")t&&_a(r,t+"."+r.i),Ta(r,r.m);else{var i=B.location;r=jI(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&rd(e.aa,function(o,s){ae(r,s,o)}),t=e.D,n=e.sa,t&&n&&ae(r,t,n),ae(r,"VER",e.ma),Vs(e,r),r}function mw(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Ie(new $s({ib:!0})):new Ie(e.qa),t.L=e.H,t}function vw(){}L=vw.prototype;L.xa=function(){};L.wa=function(){};L.va=function(){};L.ua=function(){};L.Oa=function(){};function xa(){if(ji&&!(10<=Number(hI)))throw Error("Environmental error: no available transport.")}xa.prototype.g=function(e,t){return new bt(e,t)};function bt(e,t){Pe.call(this),this.g=new sw(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ga(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ga(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new oo(this)}Ve(bt,Pe);bt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),ld(Me(e.hb,e,t))),rt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=pw(e,null,e.W),_l(e)};bt.prototype.close=function(){Sd(this.g)};bt.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,xc(this.g,t)}else this.v?(t={},t.__data__=ad(e),xc(this.g,t)):xc(this.g,e)};bt.prototype.M=function(){this.g.j=null,delete this.j,Sd(this.g),delete this.g,bt.Z.M.call(this)};function yw(e){dd.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ve(yw,dd);function gw(){pd.call(this),this.status=1}Ve(gw,pd);function oo(e){this.g=e}Ve(oo,vw);oo.prototype.xa=function(){$e(this.g,"a")};oo.prototype.wa=function(e){$e(this.g,new yw(e))};oo.prototype.va=function(e){$e(this.g,new gw)};oo.prototype.ua=function(){$e(this.g,"b")};xa.prototype.createWebChannel=xa.prototype.g;bt.prototype.send=bt.prototype.u;bt.prototype.open=bt.prototype.m;bt.prototype.close=bt.prototype.close;ml.NO_ERROR=0;ml.TIMEOUT=8;ml.HTTP_ERROR=6;$0.COMPLETE="complete";U0.EventType=js;js.OPEN="a";js.CLOSE="b";js.ERROR="c";js.MESSAGE="d";Pe.prototype.listen=Pe.prototype.N;Ie.prototype.listenOnce=Ie.prototype.O;Ie.prototype.getLastError=Ie.prototype.La;Ie.prototype.getLastErrorCode=Ie.prototype.Da;Ie.prototype.getStatus=Ie.prototype.ba;Ie.prototype.getResponseJson=Ie.prototype.Qa;Ie.prototype.getResponseText=Ie.prototype.ga;Ie.prototype.send=Ie.prototype.ea;var tx=function(){return new xa},nx=function(){return pl()},Nc=ml,rx=$0,ix=Kr,$m={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ox=$s,_u=U0,sx=Ie,ux={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();It.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},N=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return U(t,e),t}(Error),Ht=new m0("@firebase/firestore");function Uf(){return Ht.logLevel}function D(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ht.logLevel<=X.DEBUG){var r=t.map(Id);Ht.debug.apply(Ht,me(["Firestore (8.10.1): "+e],r))}}function Se(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ht.logLevel<=X.ERROR){var r=t.map(Id);Ht.error.apply(Ht,me(["Firestore (8.10.1): "+e],r))}}function Na(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ht.logLevel<=X.WARN){var r=t.map(Id);Ht.warn.apply(Ht,me(["Firestore (8.10.1): "+e],r))}}function Id(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Se(t),new Error(t)}function V(e,t){e||F()}function P(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ww=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=ax(40),o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length));return r},e}();function Q(e,t){return e<t?-1:e>t?1:0}function Fi(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function Ew(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new N(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new N(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new N(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new N(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Q(this.nanoseconds,t.nanoseconds):Q(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),H=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new mt(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Hr(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Sw(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _w=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&F(),r===void 0?r=t.length-n:r>t.length-n&&F(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var o=t.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),J=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],o=0,s=n;o<s.length;o++){var u=s[o];if(u.indexOf("//")>=0)throw new N(_.INVALID_ARGUMENT,"Invalid segment ("+u+"). Paths must not contain // in them.");i.push.apply(i,u.split("/").filter(function(a){return a.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(_w),lx=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yt=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return lx.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",o=0,s=function(){if(i.length===0)throw new N(_.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},u=!1;o<n.length;){var a=n[o];if(a==="\\"){if(o+1===n.length)throw new N(_.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var l=n[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new N(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=l,o+=2}else a==="`"?(u=!u,o++):a!=="."||u?(i+=a,o++):(s(),o++)}if(s(),u)throw new N(_.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(_w),Mi=function(){function e(t){this.fields=t,t.sort(Yt.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Fi(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),vt=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Q(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();vt.EMPTY_BYTE_STRING=new vt("");var cx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(e){if(V(!!e),typeof e=="string"){var t=0,n=cx.exec(e);if(V(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:we(e.seconds),nanos:we(e.nanos)}}function we(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function $i(e){return typeof e=="string"?vt.fromBase64String(e):vt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Tw(e){var t=e.mapValue.fields.__previous_value__;return xd(t)?Tw(t):t}function ys(e){var t=er(e.mapValue.fields.__local_write_time__.timestampValue);return new mt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(e){return e==null}function ka(e){return e===0&&1/e==-1/0}function Iw(e){return typeof e=="number"&&Number.isInteger(e)&&!ka(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(J.fromString(t))},e.fromName=function(t){return new e(J.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&J.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return J.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new J(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xd(e)?4:10:F()}function sn(e,t){var n=Mr(e);if(n!==Mr(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ys(e).isEqual(ys(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=er(r.timestampValue),s=er(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return $i(r.bytesValue).isEqual($i(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return we(r.geoPointValue.latitude)===we(i.geoPointValue.latitude)&&we(r.geoPointValue.longitude)===we(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return we(r.integerValue)===we(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=we(r.doubleValue),s=we(i.doubleValue);return o===s?ka(o)===ka(s):isNaN(o)&&isNaN(s)}return!1}(e,t);case 9:return Fi(e.arrayValue.values||[],t.arrayValue.values||[],sn);case 10:return function(r,i){var o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(Um(o)!==Um(s))return!1;for(var u in o)if(o.hasOwnProperty(u)&&(s[u]===void 0||!sn(o[u],s[u])))return!1;return!0}(e,t);default:return F()}}function gs(e,t){return(e.values||[]).find(function(n){return sn(n,t)})!==void 0}function Ui(e,t){var n=Mr(e),r=Mr(t);if(n!==r)return Q(n,r);switch(n){case 0:return 0;case 1:return Q(e.booleanValue,t.booleanValue);case 2:return function(i,o){var s=we(i.integerValue||i.doubleValue),u=we(o.integerValue||o.doubleValue);return s<u?-1:s>u?1:s===u?0:isNaN(s)?isNaN(u)?0:-1:1}(e,t);case 3:return Vm(e.timestampValue,t.timestampValue);case 4:return Vm(ys(e),ys(t));case 5:return Q(e.stringValue,t.stringValue);case 6:return function(i,o){var s=$i(i),u=$i(o);return s.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){for(var s=i.split("/"),u=o.split("/"),a=0;a<s.length&&a<u.length;a++){var l=Q(s[a],u[a]);if(l!==0)return l}return Q(s.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){var s=Q(we(i.latitude),we(o.latitude));return s!==0?s:Q(we(i.longitude),we(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){for(var s=i.values||[],u=o.values||[],a=0;a<s.length&&a<u.length;++a){var l=Ui(s[a],u[a]);if(l)return l}return Q(s.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){var s=i.fields||{},u=Object.keys(s),a=o.fields||{},l=Object.keys(a);u.sort(),l.sort();for(var c=0;c<u.length&&c<l.length;++c){var f=Q(u[c],l[c]);if(f!==0)return f;var h=Ui(s[u[c]],a[l[c]]);if(h!==0)return h}return Q(u.length,l.length)}(e.mapValue,t.mapValue);default:throw F()}}function Vm(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Q(e,t);var n=er(e),r=er(t),i=Q(n.seconds,r.seconds);return i!==0?i:Q(n.nanos,r.nanos)}function Nd(e){return Vf(e)}function Vf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=er(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?$i(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,$.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",o=!0,s=0,u=r.values||[];s<u.length;s++)o?o=!1:i+=",",i+=Vf(u[s]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",o=!0,s=0,u=Object.keys(r.fields||{}).sort();s<u.length;s++){var a=u[s];o?o=!1:i+=",",i+=a+":"+Vf(r.fields[a])}return i+"}"}(e.mapValue):F();var t,n}function Ca(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Bf(e){return!!e&&"integerValue"in e}function kd(e){return!!e&&"arrayValue"in e}function Bm(e){return!!e&&"nullValue"in e}function zm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Uu(e){return!!e&&"mapValue"in e}function zo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Hr(e.mapValue.fields,function(i,o){return t.mapValue.fields[i]=zo(o)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=zo(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!Uu(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=zo(n)},e.prototype.setAll=function(t){var n=this,r=Yt.emptyPath(),i={},o=[];t.forEach(function(u,a){if(!r.isImmediateParentOf(a)){var l=n.getFieldsMap(r);n.applyChanges(l,i,o),i={},o=[],r=a.popLast()}u?i[a.lastSegment()]=zo(u):o.push(a.lastSegment())});var s=this.getFieldsMap(r);this.applyChanges(s,i,o)},e.prototype.delete=function(t){var n=this.field(t.popLast());Uu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return sn(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];Uu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){Hr(n,function(u,a){return t[u]=a});for(var i=0,o=r;i<o.length;i++){var s=o[i];delete t[s]}},e.prototype.clone=function(){return new e(zo(this.value))},e}();function xw(e){var t=[];return Hr(e.fields,function(n,r){var i=new Yt([n]);if(Uu(r)){var o=xw(r.mapValue).fields;if(o.length===0)t.push(i);else for(var s=0,u=o;s<u.length;s++){var a=u[s];t.push(i.child(a))}}else t.push(i)}),new Mi(t)}var Xe=function(){function e(t,n,r,i,o){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return e.newInvalidDocument=function(t){return new e(t,0,H.min(),_t.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,_t.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,_t.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=_t.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=_t.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),fx=function(e,t,n,r,i,o,s){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(e,t,n,r,i,o,s){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),new fx(e,t,n,r,i,o,s)}function Bs(e){var t=P(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+Nd(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),Wr(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Da(t.startAt)),t.endAt&&(n+="|ub:",n+=Da(t.endAt)),t.h=n}return t.h}function Tl(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!wx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!sn(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Hm(e.startAt,t.startAt)&&Hm(e.endAt,t.endAt)}function ba(e){return $.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var xt=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).field=n,o.op=r,o.value=i,o}return U(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new hx(n,r,i):r==="array-contains"?new mx(n,i):r==="in"?new vx(n,i):r==="not-in"?new yx(n,i):r==="array-contains-any"?new gx(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new dx(n,i):new px(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Ui(r,this.value)):r!==null&&Mr(this.value)===Mr(r)&&this.m(Ui(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return F()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),hx=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,i)||this).key=$.fromName(i.referenceValue),o}return U(t,e),t.prototype.matches=function(n){var r=$.comparator(n.key,this.key);return this.m(r)},t}(xt),dx=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=Nw("in",r),i}return U(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(xt),px=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=Nw("not-in",r),i}return U(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(xt);function Nw(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return $.fromName(r.referenceValue)})}var mx=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return U(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return kd(r)&&gs(r.arrayValue,this.value)},t}(xt),vx=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return U(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&gs(this.value.arrayValue,r)},t}(xt),yx=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return U(t,e),t.prototype.matches=function(n){if(gs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!gs(this.value.arrayValue,r)},t}(xt),gx=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return U(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!kd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return gs(r.value.arrayValue,o)})},t}(xt),ws=function(e,t){this.position=e,this.before=t};function Da(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return Nd(t)}).join(",")}var ki=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function wx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Km(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],s=e.position[i];if(r=o.field.isKeyField()?$.comparator($.fromName(s.referenceValue),n.key):Ui(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function Hm(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!sn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In=function(e,t,n,r,i,o,s,u){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),s===void 0&&(s=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt};function kw(e,t,n,r,i,o,s,u){return new In(e,t,n,r,i,o,s,u)}function zs(e){return new In(e)}function Vu(e){return!Wr(e.limit)&&e.limitType==="F"}function Aa(e){return!Wr(e.limit)&&e.limitType==="L"}function Cd(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function bd(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Dd(e){return e.collectionGroup!==null}function Vi(e){var t=P(e);if(t.p===null){t.p=[];var n=bd(t),r=Cd(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new ki(n)),t.p.push(new ki(Yt.keyField(),"asc"));else{for(var i=!1,o=0,s=t.explicitOrderBy;o<s.length;o++){var u=s[o];t.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new ki(Yt.keyField(),a))}}}return t.p}function un(e){var t=P(e);if(!t.T)if(t.limitType==="F")t.T=qm(t.path,t.collectionGroup,Vi(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Vi(t);r<i.length;r++){var o=i[r],s=o.dir==="desc"?"asc":"desc";n.push(new ki(o.field,s))}var u=t.endAt?new ws(t.endAt.position,!t.endAt.before):null,a=t.startAt?new ws(t.startAt.position,!t.startAt.before):null;t.T=qm(t.path,t.collectionGroup,n,t.filters,t.limit,u,a)}return t.T}function Cw(e,t,n){return new In(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function qs(e,t){return Tl(un(e),un(t))&&e.limitType===t.limitType}function bw(e){return Bs(un(e))+"|lt:"+e.limitType}function zf(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+Nd(i.value);var i}).join(", ")+"]"),Wr(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Da(t.startAt)),t.endAt&&(n+=", endAt: "+Da(t.endAt)),"Target("+n+")"}(un(e))+"; limitType="+e.limitType+")"}function Ks(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):$.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,o=n.explicitOrderBy;i<o.length;i++){var s=o[i];if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,o=n.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!Km(n.startAt,Vi(n),r))&&(!n.endAt||!Km(n.endAt,Vi(n),r))}(e,t)}function Dw(e){return function(t,n){for(var r=!1,i=0,o=Vi(e);i<o.length;i++){var s=o[i],u=Ex(s,t,n);if(u!==0)return u;r=r||s.field.isKeyField()}return 0}}function Ex(e,t,n){var r=e.field.isKeyField()?$.comparator(t.key,n.key):function(i,o,s){var u=o.data.field(i),a=s.data.field(i);return u!==null&&a!==null?Ui(u,a):F()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ka(t)?"-0":t}}function Rw(e){return{integerValue:""+e}}function Pw(e,t){return Iw(t)?Rw(t):Aw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Il=function(){this._=void 0};function Sx(e,t,n){return e instanceof Bi?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof $r?Lw(e,t):e instanceof Ur?jw(e,t):function(r,i){var o=Ow(r,i),s=Wm(o)+Wm(r.A);return Bf(o)&&Bf(r.A)?Rw(s):Aw(r.R,s)}(e,t)}function _x(e,t,n){return e instanceof $r?Lw(e,t):e instanceof Ur?jw(e,t):n}function Ow(e,t){return e instanceof zi?Bf(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var Bi=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t}(Il),$r=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return U(t,e),t}(Il);function Lw(e,t){for(var n=Fw(t),r=function(s){n.some(function(u){return sn(u,s)})||n.push(s)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ur=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return U(t,e),t}(Il);function jw(e,t){for(var n=Fw(t),r=function(s){n=n.filter(function(u){return!sn(u,s)})},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var zi=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return U(t,e),t}(Il);function Wm(e){return we(e.integerValue||e.doubleValue)}function Fw(e){return kd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hs=function(e,t){this.field=e,this.transform=t},Tx=function(e,t){this.version=e,this.transformResults=t},Qe=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Bu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var xl=function(){};function Ix(e,t,n){e instanceof Ws?function(r,i,o){var s=r.value.clone(),u=Ym(r.fieldTransforms,i,o.transformResults);s.setAll(u),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(e,t,n):e instanceof ur?function(r,i,o){if(Bu(r.precondition,i)){var s=Ym(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(Mw(r)),u.setAll(s),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(e,t,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function qf(e,t,n){e instanceof Ws?function(r,i,o){if(Bu(r.precondition,i)){var s=r.value.clone(),u=Xm(r.fieldTransforms,o,i);s.setAll(u),i.convertToFoundDocument(Gm(i),s).setHasLocalMutations()}}(e,t,n):e instanceof ur?function(r,i,o){if(Bu(r.precondition,i)){var s=Xm(r.fieldTransforms,o,i),u=i.data;u.setAll(Mw(r)),u.setAll(s),i.convertToFoundDocument(Gm(i),u).setHasLocalMutations()}}(e,t,n):function(r,i){Bu(r.precondition,i)&&i.convertToNoDocument(H.min())}(e,t)}function xx(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],s=t.data.field(o.field),u=Ow(o.transform,s||null);u!=null&&(n==null&&(n=_t.empty()),n.set(o.field,u))}return n||null}function Qm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Fi(n,r,function(i,o){return function(s,u){return s.field.isEqual(u.field)&&function(a,l){return a instanceof $r&&l instanceof $r||a instanceof Ur&&l instanceof Ur?Fi(a.elements,l.elements,sn):a instanceof zi&&l instanceof zi?sn(a.A,l.A):a instanceof Bi&&l instanceof Bi}(s.transform,u.transform)}(i,o)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Gm(e){return e.isFoundDocument()?e.version:H.min()}var Ws=function(e){function t(n,r,i,o){o===void 0&&(o=[]);var s=this;return(s=e.call(this)||this).key=n,s.value=r,s.precondition=i,s.fieldTransforms=o,s.type=0,s}return U(t,e),t}(xl),ur=function(e){function t(n,r,i,o,s){s===void 0&&(s=[]);var u=this;return(u=e.call(this)||this).key=n,u.data=r,u.fieldMask=i,u.precondition=o,u.fieldTransforms=s,u.type=1,u}return U(t,e),t}(xl);function Mw(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function Ym(e,t,n){var r=new Map;V(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],s=o.transform,u=t.data.field(o.field);r.set(o.field,_x(s,u,n[i]))}return r}function Xm(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var s=o[i],u=s.transform,a=n.data.field(s.field);r.set(s.field,Sx(u,a,t))}return r}var ge,G,Qs=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return U(t,e),t}(xl),Ad=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return U(t,e),t}(xl),Nx=function(e){this.count=e};function $w(e){switch(e){case _.OK:return F();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0;default:return F()}}function Uw(e){if(e===void 0)return Se("GRPC error has no .code"),_.UNKNOWN;switch(e){case ge.OK:return _.OK;case ge.CANCELLED:return _.CANCELLED;case ge.UNKNOWN:return _.UNKNOWN;case ge.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case ge.INTERNAL:return _.INTERNAL;case ge.UNAVAILABLE:return _.UNAVAILABLE;case ge.UNAUTHENTICATED:return _.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case ge.NOT_FOUND:return _.NOT_FOUND;case ge.ALREADY_EXISTS:return _.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return _.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case ge.ABORTED:return _.ABORTED;case ge.OUT_OF_RANGE:return _.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return _.UNIMPLEMENTED;case ge.DATA_LOSS:return _.DATA_LOSS;default:return F()}}(G=ge||(ge={}))[G.OK=0]="OK",G[G.CANCELLED=1]="CANCELLED",G[G.UNKNOWN=2]="UNKNOWN",G[G.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",G[G.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",G[G.NOT_FOUND=5]="NOT_FOUND",G[G.ALREADY_EXISTS=6]="ALREADY_EXISTS",G[G.PERMISSION_DENIED=7]="PERMISSION_DENIED",G[G.UNAUTHENTICATED=16]="UNAUTHENTICATED",G[G.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",G[G.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",G[G.ABORTED=10]="ABORTED",G[G.OUT_OF_RANGE=11]="OUT_OF_RANGE",G[G.UNIMPLEMENTED=12]="UNIMPLEMENTED",G[G.INTERNAL=13]="INTERNAL",G[G.UNAVAILABLE=14]="UNAVAILABLE",G[G.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je=function(){function e(t,n){this.comparator=t,this.root=n||On.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,On.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,On.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Tu(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Tu(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Tu(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Tu(this.root,t,this.comparator,!0)},e}(),Tu=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),On=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=o??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,o=r(t,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();var t=this.left.check();if(t!==this.right.check())throw F();return t+(this.isRed()?0:1)},e}();On.EMPTY=null,On.RED=!0,On.BLACK=!1,On.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw F()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw F()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw F()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw F()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw F()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,o){return this},e.prototype.insert=function(t,n,r){return new On(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce=function(){function e(t){this.comparator=t,this.data=new Je(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new Jm(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new Jm(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Jm=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),kx=new Je($.comparator);function Wt(){return kx}var Cx=new Je($.comparator);function Kf(){return Cx}var bx=new Je($.comparator);function Dx(){return bx}var Ax=new Ce($.comparator);function re(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ax,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Rx=new Ce(Q);function Nl(){return Rx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rd=function(){function e(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Pd.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(H.min(),r,Nl(),Wt(),re())},e}(),Pd=function(){function e(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(vt.EMPTY_BYTE_STRING,n,re(),re(),re())},e}(),zu=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Vw=function(e,t){this.targetId=e,this.V=t},Bw=function(e,t,n,r){n===void 0&&(n=vt.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Zm=function(){function e(){this.S=0,this.D=tv(),this.C=vt.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=re(),n=re(),r=re();return this.D.forEach(function(i,o){switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new Pd(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=tv()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),Px=function(){function e(t){this.W=t,this.G=new Map,this.H=Wt(),this.J=ev(),this.Y=new Ce(Q)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var o=0,s=t.removedTargetIds;o<s.length;o++)i=s[o],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:F()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,o){r.st(o)&&n(o)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var o=i.target;if(ba(o))if(r===0){var s=new $(o.path);this.tt(n,s,Xe.newNoDocument(s,H.min()))}else V(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(s,u){var a=n.ot(u);if(a){if(s.current&&ba(a.target)){var l=new $(a.target.path);n.H.get(l)!==null||n.at(u,l)||n.tt(u,l,Xe.newNoDocument(l,t))}s.$&&(r.set(u,s.M()),s.L())}});var i=re();this.J.forEach(function(s,u){var a=!0;u.forEachWhile(function(l){var c=n.ot(l);return!c||c.purpose===2||(a=!1,!1)}),a&&(i=i.add(s))});var o=new Rd(t,r,this.Y,this.H,i);return this.H=Wt(),this.J=ev(),this.Y=new Ce(Q),o},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new Zm,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Ce(Q),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||D("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new Zm),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function ev(){return new Je($.comparator)}function tv(){return new Je($.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ox={asc:"ASCENDING",desc:"DESCENDING"},Lx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jx=function(e,t){this.databaseId=e,this.I=t};function Es(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function zw(e,t){return e.I?t.toBase64():t.toUint8Array()}function Fx(e,t){return Es(e,t.toTimestamp())}function it(e){return V(!!e),H.fromTimestamp(function(t){var n=er(t);return new mt(n.seconds,n.nanos)}(e))}function Od(e,t){return function(n){return new J(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function qw(e){var t=J.fromString(e);return V(Xw(t)),t}function Ss(e,t){return Od(e.databaseId,t.path)}function mn(e,t){var n=qw(t);if(n.get(1)!==e.databaseId.projectId)throw new N(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new N(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $(Hw(n))}function Hf(e,t){return Od(e.databaseId,t)}function Kw(e){var t=qw(e);return t.length===4?J.emptyPath():Hw(t)}function _s(e){return new J(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Hw(e){return V(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function nv(e,t,n){return{name:Ss(e,t),fields:n.value.mapValue.fields}}function Mx(e,t,n){var r=mn(e,t.name),i=it(t.updateTime),o=new _t({mapValue:{fields:t.fields}}),s=Xe.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Ra(e,t){var n;if(t instanceof Ws)n={update:nv(e,t.key,t.value)};else if(t instanceof Qs)n={delete:Ss(e,t.key)};else if(t instanceof ur)n={update:nv(e,t.key,t.data),updateMask:zx(t.fieldMask)};else{if(!(t instanceof Ad))return F();n={verify:Ss(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,o){var s=o.transform;if(s instanceof Bi)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof $r)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ur)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof zi)return{fieldPath:o.field.canonicalString(),increment:s.A};throw F()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Fx(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:F()}(e,t.precondition)),n}function rv(e,t){var n=t.currentDocument?function(l){return l.updateTime!==void 0?Qe.updateTime(it(l.updateTime)):l.exists!==void 0?Qe.exists(l.exists):Qe.none()}(t.currentDocument):Qe.none(),r=t.updateTransforms?t.updateTransforms.map(function(l){return function(c,f){var h=null;if("setToServerValue"in f)V(f.setToServerValue==="REQUEST_TIME"),h=new Bi;else if("appendMissingElements"in f){var d=f.appendMissingElements.values||[];h=new $r(d)}else if("removeAllFromArray"in f){var v=f.removeAllFromArray.values||[];h=new Ur(v)}else"increment"in f?h=new zi(c,f.increment):F();var y=Yt.fromServerFormat(f.fieldPath);return new Hs(y,h)}(e,l)}):[];if(t.update){t.update.name;var i=mn(e,t.update.name),o=new _t({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=function(l){var c=l.fieldPaths||[];return new Mi(c.map(function(f){return Yt.fromServerFormat(f)}))}(t.updateMask);return new ur(i,o,s,n,r)}return new Ws(i,o,n,r)}if(t.delete){var u=mn(e,t.delete);return new Qs(u,n)}if(t.verify){var a=mn(e,t.verify);return new Ad(a,n)}return F()}function Ww(e,t){return{documents:[Hf(e,t.path)]}}function Qw(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Hf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Hf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(u){if(u.length!==0){var a=u.map(function(l){return function(c){if(c.op==="=="){if(zm(c.value))return{unaryFilter:{field:ti(c.field),op:"IS_NAN"}};if(Bm(c.value))return{unaryFilter:{field:ti(c.field),op:"IS_NULL"}}}else if(c.op==="!="){if(zm(c.value))return{unaryFilter:{field:ti(c.field),op:"IS_NOT_NAN"}};if(Bm(c.value))return{unaryFilter:{field:ti(c.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ti(c.field),op:Ux(c.op),value:c.value}}}(l)});return a.length===1?a[0]:{compositeFilter:{op:"AND",filters:a}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(u){if(u.length!==0)return u.map(function(a){return function(l){return{field:ti(l.field),direction:$x(l.dir)}}(a)})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(u,a){return u.I||Wr(a)?a:{value:a}}(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=iv(t.startAt)),t.endAt&&(n.structuredQuery.endAt=iv(t.endAt)),n}function Gw(e){var t=Kw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){V(r===1);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var s=[];n.where&&(s=Yw(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(f){return function(h){return new ki(Ei(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(f)}));var a=null;n.limit&&(a=function(f){var h;return Wr(h=typeof f=="object"?f.value:f)?null:h}(n.limit));var l=null;n.startAt&&(l=ov(n.startAt));var c=null;return n.endAt&&(c=ov(n.endAt)),kw(t,i,u,s,a,"F",l,c)}function Yw(e){return e?e.unaryFilter!==void 0?[Bx(e)]:e.fieldFilter!==void 0?[Vx(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return Yw(t)}).reduce(function(t,n){return t.concat(n)}):F():[]}function iv(e){return{before:e.before,values:e.position}}function ov(e){var t=!!e.before,n=e.values||[];return new ws(n,t)}function $x(e){return Ox[e]}function Ux(e){return Lx[e]}function ti(e){return{fieldPath:e.canonicalString()}}function Ei(e){return Yt.fromServerFormat(e.fieldPath)}function Vx(e){return xt.create(Ei(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return F()}}(e.fieldFilter.op),e.fieldFilter.value)}function Bx(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ei(e.unaryFilter.field);return xt.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ei(e.unaryFilter.field);return xt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ei(e.unaryFilter.field);return xt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ei(e.unaryFilter.field);return xt.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return F()}}function zx(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function Xw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=sv(t)),t=qx(e.get(n),t);return sv(t)}function qx(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function sv(e){return e+""}function dn(e){var t=e.length;if(V(t>=2),t===2)return V(e.charAt(0)===""&&e.charAt(1)===""),J.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var s=e.indexOf("",o);switch((s<0||s>n)&&F(),e.charAt(s+1)){case"":var u=e.substring(o,s),a=void 0;i.length===0?a=u:(a=i+=u,i=""),r.push(a);break;case"":i+=e.substring(o,s),i+="\0";break;case"":i+=e.substring(o,s+1);break;default:F()}o=s+2}return new J(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kx=function(e,t){this.seconds=e,this.nanoseconds=t},Et=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Et.store="owner",Et.key="owner";var Gn=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Gn.store="mutationQueues",Gn.keyPath="userId";var oe=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};oe.store="mutations",oe.keyPath="batchId",oe.userMutationsIndex="userMutationsIndex",oe.userMutationsKeyPath=["userId","batchId"];var He=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Qt(n)]},e.key=function(t,n,r){return[t,Qt(n),r]},e}();He.store="documentMutations",He.PLACEHOLDER=new He;var Hx=function(e,t){this.path=e,this.readTime=t},Wx=function(e,t){this.path=e,this.version=t},pe=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};pe.store="remoteDocuments",pe.readTimeIndex="readTimeIndex",pe.readTimeIndexPath="readTime",pe.collectionReadTimeIndex="collectionReadTimeIndex",pe.collectionReadTimeIndexPath=["parentPath","readTime"];var tn=function(e){this.byteSize=e};tn.store="remoteDocumentGlobal",tn.key="remoteDocumentGlobalKey";var ft=function(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};ft.store="targets",ft.keyPath="targetId",ft.queryTargetsIndexName="queryTargetsIndex",ft.queryTargetsKeyPath=["canonicalId","targetId"];var je=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};je.store="targetDocuments",je.keyPath=["targetId","path"],je.documentTargetsIndex="documentTargetsIndex",je.documentTargetsKeyPath=["path","targetId"];var St=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};St.key="targetGlobalKey",St.store="targetGlobal";var kr=function(e,t){this.collectionId=e,this.parent=t};kr.store="collectionParents",kr.keyPath=["collectionId","parent"];var vn=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};vn.store="clientMetadata",vn.keyPath="clientId";var qi=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};qi.store="bundles",qi.keyPath="bundleId";var Ki=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Ki.store="namedQueries",Ki.keyPath="name";var Qx=me(me([],me(me([],me(me([],me(me([],[Gn.store,oe.store,He.store,pe.store,ft.store,Et.store,St.store,je.store]),[vn.store])),[tn.store])),[kr.store])),[qi.store,Ki.store]),Jw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zw=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),yt=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},k=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,o){r.nextCallback=function(s){r.wrapSuccess(t,s).next(i,o)},r.catchCallback=function(s){r.wrapFailure(n,s).next(i,o)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,o=0,s=!1;t.forEach(function(u){++i,u.next(function(){++o,s&&o===i&&n()},function(a){return r(a)})}),s=!0,o===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(s){n=n.next(function(u){return u?e.resolve(u):s()})},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(o,s){i.push(n.call(r,o,s))}),this.waitFor(i)},e}(),e1=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new yt,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new qo(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=Ld(i.target.error);r.ft.reject(new qo(t,o))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(o){throw new qo(n,o)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(D("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new Yx(n)},e}(),Hi=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Lr())===12.2&&Se("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return D("SimpleDb","Removing database:",t),yr(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Lr(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var t;return typeof process<"u"&&((t=ux)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return x(this,void 0,void 0,function(){var n,r=this;return T(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(D("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(o,s){var u=indexedDB.open(r.name,r.version);u.onsuccess=function(a){var l=a.target.result;o(l)},u.onblocked=function(){s(new qo(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=function(a){var l=a.target.error;l.name==="VersionError"?s(new N(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s(new qo(t,l))},u.onupgradeneeded=function(a){D("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',a.oldVersion);var l=a.target.result;r.wt.Rt(l,u.transaction,a.oldVersion,r.version).next(function(){D("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return x(this,void 0,void 0,function(){var o,s,u,a,l;return T(this,function(c){switch(c.label){case 0:o=n==="readonly",s=0,u=function(){var f,h,d,v,y;return T(this,function(E){switch(E.label){case 0:++s,E.label=1;case 1:return E.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=E.sent(),f=e1.open(a.db,t,o?"readonly":"readwrite",r),h=i(f).catch(function(m){return f.abort(m),k.reject(m)}).toPromise(),d={},h.catch(function(){}),[4,f.dt];case 3:return[2,(d.value=(E.sent(),h),d)];case 4:return v=E.sent(),y=v.name!=="FirebaseError"&&s<3,D("SimpleDb","Transaction failed with error:",v.message,"Retrying:",y),a.close(),y?[3,5]:[2,{value:Promise.reject(v)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,u()];case 2:if(typeof(l=c.sent())=="object")return[2,l.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Gx=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return yr(this.Pt.delete())},e}(),qo=function(e){function t(n,r){var i=this;return(i=e.call(this,_.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return U(t,e),t}(N);function Qr(e){return e.name==="IndexedDbTransactionError"}var Yx=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(D("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(D("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),yr(r)},e.prototype.add=function(t){return D("SimpleDb","ADD",this.store.name,t,t),yr(this.store.add(t))},e.prototype.get=function(t){var n=this;return yr(this.store.get(t)).next(function(r){return r===void 0&&(r=null),D("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return D("SimpleDb","DELETE",this.store.name,t),yr(this.store.delete(t))},e.prototype.count=function(){return D("SimpleDb","COUNT",this.store.name),yr(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(o,s){i.push(s)}).next(function(){return i})},e.prototype.kt=function(t,n){D("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(o,s,u){return u.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new k(function(r,i){n.onerror=function(o){var s=Ld(o.target.error);i(s)},n.onsuccess=function(o){var s=o.target.result;s?t(s.primaryKey,s.value).next(function(u){u?s.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new k(function(i,o){t.onerror=function(s){o(s.target.error)},t.onsuccess=function(s){var u=s.target.result;if(u){var a=new Gx(u),l=n(u.primaryKey,u.value,a);if(l instanceof k){var c=l.catch(function(f){return a.done(),k.reject(f)});r.push(c)}a.isDone?i():a.Dt===null?u.continue():u.continue(a.Dt)}else i()}}).next(function(){return k.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function yr(e){return new k(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=Ld(r.target.error);n(i)}})}var uv=!1;function Ld(e){var t=Hi._t(Lr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new N("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return uv||(uv=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var av=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return U(t,e),t}(Zw);function gt(e,t){var n=P(e);return Hi.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jd=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t.key)&&Ix(o,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t.key)&&qf(s,t,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t.key)&&qf(s,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),o=i;n.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(H.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},re())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Fi(this.mutations,t.mutations,function(n,r){return Qm(n,r)})&&Fi(this.baseMutations,t.baseMutations,function(n,r){return Qm(n,r)})},e}(),Xx=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){V(t.mutations.length===r.length);for(var i=Dx(),o=t.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new e(t,n,r,i)},e}(),kl=function(){function e(t,n,r,i,o,s,u){o===void 0&&(o=H.min()),s===void 0&&(s=H.min()),u===void 0&&(u=vt.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),t1=function(e){this.Lt=e};function Wf(e,t){if(t.document)return Mx(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=$.fromSegments(t.noDocument.path),r=Qi(t.noDocument.readTime),i=Xe.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=$.fromSegments(t.unknownDocument.path);return r=Qi(t.unknownDocument.version),Xe.newUnknownDocument(o,r)}return F()}function lv(e,t,n){var r=Fd(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(f,h){return{name:Ss(f,h.key),fields:h.data.value.mapValue.fields,updateTime:Es(f,h.version.toTimestamp())}}(e.Lt,t),s=t.hasCommittedMutations;return new pe(null,null,o,s,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),a=Wi(t.version);return s=t.hasCommittedMutations,new pe(null,new Hx(u,a),null,s,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),c=Wi(t.version);return new pe(new Wx(l,c),null,null,!0,r,i)}return F()}function Fd(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function n1(e){var t=new mt(e[0],e[1]);return H.fromTimestamp(t)}function Wi(e){var t=e.toTimestamp();return new Kx(t.seconds,t.nanoseconds)}function Qi(e){var t=new mt(e.seconds,e.nanoseconds);return H.fromTimestamp(t)}function ii(e,t){for(var n=(t.baseMutations||[]).map(function(a){return rv(e.Lt,a)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var s=t.mutations.map(function(a){return rv(e.Lt,a)}),u=mt.fromMillis(t.localWriteTimeMs);return new jd(t.batchId,u,n,s)}function Do(e){var t,n,r=Qi(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?Qi(e.lastLimboFreeSnapshotVersion):H.min();return e.query.documents!==void 0?(V((n=e.query).documents.length===1),t=un(zs(Kw(n.documents[0])))):t=function(o){return un(Gw(o))}(e.query),new kl(t,e.targetId,0,e.lastListenSequenceNumber,r,i,vt.fromBase64String(e.resumeToken))}function r1(e,t){var n,r=Wi(t.snapshotVersion),i=Wi(t.lastLimboFreeSnapshotVersion);n=ba(t.target)?Ww(e.Lt,t.target):Qw(e.Lt,t.target);var o=t.resumeToken.toBase64();return new ft(t.targetId,Bs(t.target),r,o,t.sequenceNumber,i,n)}function i1(e){var t=Gw({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Cw(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jx=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return cv(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Qi(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return cv(t).put({bundleId:(r=n).id,createTime:Wi(it(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return fv(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:i1(i.bundledQuery),readTime:Qi(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return fv(t).put(function(r){return{name:r.name,readTime:Wi(it(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function cv(e){return gt(e,qi.store)}function fv(e){return gt(e,Ki.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zx=function(){function e(){this.Bt=new Md}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),k.resolve()},e.prototype.getCollectionParents=function(t,n){return k.resolve(this.Bt.getEntries(n))},e}(),Md=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ce(J.comparator),o=!i.has(r);return this.index[n]=i.add(r),o},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new Ce(J.comparator)).toArray()},e}(),eN=function(){function e(){this.qt=new Md}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),o=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var s={collectionId:i,parent:Qt(o)};return hv(t).put(s)}return k.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[Ew(n),""],!1,!0);return hv(t).Nt(i).next(function(o){for(var s=0,u=o;s<u.length;s++){var a=u[s];if(a.collectionId!==n)break;r.push(dn(a.parent))}return r})},e}();function hv(e){return gt(e,kr.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zt=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(e,t,n){var r=e.store(oe.store),i=e.store(He.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.$t({range:s},function(v,y,E){return u++,E.delete()});o.push(a.next(function(){V(u===1)}));for(var l=[],c=0,f=n.mutations;c<f.length;c++){var h=f[c],d=He.key(t,h.key.path,n.batchId);o.push(i.delete(d)),l.push(h.key)}return k.waitFor(o).next(function(){return l})}function Pa(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw F();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(41943040,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);var tN=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return V(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kn(t).$t({index:oe.userMutationsIndex,range:r},function(i,o,s){n=!1,s.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var o=this,s=oi(t),u=kn(t);return u.add({}).next(function(a){V(typeof a=="number");for(var l=new jd(a,n,r,i),c=function(m,p,g){var S=g.baseMutations.map(function(b){return Ra(m.Lt,b)}),I=g.mutations.map(function(b){return Ra(m.Lt,b)});return new oe(p,g.batchId,g.localWriteTime.toMillis(),S,I)}(o.R,o.userId,l),f=[],h=new Ce(function(m,p){return Q(m.canonicalString(),p.canonicalString())}),d=0,v=i;d<v.length;d++){var y=v[d],E=He.key(o.userId,y.key.path,a);h=h.add(y.key.path.popLast()),f.push(u.put(c)),f.push(s.put(E,He.PLACEHOLDER))}return h.forEach(function(m){f.push(o.Ut.addToCollectionParentIndex(t,m))}),t.addOnCommittedListener(function(){o.Kt[a]=l.keys()}),k.waitFor(f).next(function(){return l})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return kn(t).get(n).next(function(i){return i?(V(i.userId===r.userId),ii(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?k.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var o=i.keys();return r.Kt[n]=o,o}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,o=IDBKeyRange.lowerBound([this.userId,i]),s=null;return kn(t).$t({index:oe.userMutationsIndex,range:o},function(u,a,l){a.userId===r.userId&&(V(a.batchId>=i),s=ii(r.R,a)),l.done()}).next(function(){return s})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return kn(t).$t({index:oe.userMutationsIndex,range:n,reverse:!0},function(i,o,s){r=o.batchId,s.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kn(t).Nt(oe.userMutationsIndex,r).next(function(i){return i.map(function(o){return ii(n.R,o)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=He.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),s=[];return oi(t).$t({range:o},function(u,a,l){var c=u[0],f=u[1],h=u[2],d=dn(f);if(c===r.userId&&n.path.isEqual(d))return kn(t).get(h).next(function(v){if(!v)throw F();V(v.userId===r.userId),s.push(ii(r.R,v))});l.done()}).next(function(){return s})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Ce(Q),o=[];return n.forEach(function(s){var u=He.prefixForPath(r.userId,s.path),a=IDBKeyRange.lowerBound(u),l=oi(t).$t({range:a},function(c,f,h){var d=c[0],v=c[1],y=c[2],E=dn(v);d===r.userId&&s.path.isEqual(E)?i=i.add(y):h.done()});o.push(l)}),k.waitFor(o).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,o=i.length+1,s=He.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(s),a=new Ce(Q);return oi(t).$t({range:u},function(l,c,f){var h=l[0],d=l[1],v=l[2],y=dn(d);h===r.userId&&i.isPrefixOf(y)?y.length===o&&(a=a.add(v)):f.done()}).next(function(){return r.Wt(t,a)})},e.prototype.Wt=function(t,n){var r=this,i=[],o=[];return n.forEach(function(s){o.push(kn(t).get(s).next(function(u){if(u===null)throw F();V(u.userId===r.userId),i.push(ii(r.R,u))}))}),k.waitFor(o).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return o1(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),k.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(t,o)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return k.resolve();var i=IDBKeyRange.lowerBound(He.prefixForUser(n.userId)),o=[];return oi(t).$t({range:i},function(s,u,a){if(s[0]===n.userId){var l=dn(s[1]);o.push(l)}else a.done()}).next(function(){V(o.length===0)})})},e.prototype.containsKey=function(t,n){return s1(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return u1(t).get(this.userId).next(function(r){return r||new Gn(n.userId,-1,"")})},e}();function s1(e,t,n){var r=He.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return oi(e).$t({range:o,Ft:!0},function(u,a,l){var c=u[0],f=u[1];u[2],c===t&&f===i&&(s=!0),l.done()}).next(function(){return s})}function kn(e){return gt(e,oe.store)}function oi(e){return gt(e,He.store)}function u1(e){return gt(e,Gn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oa=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),nN=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new Oa(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return H.fromTimestamp(new mt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(o){return o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),i.Zt(t,o)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return ni(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return V(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,s=[];return ni(t).$t(function(u,a){var l=Do(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(o++,s.push(i.removeTargetData(t,l)))}).next(function(){return k.waitFor(s)}).next(function(){return o})},e.prototype.forEachTarget=function(t,n){return ni(t).$t(function(r,i){var o=Do(i);n(o)})},e.prototype.Xt=function(t){return pv(t).get(St.key).next(function(n){return V(n!==null),n})},e.prototype.Zt=function(t,n){return pv(t).put(St.key,n)},e.prototype.te=function(t,n){return ni(t).put(r1(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Bs(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return ni(t).$t({range:i,index:ft.queryTargetsIndexName},function(s,u,a){var l=Do(u);Tl(n,l.target)&&(o=l,a.done())}).next(function(){return o})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,o=[],s=Ln(t);return n.forEach(function(u){var a=Qt(u.path);o.push(s.put(new je(r,a))),o.push(i.referenceDelegate.addReference(t,r,u))}),k.waitFor(o)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,o=Ln(t);return k.forEach(n,function(s){var u=Qt(s.path);return k.waitFor([o.delete([r,u]),i.referenceDelegate.removeReference(t,r,s)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Ln(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ln(t),o=re();return i.$t({range:r,Ft:!0},function(s,u,a){var l=dn(s[1]),c=new $(l);o=o.add(c)}).next(function(){return o})},e.prototype.containsKey=function(t,n){var r=Qt(n.path),i=IDBKeyRange.bound([r],[Ew(r)],!1,!0),o=0;return Ln(t).$t({index:je.documentTargetsIndex,Ft:!0,range:i},function(s,u,a){var l=s[0];s[1],l!==0&&(o++,a.done())}).next(function(){return o>0})},e.prototype.lt=function(t,n){return ni(t).get(n).next(function(r){return r?Do(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(e){return gt(e,ft.store)}function pv(e){return gt(e,St.store)}function Ln(e){return gt(e,je.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(e){return x(this,void 0,void 0,function(){return T(this,function(t){if(e.code!==_.FAILED_PRECONDITION||e.message!==Jw)throw e;return D("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],s=Q(n,i);return s===0?Q(r,o):s}var rN=function(){function e(t){this.ne=t,this.buffer=new Ce(mv),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();mv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),iN=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;D("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return x(n,void 0,void 0,function(){var i;return T(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return Qr(i=o.sent())?(D("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Gr(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return o.sent(),[2]}})})})},e}(),oN=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return k.resolve(It.o);var i=new rN(n);return this.ae.forEachTarget(t,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ae.le(t,function(o){return i.re(o)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(D("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(dv)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(D("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),dv):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,o,s,u,a,l,c=this,f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(h){return h>c.params.maximumSequenceNumbersToCollect?(D("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+h),i=c.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),c.nthSequenceNumber(t,i)}).next(function(h){return r=h,u=Date.now(),c.removeTargets(t,r,n)}).next(function(h){return o=h,a=Date.now(),c.removeOrphanedDocuments(t,r)}).next(function(h){return l=Date.now(),Uf()<=X.DEBUG&&D("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(s-f)+`ms
	Determined least recently used `+i+" in "+(u-s)+`ms
	Removed `+o+" targets in "+(a-u)+`ms
	Removed `+h+" documents in "+(l-a)+`ms
Total Duration: `+(l-f)+"ms"),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})})},e}(),sN=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new oN(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return Iu(t,r)},e.prototype.removeReference=function(t,n,r){return Iu(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Iu(t,n)},e.prototype._e=function(t,n){return function(r,i){var o=!1;return u1(r).Ot(function(s){return s1(r,s,i).next(function(u){return u&&(o=!0),k.resolve(!u)})}).next(function(){return o})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],s=0;return this.we(t,function(u,a){if(a<=n){var l=r._e(t,u).next(function(c){if(!c)return s++,i.getEntry(t,u).next(function(){return i.removeEntry(u),Ln(t).delete([0,Qt(u.path)])})});o.push(l)}}).next(function(){return k.waitFor(o)}).next(function(){return i.apply(t)}).next(function(){return s})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Iu(t,n)},e.prototype.we=function(t,n){var r,i=Ln(t),o=It.o;return i.$t({index:je.documentTargetsIndex},function(s,u){var a=s[0];s[1];var l=u.path,c=u.sequenceNumber;a===0?(o!==It.o&&n(new $(dn(r)),o),o=c,r=l):o=It.o}).next(function(){o!==It.o&&n(new $(dn(r)),o)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Iu(e,t){return Ln(e).put(function(n,r){return new je(0,Qt(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var so=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var s=o[i],u=s[0],a=s[1];if(this.equalsFn(u,t))return a}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){Hr(this.inner,function(n,r){for(var i=0,o=r;i<o.length;i++){var s=o[i],u=s[0],a=s[1];t(u,a)}})},e.prototype.isEmpty=function(){return Sw(this.inner)},e}(),a1=function(){function e(){this.changes=new so(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:H.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:Xe.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?k.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),uN=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return An(t).put(xu(n),r)},e.prototype.removeEntry=function(t,n){var r=An(t),i=xu(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return An(t).get(xu(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return An(t).get(xu(n)).next(function(i){return{document:r.ye(n,i),size:Pa(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=Wt();return this.pe(t,n,function(o,s){var u=r.ye(o,s);i=i.insert(o,u)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=Wt(),o=new Je($.comparator);return this.pe(t,n,function(s,u){var a=r.ye(s,u);i=i.insert(s,a),o=o.insert(s,Pa(u))}).next(function(){return{documents:i,Te:o}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return k.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),o=n.getIterator(),s=o.getNext();return An(t).$t({range:i},function(u,a,l){for(var c=$.fromSegments(u);s&&$.comparator(s,c)<0;)r(s,null),s=o.getNext();s&&s.isEqual(c)&&(r(s,a),s=o.hasNext()?o.getNext():null),s?l.Ct(s.path.toArray()):l.done()}).next(function(){for(;s;)r(s,null),s=o.hasNext()?o.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,o=Wt(),s=n.path.length+1,u={};if(r.isEqual(H.min())){var a=n.path.toArray();u.range=IDBKeyRange.lowerBound(a)}else{var l=n.path.toArray(),c=Fd(r);u.range=IDBKeyRange.lowerBound([l,c],!0),u.index=pe.collectionReadTimeIndex}return An(t).$t(u,function(f,h,d){if(f.length===s){var v=Wf(i.R,h);n.path.isPrefixOf(v.key.path)?Ks(n,v)&&(o=o.insert(v.key,v)):d.done()}}).next(function(){return o})},e.prototype.newChangeBuffer=function(t){return new aN(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return vv(t).get(tn.key).next(function(n){return V(!!n),n})},e.prototype.me=function(t,n){return vv(t).put(tn.key,n)},e.prototype.ye=function(t,n){if(n){var r=Wf(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(H.min()))return r}return Xe.newInvalidDocument(t)},e}(),aN=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new so(function(o){return o.toString()},function(o,s){return o.isEqual(s)}),i}return U(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],o=0,s=new Ce(function(u,a){return Q(u.canonicalString(),a.canonicalString())});return this.changes.forEach(function(u,a){var l=r.Ae.get(u);if(a.document.isValidDocument()){var c=lv(r.Ie.R,a.document,r.getReadTime(u));s=s.add(u.path.popLast());var f=Pa(c);o+=f-l,i.push(r.Ie.addEntry(n,u,c))}else if(o-=l,r.trackRemovals){var h=lv(r.Ie.R,Xe.newNoDocument(u,H.min()),r.getReadTime(u));i.push(r.Ie.addEntry(n,u,h))}else i.push(r.Ie.removeEntry(n,u))}),s.forEach(function(u){i.push(r.Ie.Ut.addToCollectionParentIndex(n,u))}),i.push(this.Ie.updateMetadata(n,o)),k.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(o){return i.Ae.set(r,o.size),o.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(o){var s=o.documents;return o.Te.forEach(function(u,a){i.Ae.set(u,a)}),s})},t}(a1);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(e){return gt(e,tn.store)}function An(e){return gt(e,pe.store)}function xu(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lN=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var o=this;V(r<i&&r>=0&&i<=11);var s=new e1("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore(Et.store)}(t),function(a){a.createObjectStore(Gn.store,{keyPath:Gn.keyPath}),a.createObjectStore(oe.store,{keyPath:oe.keyPath,autoIncrement:!0}).createIndex(oe.userMutationsIndex,oe.userMutationsKeyPath,{unique:!0}),a.createObjectStore(He.store)}(t),yv(t),function(a){a.createObjectStore(pe.store)}(t));var u=k.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore(je.store),a.deleteObjectStore(ft.store),a.deleteObjectStore(St.store)}(t),yv(t)),u=u.next(function(){return function(a){var l=a.store(St.store),c=new St(0,0,H.min().toTimestamp(),0);return l.put(St.key,c)}(s)})),r<4&&i>=4&&(r!==0&&(u=u.next(function(){return function(a,l){return l.store(oe.store).Nt().next(function(c){a.deleteObjectStore(oe.store),a.createObjectStore(oe.store,{keyPath:oe.keyPath,autoIncrement:!0}).createIndex(oe.userMutationsIndex,oe.userMutationsKeyPath,{unique:!0});var f=l.store(oe.store),h=c.map(function(d){return f.put(d)});return k.waitFor(h)})}(t,s)})),u=u.next(function(){(function(a){a.createObjectStore(vn.store,{keyPath:vn.keyPath})})(t)})),r<5&&i>=5&&(u=u.next(function(){return o.Re(s)})),r<6&&i>=6&&(u=u.next(function(){return function(a){a.createObjectStore(tn.store)}(t),o.be(s)})),r<7&&i>=7&&(u=u.next(function(){return o.ve(s)})),r<8&&i>=8&&(u=u.next(function(){return o.Pe(t,s)})),r<9&&i>=9&&(u=u.next(function(){(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(t),function(a){var l=a.objectStore(pe.store);l.createIndex(pe.readTimeIndex,pe.readTimeIndexPath,{unique:!1}),l.createIndex(pe.collectionReadTimeIndex,pe.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(u=u.next(function(){return o.Ve(s)})),r<11&&i>=11&&(u=u.next(function(){(function(a){a.createObjectStore(qi.store,{keyPath:qi.keyPath})})(t),function(a){a.createObjectStore(Ki.store,{keyPath:Ki.keyPath})}(t)})),u},e.prototype.be=function(t){var n=0;return t.store(pe.store).$t(function(r,i){n+=Pa(i)}).next(function(){var r=new tn(n);return t.store(tn.store).put(tn.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Gn.store),i=t.store(oe.store);return r.Nt().next(function(o){return k.forEach(o,function(s){var u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.Nt(oe.userMutationsIndex,u).next(function(a){return k.forEach(a,function(l){V(l.userId===s.userId);var c=ii(n.R,l);return o1(t,s.userId,c).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(je.store),r=t.store(pe.store);return t.store(St.store).get(St.key).next(function(i){var o=[];return r.$t(function(s,u){var a=new J(s),l=function(c){return[0,Qt(c)]}(a);o.push(n.get(l).next(function(c){return c?k.resolve():function(f){return n.put(new je(0,Qt(f),i.highestListenSequenceNumber))}(a)}))}).next(function(){return k.waitFor(o)})})},e.prototype.Pe=function(t,n){t.createObjectStore(kr.store,{keyPath:kr.keyPath});var r=n.store(kr.store),i=new Md,o=function(s){if(i.add(s)){var u=s.lastSegment(),a=s.popLast();return r.put({collectionId:u,parent:Qt(a)})}};return n.store(pe.store).$t({Ft:!0},function(s,u){var a=new J(s);return o(a.popLast())}).next(function(){return n.store(He.store).$t({Ft:!0},function(s,u){s[0];var a=s[1];s[2];var l=dn(a);return o(l.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(ft.store);return r.$t(function(i,o){var s=Do(o),u=r1(n.R,s);return r.put(u)})},e}();function yv(e){e.createObjectStore(je.store,{keyPath:je.keyPath}).createIndex(je.documentTargetsIndex,je.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(ft.store,{keyPath:ft.keyPath}).createIndex(ft.queryTargetsIndexName,ft.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(St.store)}var kc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",cN=function(){function e(t,n,r,i,o,s,u,a,l,c){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=u,this.De=l,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(f){return Promise.resolve()},!e.yt())throw new N(_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sN(this,i),this.Le=n+"main",this.R=new t1(a),this.Be=new Hi(this.Le,11,new lN(this.R)),this.qe=new nN(this.referenceDelegate,this.R),this.Ut=new eN,this.Ue=function(f,h){return new uN(f,h)}(this.R,this.Ut),this.Ke=new Jx,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,c===!1&&Se("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new N(_.FAILED_PRECONDITION,kc);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new It(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return x(n,void 0,void 0,function(){return T(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return x(n,void 0,void 0,function(){return T(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return x(n,void 0,void 0,function(){return T(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Nu(n).put(new vn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Qr(n))return D("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return D("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Io(t).get(Et.key).next(function(r){return k.resolve(n.tn(r))})},e.prototype.en=function(t){return Nu(t).delete(this.clientId)},e.prototype.nn=function(){return x(this,void 0,void 0,function(){var t,n,r,i,o=this;return T(this,function(s){switch(s.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(u){var a=gt(u,vn.store);return a.Nt().next(function(l){var c=o.rn(l,18e5),f=l.filter(function(h){return c.indexOf(h)===-1});return k.forEach(f,function(h){return a.delete(h.clientId)}).next(function(){return f})})}).catch(function(){return[]})]);case 1:if(t=s.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));s.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?k.resolve(!0):Io(t).get(Et.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new N(_.FAILED_PRECONDITION,kc);return!1}}return!(!n.networkEnabled||!n.inForeground)||Nu(t).Nt().next(function(i){return n.rn(i,5e3).find(function(o){if(n.clientId!==o.clientId){var s=!n.networkEnabled&&o.networkEnabled,u=!n.inForeground&&o.inForeground,a=n.networkEnabled===o.networkEnabled;if(s||u&&a)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&D("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return x(this,void 0,void 0,function(){var t=this;return T(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Et.store,vn.store],function(r){var i=new av(r,It.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Nu(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return tN.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;D("IndexedDbPersistence","Starting transaction:",t);var o,s=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,s,Qx,function(u){return o=new av(u,i.Ne?i.Ne.next():It.o),n==="readwrite-primary"?i.Je(o).next(function(a){return!!a||i.Ye(o)}).next(function(a){if(!a)throw Se("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new N(_.FAILED_PRECONDITION,Jw);return r(o)}).next(function(a){return i.Ze(o).next(function(){return a})}):i.dn(o).next(function(){return r(o)})}).then(function(u){return o.raiseOnCommittedEvent(),u})},e.prototype.dn=function(t){var n=this;return Io(t).get(Et.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new N(_.FAILED_PRECONDITION,kc)})},e.prototype.Ze=function(t){var n=new Et(this.clientId,this.allowTabSynchronization,Date.now());return Io(t).put(Et.key,n)},e.yt=function(){return Hi.yt()},e.prototype.Xe=function(t){var n=this,r=Io(t);return r.get(Et.key).next(function(i){return n.tn(i)?(D("IndexedDbPersistence","Releasing primary lease."),r.delete(Et.key)):k.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Se("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),pT()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return D("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Se("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Se("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Io(e){return gt(e,Et.store)}function Nu(e){return gt(e,vn.store)}function $d(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var l1=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var o=0,s=r;o<s.length;o++)s[o].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var o=0,s=n;o<s.length;o++)s[o].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return $.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):Dd(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new $(n)).next(function(r){var i=Kf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,o=n.collectionGroup,s=Kf();return this.Ut.getCollectionParents(t,o).next(function(u){return k.forEach(u,function(a){var l=function(c,f){return new In(f,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(o));return i.An(t,l,r).next(function(c){c.forEach(function(f,h){s=s.insert(f,h)})})}).next(function(){return s})})},e.prototype.An=function(t,n,r){var i,o,s=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(u){return i=u,s._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(u){return o=u,s.Rn(t,o,i).next(function(a){i=a;for(var l=0,c=o;l<c.length;l++)for(var f=c[l],h=0,d=f.mutations;h<d.length;h++){var v=d[h],y=v.key,E=i.get(y);E==null&&(E=Xe.newInvalidDocument(y),i=i.insert(y,E)),qf(v,E,f.localWriteTime),E.isFoundDocument()||(i=i.remove(y))}})}).next(function(){return i.forEach(function(u,a){Ks(n,a)||(i=i.remove(u))}),i})},e.prototype.Rn=function(t,n,r){for(var i=re(),o=0,s=n;o<s.length;o++)for(var u=0,a=s[o].mutations;u<a.length;u++){var l=a[u];l instanceof ur&&r.get(l.key)===null&&(i=i.add(l.key))}var c=r;return this.Ue.getEntries(t,i).next(function(f){return f.forEach(function(h,d){d.isFoundDocument()&&(c=c.insert(h,d))}),c})},e}(),fN=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=re(),i=re(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),c1=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var o=this;return function(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(H.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(s){var u=o.Cn(n,s);return(Vu(n)||Aa(n))&&o.Nn(n.limitType,u,i,r)?o.Dn(t,n):(Uf()<=X.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zf(n)),o.Sn.getDocumentsMatchingQuery(t,n,r).next(function(a){return u.forEach(function(l){a=a.insert(l.key,l)}),a}))})},e.prototype.Cn=function(t,n){var r=new Ce(Dw(t));return n.forEach(function(i,o){Ks(t,o)&&(r=r.add(o))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var o=t==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return Uf()<=X.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",zf(n)),this.Sn.getDocumentsMatchingQuery(t,n,H.min())},e}(),hN=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.kn=new Je(Q),this.Fn=new so(function(o){return Bs(o)},Tl),this.$n=H.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new l1(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(e,t,n,r){return new hN(e,t,n,r)}function h1(e,t){return x(this,void 0,void 0,function(){var n,r,i,o;return T(this,function(s){switch(s.label){case 0:return n=P(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(u){var a;return n._n.getAllMutationBatches(u).next(function(l){return a=l,r=n.persistence.getMutationQueue(t),i=new l1(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(u)}).next(function(l){for(var c=[],f=[],h=re(),d=0,v=a;d<v.length;d++){var y=v[d];c.push(y.batchId);for(var E=0,m=y.mutations;E<m.length;E++){var p=m[E];h=h.add(p.key)}}for(var g=0,S=l;g<S.length;g++){var I=S[g];f.push(I.batchId);for(var b=0,R=I.mutations;b<R.length;b++){var M=R[b];h=h.add(M.key)}}return i.pn(u,h).next(function(te){return{Ln:te,removedBatchIds:c,addedBatchIds:f}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function dN(e,t){var n=P(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),o=n.On.newChangeBuffer({trackRemovals:!0});return function(s,u,a,l){var c=a.batch,f=c.keys(),h=k.resolve();return f.forEach(function(d){h=h.next(function(){return l.getEntry(u,d)}).next(function(v){var y=a.docVersions.get(d);V(y!==null),v.version.compareTo(y)<0&&(c.applyToRemoteDocument(v,a),v.isValidDocument()&&l.addEntry(v,a.commitVersion))})}),h.next(function(){return s._n.removeMutationBatch(u,c)})}(n,r,t,o).next(function(){return o.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function d1(e){var t=P(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function pN(e,t){var n=P(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var u=[];t.targetChanges.forEach(function(c,f){var h=i.get(f);if(h){u.push(n.qe.removeMatchingKeys(o,c.removedDocuments,f).next(function(){return n.qe.addMatchingKeys(o,c.addedDocuments,f)}));var d=c.resumeToken;if(d.approximateByteSize()>0){var v=h.withResumeToken(d,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(f,v),function(y,E,m){return V(E.resumeToken.approximateByteSize()>0),y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,v,c)&&u.push(n.qe.updateTargetData(o,v))}}});var a=Wt();if(t.documentUpdates.forEach(function(c,f){t.resolvedLimboDocuments.has(c)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),u.push(mN(o,s,t.documentUpdates,r).next(function(c){a=c})),!r.isEqual(H.min())){var l=n.qe.getLastRemoteSnapshotVersion(o).next(function(c){return n.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});u.push(l)}return k.waitFor(u).next(function(){return s.apply(o)}).next(function(){return n.Mn.En(o,a)}).next(function(){return a})}).then(function(o){return n.kn=i,o})}function mN(e,t,n,r,i){var o=re();return n.forEach(function(s){return o=o.add(s)}),t.getEntries(e,o).next(function(s){var u=Wt();return n.forEach(function(a,l){var c=s.get(a),f=r;l.isNoDocument()&&l.version.isEqual(H.min())?(t.removeEntry(a,f),u=u.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l,f),u=u.insert(a,l)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),u})}function vN(e,t){var n=P(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function La(e,t){var n=P(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(o){return o?(i=o,k.resolve(i)):n.qe.allocateTargetId(r).next(function(s){return i=new kl(t,s,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function Gi(e,t,n){return x(this,void 0,void 0,function(){var r,i,o,s;return T(this,function(u){switch(u.label){case 0:r=P(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(a){return r.persistence.referenceDelegate.removeTarget(a,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Qr(s=u.sent()))throw s;return D("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function ja(e,t,n){var r=P(e),i=H.min(),o=re();return r.persistence.runTransaction("Execute query","readonly",function(s){return function(u,a,l){var c=P(u),f=c.Fn.get(l);return f!==void 0?k.resolve(c.kn.get(f)):c.qe.getTargetData(a,l)}(r,s,un(t)).next(function(u){if(u)return i=u.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(s,u.targetId).next(function(a){o=a})}).next(function(){return r.xn.getDocumentsMatchingQuery(s,t,n?i:H.min(),n?o:re())}).next(function(u){return{documents:u,Bn:o}})})}function p1(e,t){var n=P(e),r=P(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,t).next(function(s){return s?s.target:null})})}function m1(e){var t=P(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,o){var s=P(r),u=Wt(),a=Fd(o),l=An(i),c=IDBKeyRange.lowerBound(a,!0);return l.$t({index:pe.readTimeIndex,range:c},function(f,h){var d=Wf(s.R,h);u=u.insert(d.key,d),a=h.readTime}).next(function(){return{wn:u,readTime:n1(a)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function yN(e){return x(this,void 0,void 0,function(){var t;return T(this,function(n){return[2,(t=P(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=An(i),s=H.min();return o.$t({index:pe.readTimeIndex,reverse:!0},function(u,a,l){a.readTime&&(s=n1(a.readTime)),l.done()}).next(function(){return s})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gN=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return k.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:it(r.createTime)}),k.resolve()},e.prototype.getNamedQuery=function(t,n){return k.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:i1(r.bundledQuery),readTime:it(r.readTime)}}(n)),k.resolve()},e}(),Ud=function(){function e(){this.Wn=new Ce(De.Gn),this.zn=new Ce(De.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new De(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new De(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new $(new J([])),i=new De(r,t),o=new De(r,t+1),s=[];return this.zn.forEachInRange([i,o],function(u){n.Yn(u),s.push(u.key)}),s},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new $(new J([])),r=new De(n,t),i=new De(n,t+1),o=re();return this.zn.forEachInRange([r,i],function(s){o=o.add(s.key)}),o},e.prototype.containsKey=function(t){var n=new De(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),De=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return $.comparator(t.key,n.key)||Q(t.ns,n.ns)},e.Hn=function(t,n){return Q(t.ns,n.ns)||$.comparator(t.key,n.key)},e}(),wN=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Ce(De.Gn)}return e.prototype.checkEmpty=function(t){return k.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var s=new jd(o,n,r,i);this._n.push(s);for(var u=0,a=i;u<a.length;u++){var l=a[u];this.rs=this.rs.add(new De(l.key,o)),this.Ut.addToCollectionParentIndex(t,l.key.path.popLast())}return k.resolve(s)},e.prototype.lookupMutationBatch=function(t,n){return k.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),o=i<0?0:i;return k.resolve(this._n.length>o?this._n[o]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return k.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return k.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new De(n,0),o=new De(n,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([i,o],function(u){var a=r.os(u.ns);s.push(a)}),k.resolve(s)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Ce(Q);return n.forEach(function(o){var s=new De(o,0),u=new De(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([s,u],function(a){i=i.add(a.ns)})}),k.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,o=r;$.isDocumentKey(o)||(o=o.child(""));var s=new De(new $(o),0),u=new Ce(Q);return this.rs.forEachWhile(function(a){var l=a.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(u=u.add(a.ns)),!0)},s),k.resolve(this.us(u))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var o=n.os(i);o!==null&&r.push(o)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;V(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return k.forEach(n.mutations,function(o){var s=new De(o.key,n.batchId);return i=i.delete(s),r.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new De(n,0),i=this.rs.firstAfterOrEqual(r);return k.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,k.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),EN=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Je($.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,o=this.docs.get(i),s=o?o.size:0,u=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:u,readTime:r}),this.size+=u-s,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return k.resolve(r?r.document.clone():Xe.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=Wt();return n.forEach(function(o){var s=r.docs.get(o);i=i.insert(o,s?s.document.clone():Xe.newInvalidDocument(o))}),k.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=Wt(),o=new $(n.path.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),a=u.key,l=u.value,c=l.document,f=l.readTime;if(!n.path.isPrefixOf(a.path))break;f.compareTo(r)<=0||Ks(n,c)&&(i=i.insert(c.key,c.clone()))}return k.resolve(i)},e.prototype.fs=function(t,n){return k.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new SN(this)},e.prototype.getSize=function(t){return k.resolve(this.size)},e}(),SN=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return U(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(o,s){s.document.isValidDocument()?i.push(r.Ie.addEntry(n,s.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),k.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(a1),_N=function(){function e(t){this.persistence=t,this.ds=new so(function(n){return Bs(n)},Tl),this.lastRemoteSnapshotVersion=H.min(),this.highestTargetId=0,this.ws=0,this._s=new Ud,this.targetCount=0,this.ys=Oa.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),k.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return k.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return k.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),k.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),k.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Oa(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,k.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),k.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,k.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,s=[];return this.ds.forEach(function(u,a){a.sequenceNumber<=n&&r.get(a.targetId)===null&&(i.ds.delete(u),s.push(i.removeMatchingKeysForTargetId(t,a.targetId)),o++)}),k.waitFor(s).next(function(){return o})},e.prototype.getTargetCount=function(t){return k.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return k.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),k.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(function(s){o.push(i.markPotentiallyOrphaned(t,s))}),k.waitFor(o)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),k.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return k.resolve(r)},e.prototype.containsKey=function(t,n){return k.resolve(this._s.containsKey(n))},e}(),TN=function(){function e(t,n){var r=this;this.gs={},this.Ne=new It(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new _N(this),this.Ut=new Zx,this.Ue=function(i,o){return new EN(i,function(s){return r.referenceDelegate.ps(s)})}(this.Ut),this.R=new t1(n),this.Ke=new gN(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new wN(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;D("MemoryPersistence","Starting transaction:",t);var o=new IN(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(s){return i.referenceDelegate.Ts(o).next(function(){return s})}).toPromise().then(function(s){return o.raiseOnCommittedEvent(),s})},e.prototype.Is=function(t,n){return k.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),IN=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return U(t,e),t}(Zw),xN=function(){function e(t){this.persistence=t,this.As=new Ud,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw F()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),k.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),k.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),k.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(o){o.forEach(function(s){return r.vs.add(s.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.vs,function(i){var o=$.fromPath(i);return n.Ps(t,o).next(function(s){s||r.removeEntry(o)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return k.or([function(){return k.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),Le=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(e,t){return"firestore_clients_"+e+"_"+t}function wv(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Cc(e,t){return"firestore_targets_"+e+"_"+t}Le.UNAUTHENTICATED=new Le(null),Le.GOOGLE_CREDENTIALS=new Le("google-credentials-uid"),Le.FIRST_PARTY=new Le("first-party-uid"),Le.MOCK_USER=new Le("mock-user");var Ev=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),s=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new N(o.error.code,o.error.message)),s?new e(t,n,o.state,i):(Se("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),bc=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new N(i.error.code,i.error.message)),o?new e(t,i.state,r):(Se("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Sv=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Nl(),s=0;i&&s<r.activeTargetIds.length;++s)i=Iw(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new e(t,o):(Se("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),NN=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Se("SharedClientState","Failed to parse online state: "+t),null)},e}(),Qf=function(){function e(){this.activeTargetIds=Nl()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Dc=function(){function e(t,n,r,i,o){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Je(Q),this.started=!1,this.$s=[];var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=gv(this.persistenceKey,this.Ns),this.Ms=function(u){return"firestore_sequence_number_"+u}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Qf),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(u){return"firestore_online_state_"+u}(this.persistenceKey),this.Ks=function(u){return"firestore_bundle_loaded_"+u}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return x(this,void 0,void 0,function(){var t,n,r,i,o,s,u,a,l,c,f,h=this;return T(this,function(d){switch(d.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=d.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(o=this.getItem(gv(this.persistenceKey,i)))&&(s=Sv.Vs(i,o))&&(this.Fs=this.Fs.insert(s.clientId,s));for(this.Qs(),(u=this.storage.getItem(this.Us))&&(a=this.js(u))&&this.Ws(a),l=0,c=this.$s;l<c.length;l++)f=c[l],this.ks(f);return this.$s=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(Cc(this.persistenceKey,t));if(r){var i=bc.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Cc(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(o){i.Hs(o)}),this.currentUser=t,r.forEach(function(o){i.addPendingMutation(o)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return D("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){D("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){D("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(D("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Se("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return x(n,void 0,void 0,function(){var i,o,s,u,a,l;return T(this,function(c){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(s=this.si(r.key,r.newValue)))return[2,this.ii(s)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(u=this.ri(r.key,r.newValue)))return[2,this.oi(u)]}else if(r.key===this.Us){if(r.newValue!==null&&(a=this.js(r.newValue)))return[2,this.Ws(a)]}else if(r.key===this.Ms)(l=function(f){var h=It.o;if(f!=null)try{var d=JSON.parse(f);V(typeof d=="number"),h=d}catch(v){Se("SharedClientState","Failed to read sequence number from WebStorage",v)}return h}(r.newValue))!==It.o&&this.sequenceNumberHandler(l);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new Ev(this.currentUser,t,n,r),o=wv(this.persistenceKey,this.currentUser,t);this.setItem(o,i.Ss())},e.prototype.Hs=function(t){var n=wv(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=Cc(this.persistenceKey,t),o=new bc(t,n,r);this.setItem(i,o.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return Sv.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Ev.Vs(new Le(o),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return bc.Vs(i,n)},e.prototype.js=function(t){return NN.Vs(t)},e.prototype.ii=function(t){return x(this,void 0,void 0,function(){return T(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(D("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.Fs.insert(t,n):this.Fs.remove(t),o=this.Gs(this.Fs),s=this.Gs(i),u=[],a=[];return s.forEach(function(l){o.has(l)||u.push(l)}),o.forEach(function(l){s.has(l)||a.push(l)}),this.syncEngine.hi(u,a).then(function(){r.Fs=i})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Nl();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),v1=function(){function e(){this.li=new Qf,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Qf,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),kN=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),_v=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),CN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},bN=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),DN=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return U(t,e),t.prototype.Fi=function(n,r,i,o){return new Promise(function(s,u){var a=new sx;a.listenOnce(rx.COMPLETE,function(){try{switch(a.getLastErrorCode()){case Nc.NO_ERROR:var c=a.getResponseJson();D("Connection","XHR received:",JSON.stringify(c)),s(c);break;case Nc.TIMEOUT:D("Connection",'RPC "'+n+'" timed out'),u(new N(_.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:var f=a.getStatus();if(D("Connection",'RPC "'+n+'" failed with status:',f,"response text:",a.getResponseText()),f>0){var h=a.getResponseJson().error;if(h&&h.status&&h.message){var d=function(v){var y=v.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(y)>=0?y:_.UNKNOWN}(h.status);u(new N(d,h.message))}else u(new N(_.UNKNOWN,"Server responded with status "+a.getStatus()))}else u(new N(_.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{D("Connection",'RPC "'+n+'" completed.')}});var l=JSON.stringify(o);a.send(r,"POST",l,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],o=tx(),s=nx(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new ox({})),this.ki(u.initMessageHeaders,r),uT()||cT()||fT()||hT()||dT()||lT()||(u.httpHeadersOverwriteParam="$httpHeaders");var a=i.join("");D("Connection","Creating WebChannel: "+a,u);var l=o.createWebChannel(a,u),c=!1,f=!1,h=new bN({Ei:function(v){f?D("Connection","Not sending because WebChannel is closed:",v):(c||(D("Connection","Opening WebChannel transport."),l.open(),c=!0),D("Connection","WebChannel sending:",v),l.send(v))},Ti:function(){return l.close()}}),d=function(v,y,E){v.listen(y,function(m){try{E(m)}catch(p){setTimeout(function(){throw p},0)}})};return d(l,_u.EventType.OPEN,function(){f||D("Connection","WebChannel transport opened.")}),d(l,_u.EventType.CLOSE,function(){f||(f=!0,D("Connection","WebChannel transport closed"),h.Vi())}),d(l,_u.EventType.ERROR,function(v){f||(f=!0,Na("Connection","WebChannel transport errored:",v),h.Vi(new N(_.UNAVAILABLE,"The operation could not be completed")))}),d(l,_u.EventType.MESSAGE,function(v){var y;if(!f){var E=v.data[0];V(!!E);var m=E,p=m.error||((y=m[0])===null||y===void 0?void 0:y.error);if(p){D("Connection","WebChannel received error:",p);var g=p.status,S=function(b){var R=ge[b];if(R!==void 0)return Uw(R)}(g),I=p.message;S===void 0&&(S=_.INTERNAL,I="Unknown error status: "+g+" with message "+p.message),f=!0,h.Vi(new N(S,I)),l.close()}else D("Connection","WebChannel received:",E),h.Si(E)}}),d(s,ix.STAT_EVENT,function(v){v.stat===$m.PROXY?D("Connection","Detected buffering proxy"):v.stat===$m.NOPROXY&&D("Connection","Detected no buffering proxy")}),setTimeout(function(){h.Pi()},0),h},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var o=this.xi(t,n);D("RestConnection","Sending: ",o,r);var s={};return this.ki(s,i),this.Fi(t,o,s,r).then(function(u){return D("RestConnection","Received: ",u),u},function(u){throw Na("RestConnection",t+" failed with error: ",u,"url: ",o,"request:",r),u})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=CN[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(){return typeof window<"u"?window:null}function qu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(e){return new jx(e,!0)}var Vd=function(){function e(t,n,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),o=Math.max(0,r-i);o>0&&D("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),g1=function(){function e(t,n,r,i,o,s){this.Se=t,this.zi=r,this.Hi=i,this.Ji=o,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Vd(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return x(this,void 0,void 0,function(){return T(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return x(this,void 0,void 0,function(){return T(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return x(this,void 0,void 0,function(){return T(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(Se(n.toString()),Se("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===_.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var o=new N(_.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(o)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return x(t,void 0,void 0,function(){return T(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return D("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),AN=function(e){function t(n,r,i,o,s){var u=this;return(u=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,s)||this).R=o,u}return U(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(o,s){var u;if("targetChange"in s){s.targetChange;var a=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:F()}(s.targetChange.targetChangeType||"NO_CHANGE"),l=s.targetChange.targetIds||[],c=function(E,m){return E.I?(V(m===void 0||typeof m=="string"),vt.fromBase64String(m||"")):(V(m===void 0||m instanceof Uint8Array),vt.fromUint8Array(m||new Uint8Array))}(o,s.targetChange.resumeToken),f=(h=s.targetChange.cause)&&function(E){var m=E.code===void 0?_.UNKNOWN:Uw(E.code);return new N(m,E.message||"")}(h);u=new Bw(a,l,c,f||null)}else if("documentChange"in s){s.documentChange,(a=s.documentChange).document,a.document.name,a.document.updateTime,l=mn(o,a.document.name),c=it(a.document.updateTime);var h=new _t({mapValue:{fields:a.document.fields}}),d=(f=Xe.newFoundDocument(l,c,h),a.targetIds||[]),v=a.removedTargetIds||[];u=new zu(d,v,f.key,f)}else if("documentDelete"in s)s.documentDelete,(a=s.documentDelete).document,l=mn(o,a.document),c=a.readTime?it(a.readTime):H.min(),h=Xe.newNoDocument(l,c),f=a.removedTargetIds||[],u=new zu([],f,h.key,h);else if("documentRemove"in s)s.documentRemove,(a=s.documentRemove).document,l=mn(o,a.document),c=a.removedTargetIds||[],u=new zu([],c,l,null);else{if(!("filter"in s))return F();s.filter;var y=s.filter;y.targetId,a=y.count||0,l=new Nx(a),c=y.targetId,u=new Vw(c,l)}return u}(this.R,n),i=function(o){if(!("targetChange"in o))return H.min();var s=o.targetChange;return s.targetIds&&s.targetIds.length?H.min():s.readTime?it(s.readTime):H.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=_s(this.R),r.addTarget=function(o,s){var u,a=s.target;return(u=ba(a)?{documents:Ww(o,a)}:{query:Qw(o,a)}).targetId=s.targetId,s.resumeToken.approximateByteSize()>0?u.resumeToken=zw(o,s.resumeToken):s.snapshotVersion.compareTo(H.min())>0&&(u.readTime=Es(o,s.snapshotVersion.toTimestamp())),u}(this.R,n);var i=function(o,s){var u=function(a,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return F()}}(0,s.purpose);return u==null?null:{"goog-listen-tags":u}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=_s(this.R),r.removeTarget=n,this.cr(r)},t}(g1),RN=function(e){function t(n,r,i,o,s){var u=this;return(u=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,s)||this).R=o,u.gr=!1,u}return U(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(V(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(o,s){return o&&o.length>0?(V(s!==void 0),o.map(function(u){return function(a,l){var c=a.updateTime?it(a.updateTime):it(l);return c.isEqual(H.min())&&(c=it(l)),new Tx(c,a.transformResults||[])}(u,s)})):[]}(n.writeResults,n.commitTime),i=it(n.commitTime);return this.listener.Tr(i,r)}return V(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=_s(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(o){return Ra(r.R,o)})};this.cr(i)},t}(g1),PN=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).credentials=n,o.Hi=r,o.R=i,o.Rr=!1,o}return U(t,e),t.prototype.br=function(){if(this.Rr)throw new N(_.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.Ni(n,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===_.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new N(_.UNKNOWN,s.toString())})},t.prototype.$i=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.$i(n,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===_.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new N(_.UNKNOWN,s.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),ON=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Se(n),this.Vr=!1):D("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),LN=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(s){n.enqueueAndForget(function(){return x(o,void 0,void 0,function(){return T(this,function(u){switch(u.label){case 0:return ar(this)?(D("RemoteStore","Restarting streams for network reachability change."),[4,function(a){return x(this,void 0,void 0,function(){var l;return T(this,function(c){switch(c.label){case 0:return(l=P(a)).Or.add(4),[4,uo(l)];case 1:return c.sent(),l.Br.set("Unknown"),l.Or.delete(4),[4,Gs(l)];case 2:return c.sent(),[2]}})})}(this)]):[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})})}),this.Br=new ON(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(e){return x(this,void 0,void 0,function(){var t,n;return T(this,function(r){switch(r.label){case 0:if(!ar(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function uo(e){return x(this,void 0,void 0,function(){var t,n;return T(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function bl(e,t){var n=P(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),qd(n)?zd(n):lo(n).er()&&Bd(n,t))}function Ts(e,t){var n=P(e),r=lo(n);n.$r.delete(t),r.er()&&w1(n,t),n.$r.size===0&&(r.er()?r.ir():ar(n)&&n.Br.set("Unknown"))}function Bd(e,t){e.qr.U(t.targetId),lo(e).mr(t)}function w1(e,t){e.qr.U(t),lo(e).yr(t)}function zd(e){e.qr=new Px({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),lo(e).start(),e.Br.Sr()}function qd(e){return ar(e)&&!lo(e).tr()&&e.$r.size>0}function ar(e){return P(e).Or.size===0}function E1(e){e.qr=void 0}function jN(e){return x(this,void 0,void 0,function(){return T(this,function(t){return e.$r.forEach(function(n,r){Bd(e,n)}),[2]})})}function FN(e,t){return x(this,void 0,void 0,function(){return T(this,function(n){return E1(e),qd(e)?(e.Br.Nr(t),zd(e)):e.Br.set("Unknown"),[2]})})}function MN(e,t,n){return x(this,void 0,void 0,function(){var r,i,o;return T(this,function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof Bw&&t.state===2&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(u,a){return x(this,void 0,void 0,function(){var l,c,f,h;return T(this,function(d){switch(d.label){case 0:l=a.cause,c=0,f=a.targetIds,d.label=1;case 1:return c<f.length?(h=f[c],u.$r.has(h)?[4,u.remoteSyncer.rejectListen(h,l)]:[3,3]):[3,5];case 2:d.sent(),u.$r.delete(h),u.qr.removeTarget(h),d.label=3;case 3:d.label=4;case 4:return c++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),D("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Fa(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof zu?e.qr.X(t):t instanceof Vw?e.qr.rt(t):e.qr.et(t),n.isEqual(H.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,d1(e.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(u,a){var l=u.qr.ut(a);return l.targetChanges.forEach(function(c,f){if(c.resumeToken.approximateByteSize()>0){var h=u.$r.get(f);h&&u.$r.set(f,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach(function(c){var f=u.$r.get(c);if(f){u.$r.set(c,f.withResumeToken(vt.EMPTY_BYTE_STRING,f.snapshotVersion)),w1(u,c);var h=new kl(f.target,c,1,f.sequenceNumber);Bd(u,h)}}),u.remoteSyncer.applyRemoteEvent(l)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return D("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Fa(e,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Fa(e,t,n){return x(this,void 0,void 0,function(){var r=this;return T(this,function(i){switch(i.label){case 0:if(!Qr(t))throw t;return e.Or.add(1),[4,uo(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return d1(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return x(r,void 0,void 0,function(){return T(this,function(o){switch(o.label){case 0:return D("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return o.sent(),e.Or.delete(1),[4,Gs(e)];case 2:return o.sent(),[2]}})})}),[2]}})})}function S1(e,t){return t().catch(function(n){return Fa(e,n,t)})}function ao(e){return x(this,void 0,void 0,function(){var t,n,r,i,o;return T(this,function(s){switch(s.label){case 0:t=P(e),n=tr(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,s.label=1;case 1:if(!function(u){return ar(u)&&u.Fr.length<10}(t))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,vN(t.localStore,r)];case 3:return(i=s.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(u,a){u.Fr.push(a);var l=tr(u);l.er()&&l.pr&&l.Er(a.mutations)}(t,i),[3,6]);case 4:return o=s.sent(),[4,Fa(t,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return _1(t)&&T1(t),[2]}})})}function _1(e){return ar(e)&&!tr(e).tr()&&e.Fr.length>0}function T1(e){tr(e).start()}function $N(e){return x(this,void 0,void 0,function(){return T(this,function(t){return tr(e).Ar(),[2]})})}function UN(e){return x(this,void 0,void 0,function(){var t,n,r,i;return T(this,function(o){for(t=tr(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function VN(e,t,n){return x(this,void 0,void 0,function(){var r,i;return T(this,function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=Xx.from(r,t,n),[4,S1(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,ao(e)];case 2:return o.sent(),[2]}})})}function BN(e,t){return x(this,void 0,void 0,function(){return T(this,function(n){switch(n.label){case 0:return t&&tr(e).pr?[4,function(r,i){return x(this,void 0,void 0,function(){var o,s;return T(this,function(u){switch(u.label){case 0:return $w(s=i.code)&&s!==_.ABORTED?(o=r.Fr.shift(),tr(r).sr(),[4,S1(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return u.sent(),[4,ao(r)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return _1(e)&&T1(e),[2]}})})}function Gf(e,t){return x(this,void 0,void 0,function(){var n;return T(this,function(r){switch(r.label){case 0:return n=P(e),t?(n.Or.delete(2),[4,Gs(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,uo(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function lo(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var o=P(n);return o.br(),new AN(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:jN.bind(null,e),Ri:FN.bind(null,e),_r:MN.bind(null,e)}),e.Mr.push(function(n){return x(t,void 0,void 0,function(){return T(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),qd(e)?zd(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),E1(e),r.label=3;case 3:return[2]}})})})),e.Ur}function tr(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var o=P(n);return o.br(),new RN(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:$N.bind(null,e),Ri:BN.bind(null,e),Ir:UN.bind(null,e),Tr:VN.bind(null,e)}),e.Mr.push(function(n){return x(t,void 0,void 0,function(){return T(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,ao(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(D("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var zN=function(){function e(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new yt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(s){})}return e.createAndSchedule=function(t,n,r,i,o){var s=new e(t,n,Date.now()+r,i,o);return s.start(r),s},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new N(_.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function co(e,t){if(Se("AsyncQueue",t+": "+e),Qr(e))return new N(_.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I1=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||$.comparator(n.key,r.key)}:function(n,r){return $.comparator(n.key,r.key)},this.keyedMap=Kf(),this.sortedSet=new Je(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Tv=function(){function e(){this.Qr=new Je($.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):F():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Ma=function(){function e(t,n,r,i,o,s,u,a){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=a}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(s){o.push({type:0,doc:s})}),new e(t,n,I1.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qs(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),qN=function(){this.Wr=void 0,this.listeners=[]},KN=function(){this.queries=new so(function(e){return bw(e)},qs),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(e,t){return x(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return T(this,function(l){switch(l.label){case 0:if(n=P(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new qN),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=l.sent(),[3,4];case 3:return u=l.sent(),a=co(u,"Initialization of query '"+zf(t.query)+"' failed"),[2,void t.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Wd(n),[2]}})})}function Hd(e,t){return x(this,void 0,void 0,function(){var n,r,i,o,s;return T(this,function(u){return n=P(e),r=t.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(t))>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function HN(e,t){for(var n=P(e),r=!1,i=0,o=t;i<o.length;i++){var s=o[i],u=s.query,a=n.queries.get(u);if(a){for(var l=0,c=a.listeners;l<c.length;l++)c[l].Hr(s)&&(r=!0);a.Wr=s}}r&&Wd(n)}function WN(e,t,n){var r=P(e),i=r.queries.get(t);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(t)}function Wd(e){e.Gr.forEach(function(t){t.next()})}var Qd=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&n.push(o)}t=new Ma(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Ma.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x1=function(e){this.key=e},N1=function(e){this.key=e},k1=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=re(),this.mutatedKeys=re(),this.lo=Dw(t),this.fo=new I1(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new Tv,o=n?n.fo:this.fo,s=n?n.mutatedKeys:this.mutatedKeys,u=o,a=!1,l=Vu(this.query)&&o.size===this.query.limit?o.last():null,c=Aa(this.query)&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(function(h,d){var v=o.get(h),y=Ks(r.query,d)?d:null,E=!!v&&r.mutatedKeys.has(v.key),m=!!y&&(y.hasLocalMutations||r.mutatedKeys.has(y.key)&&y.hasCommittedMutations),p=!1;v&&y?v.data.isEqual(y.data)?E!==m&&(i.track({type:3,doc:y}),p=!0):r.yo(v,y)||(i.track({type:2,doc:y}),p=!0,(l&&r.lo(y,l)>0||c&&r.lo(y,c)<0)&&(a=!0)):!v&&y?(i.track({type:0,doc:y}),p=!0):v&&!y&&(i.track({type:1,doc:v}),p=!0,(l||c)&&(a=!0)),p&&(y?(u=u.add(y),s=m?s.add(h):s.delete(h)):(u=u.delete(h),s=s.delete(h)))}),Vu(this.query)||Aa(this.query))for(;u.size>this.query.limit;){var f=Vu(this.query)?u.last():u.first();u=u.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{fo:u,mo:i,Nn:a,mutatedKeys:s}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,o=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(c,f){return function(h,d){var v=function(y){switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return v(h)-v(d)}(c.type,f.type)||i.lo(c.doc,f.doc)}),this.po(r);var u=n?this.Eo():[],a=this.ho.size===0&&this.current?1:0,l=a!==this.ao;return this.ao=a,s.length!==0||l?{snapshot:new Ma(this.query,t.fo,o,s,t.mutatedKeys,a===0,l,!1),To:u}:{To:u}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Tv,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=re(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new N1(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new x1(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=re();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Ma.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),QN=function(e,t,n){this.query=e,this.targetId=t,this.view=n},GN=function(e){this.key=e,this.bo=!1},YN=function(){function e(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new so(function(u){return bw(u)},qs),this.Vo=new Map,this.So=new Set,this.Do=new Je($.comparator),this.Co=new Map,this.No=new Ud,this.xo={},this.ko=new Map,this.Fo=Oa.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function XN(e,t){return x(this,void 0,void 0,function(){var n,r,i,o,s,u;return T(this,function(a){switch(a.label){case 0:return n=Zd(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,La(n.localStore,un(t))];case 2:return s=a.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,Gd(n,t,r,u==="current")];case 3:i=a.sent(),n.isPrimaryClient&&bl(n.remoteStore,s),a.label=4;case 4:return[2,i]}})})}function Gd(e,t,n,r){return x(this,void 0,void 0,function(){var i,o,s,u,a,l;return T(this,function(c){switch(c.label){case 0:return e.Oo=function(f,h,d){return function(v,y,E,m){return x(this,void 0,void 0,function(){var p,g,S;return T(this,function(I){switch(I.label){case 0:return p=y.view._o(E),p.Nn?[4,ja(v.localStore,y.query,!1).then(function(b){var R=b.documents;return y.view._o(R,p)})]:[3,2];case 1:p=I.sent(),I.label=2;case 2:return g=m&&m.targetChanges.get(y.targetId),S=y.view.applyChanges(p,v.isPrimaryClient,g),[2,(Yf(v,y.targetId,S.To),S.snapshot)]}})})}(e,f,h,d)},[4,ja(e.localStore,t,!0)];case 1:return i=c.sent(),o=new k1(t,i.Bn),s=o._o(i.documents),u=Pd.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),a=o.applyChanges(s,e.isPrimaryClient,u),Yf(e,n,a.To),l=new QN(t,n,o),[2,(e.Po.set(t,l),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),a.snapshot)]}})})}function JN(e,t){return x(this,void 0,void 0,function(){var n,r,i;return T(this,function(o){switch(o.label){case 0:return n=P(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(s){return!qs(s,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Gi(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Ts(n.remoteStore,r.targetId),Yi(n,r.targetId)}).catch(Gr)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Yi(n,r.targetId),[4,Gi(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function ZN(e,t,n){return x(this,void 0,void 0,function(){var r,i,o,s;return T(this,function(u){switch(u.label){case 0:r=ep(e),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(a,l){var c,f=P(a),h=mt.now(),d=l.reduce(function(v,y){return v.add(y.key)},re());return f.persistence.runTransaction("Locally write mutations","readwrite",function(v){return f.Mn.pn(v,d).next(function(y){c=y;for(var E=[],m=0,p=l;m<p.length;m++){var g=p[m],S=xx(g,c.get(g.key));S!=null&&E.push(new ur(g.key,S,xw(S.value.mapValue),Qe.exists(!0)))}return f._n.addMutationBatch(v,h,E,l)})}).then(function(v){return v.applyToLocalDocumentSet(c),{batchId:v.batchId,changes:c}})}(r.localStore,t)];case 2:return i=u.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(a,l,c){var f=a.xo[a.currentUser.toKey()];f||(f=new Je(Q)),f=f.insert(l,c),a.xo[a.currentUser.toKey()]=f}(r,i.batchId,n),[4,lr(r,i.changes)];case 3:return u.sent(),[4,ao(r.remoteStore)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=co(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function C1(e,t){return x(this,void 0,void 0,function(){var n,r;return T(this,function(i){switch(i.label){case 0:n=P(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,pN(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(o,s){var u=n.Co.get(s);u&&(V(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.bo=!0:o.modifiedDocuments.size>0?V(u.bo):o.removedDocuments.size>0&&(V(u.bo),u.bo=!1))}),[4,lr(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Gr(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Iv(e,t,n){var r=P(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(o,s){var u=s.view.zr(t);u.snapshot&&i.push(u.snapshot)}),function(o,s){var u=P(o);u.onlineState=s;var a=!1;u.queries.forEach(function(l,c){for(var f=0,h=c.listeners;f<h.length;f++)h[f].zr(s)&&(a=!0)}),a&&Wd(u)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ek(e,t,n){return x(this,void 0,void 0,function(){var r,i,o,s,u,a;return T(this,function(l){switch(l.label){case 0:return(r=P(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(s=(s=new Je($.comparator)).insert(o,Xe.newNoDocument(o,H.min())),u=re().add(o),a=new Rd(H.min(),new Map,new Ce(Q),s,u),[4,C1(r,a)]):[3,2];case 1:return l.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Jd(r),[3,4];case 2:return[4,Gi(r.localStore,t,!1).then(function(){return Yi(r,t,n)}).catch(Gr)];case 3:l.sent(),l.label=4;case 4:return[2]}})})}function tk(e,t){return x(this,void 0,void 0,function(){var n,r,i;return T(this,function(o){switch(o.label){case 0:n=P(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,dN(n.localStore,t)];case 2:return i=o.sent(),Xd(n,r,null),Yd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,lr(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Gr(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function nk(e,t,n){return x(this,void 0,void 0,function(){var r,i;return T(this,function(o){switch(o.label){case 0:r=P(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(s,u){var a=P(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",function(l){var c;return a._n.lookupMutationBatch(l,u).next(function(f){return V(f!==null),c=f.keys(),a._n.removeMutationBatch(l,f)}).next(function(){return a._n.performConsistencyCheck(l)}).next(function(){return a.Mn.pn(l,c)})})}(r.localStore,t)];case 2:return i=o.sent(),Xd(r,t,n),Yd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,lr(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Gr(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function rk(e,t){return x(this,void 0,void 0,function(){var n,r,i,o,s;return T(this,function(u){switch(u.label){case 0:ar((n=P(e)).remoteStore)||D("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(a){var l=P(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(c){return l._n.getHighestUnacknowledgedBatchId(c)})}(n.localStore)];case 2:return(r=u.sent())===-1?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=u.sent(),s=co(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}})})}function Yd(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function Xd(e,t,n){var r=P(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Yi(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(s){e.No.containsKey(s)||b1(e,s)})}function b1(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Ts(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Jd(e))}function Yf(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof x1?(e.No.addReference(o.key,t),ik(e,o)):o instanceof N1?(D("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||b1(e,o.key)):F()}}function ik(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(D("SyncEngine","New document in limbo: "+n),e.So.add(r),Jd(e))}function Jd(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new $(J.fromString(t)),r=e.Fo.next();e.Co.set(r,new GN(n)),e.Do=e.Do.insert(n,r),bl(e.remoteStore,new kl(un(zs(n.path)),r,2,It.o))}}function lr(e,t,n){return x(this,void 0,void 0,function(){var r,i,o,s;return T(this,function(u){switch(u.label){case 0:return r=P(e),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(a,l){s.push(r.Oo(l,t,n).then(function(c){if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),i.push(c);var f=fN.Pn(l.targetId,c);o.push(f)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.vo._r(i),[4,function(a,l){return x(this,void 0,void 0,function(){var c,f,h,d,v,y,E,m,p;return T(this,function(g){switch(g.label){case 0:c=P(a),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,c.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(S){return k.forEach(l,function(I){return k.forEach(I.bn,function(b){return c.persistence.referenceDelegate.addReference(S,I.targetId,b)}).next(function(){return k.forEach(I.vn,function(b){return c.persistence.referenceDelegate.removeReference(S,I.targetId,b)})})})})];case 2:return g.sent(),[3,4];case 3:if(!Qr(f=g.sent()))throw f;return D("LocalStore","Failed to update sequence numbers: "+f),[3,4];case 4:for(h=0,d=l;h<d.length;h++)v=d[h],y=v.targetId,v.fromCache||(E=c.kn.get(y),m=E.snapshotVersion,p=E.withLastLimboFreeSnapshotVersion(m),c.kn=c.kn.insert(y,p));return[2]}})})}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function ok(e,t){return x(this,void 0,void 0,function(){var n,r;return T(this,function(i){switch(i.label){case 0:return(n=P(e)).currentUser.isEqual(t)?[3,3]:(D("SyncEngine","User change. New user:",t.toKey()),[4,h1(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(o,s){o.ko.forEach(function(u){u.forEach(function(a){a.reject(new N(_.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,lr(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function sk(e,t){var n=P(e),r=n.Co.get(t);if(r&&r.bo)return re().add(r.key);var i=re(),o=n.Vo.get(t);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=u[s],l=n.Po.get(a);i=i.unionWith(l.view.wo)}return i}function uk(e,t){return x(this,void 0,void 0,function(){var n,r,i;return T(this,function(o){switch(o.label){case 0:return[4,ja((n=P(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Yf(n,t.targetId,i.To),i)]}})})}function ak(e){return x(this,void 0,void 0,function(){var t;return T(this,function(n){return[2,m1((t=P(e)).localStore).then(function(r){return lr(t,r)})]})})}function lk(e,t,n,r){return x(this,void 0,void 0,function(){var i,o;return T(this,function(s){switch(s.label){case 0:return[4,function(u,a){var l=P(u),c=P(l._n);return l.persistence.runTransaction("Lookup mutation documents","readonly",function(f){return c.jt(f,a).next(function(h){return h?l.Mn.pn(f,h):k.resolve(null)})})}((i=P(e)).localStore,t)];case 1:return(o=s.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,ao(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Xd(i,t,r||null),Yd(i,t),function(u,a){P(P(u)._n).Gt(a)}(i.localStore,t)):F(),s.label=4;case 4:return[4,lr(i,o)];case 5:return s.sent(),[3,7];case 6:D("SyncEngine","Cannot apply mutation batch with id: "+t),s.label=7;case 7:return[2]}})})}function ck(e,t){return x(this,void 0,void 0,function(){var n,r,i,o,s,u,a,l;return T(this,function(c){switch(c.label){case 0:return Zd(n=P(e)),ep(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,xv(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,Gf(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)u=s[o],bl(n.remoteStore,u);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(a=[],l=Promise.resolve(),n.Vo.forEach(function(f,h){n.sharedClientState.isLocalQueryTarget(h)?a.push(h):l=l.then(function(){return Yi(n,h),Gi(n.localStore,h,!0)}),Ts(n.remoteStore,h)}),[4,l]);case 4:return c.sent(),[4,xv(n,a)];case 5:return c.sent(),function(f){var h=P(f);h.Co.forEach(function(d,v){Ts(h.remoteStore,v)}),h.No.ts(),h.Co=new Map,h.Do=new Je($.comparator)}(n),n.$o=!1,[4,Gf(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function xv(e,t,n){return x(this,void 0,void 0,function(){var r,i,o,s,u,a,l,c,f,h,d,v,y,E;return T(this,function(m){switch(m.label){case 0:r=P(e),i=[],o=[],s=0,u=t,m.label=1;case 1:return s<u.length?(a=u[s],l=void 0,(c=r.Vo.get(a))&&c.length!==0?[4,La(r.localStore,un(c[0]))]:[3,7]):[3,13];case 2:l=m.sent(),f=0,h=c,m.label=3;case 3:return f<h.length?(d=h[f],v=r.Po.get(d),[4,uk(r,v)]):[3,6];case 4:(y=m.sent()).snapshot&&o.push(y.snapshot),m.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,p1(r.localStore,a)];case 8:return E=m.sent(),[4,La(r.localStore,E)];case 9:return l=m.sent(),[4,Gd(r,D1(E),a,!1)];case 10:m.sent(),m.label=11;case 11:i.push(l),m.label=12;case 12:return s++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function D1(e){return kw(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function fk(e){var t=P(e);return P(P(t.localStore).persistence).fn()}function hk(e,t,n,r){return x(this,void 0,void 0,function(){var i,o,s;return T(this,function(u){switch(u.label){case 0:return(i=P(e)).$o?(D("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,m1(i.localStore)];case 3:return o=u.sent(),s=Rd.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,lr(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,Gi(i.localStore,t,!0)];case 6:return u.sent(),Yi(i,t,r),[3,8];case 7:F(),u.label=8;case 8:return[2]}})})}function dk(e,t,n){return x(this,void 0,void 0,function(){var r,i,o,s,u,a,l,c,f,h;return T(this,function(d){switch(d.label){case 0:if(!(r=Zd(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(D("SyncEngine","Adding an already active target "+s),[3,5]):[4,p1(r.localStore,s)]):[3,6];case 2:return u=d.sent(),[4,La(r.localStore,u)];case 3:return a=d.sent(),[4,Gd(r,D1(u),a.targetId,!1)];case 4:d.sent(),bl(r.remoteStore,a),d.label=5;case 5:return i++,[3,1];case 6:l=function(v){return T(this,function(y){switch(y.label){case 0:return r.Vo.has(v)?[4,Gi(r.localStore,v,!1).then(function(){Ts(r.remoteStore,v),Yi(r,v)}).catch(Gr)]:[3,2];case 1:y.sent(),y.label=2;case 2:return[2]}})},c=0,f=n,d.label=7;case 7:return c<f.length?(h=f[c],[5,l(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}})})}function Zd(e){var t=P(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=C1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ek.bind(null,t),t.vo._r=HN.bind(null,t.eventManager),t.vo.Mo=WN.bind(null,t.eventManager),t}function ep(e){var t=P(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=nk.bind(null,t),t}var A1=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return x(this,void 0,void 0,function(){return T(this,function(n){switch(n.label){case 0:return this.R=Cl(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return f1(this.persistence,new c1,t.initialUser,this.R)},e.prototype.qo=function(t){return new TN(xN.bs,this.R)},e.prototype.Bo=function(t){return new v1},e.prototype.terminate=function(){return x(this,void 0,void 0,function(){return T(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),R1=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).Qo=n,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return U(t,e),t.prototype.initialize=function(n){return x(this,void 0,void 0,function(){var r=this;return T(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,yN(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,ep(this.Qo.syncEngine)];case 4:return i.sent(),[4,ao(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},t.prototype.Ko=function(n){return f1(this.persistence,new c1,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new iN(r,n.asyncQueue)},t.prototype.qo=function(n){var r=$d(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new cN(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,y1(),qu(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new v1},t}(A1),pk=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return U(t,e),t.prototype.initialize=function(n){return x(this,void 0,void 0,function(){var r,i=this;return T(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof Dc?(this.sharedClientState.syncEngine={ui:lk.bind(null,r),ai:hk.bind(null,r),hi:dk.bind(null,r),fn:fk.bind(null,r),ci:ak.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(s){return x(i,void 0,void 0,function(){return T(this,function(u){switch(u.label){case 0:return[4,ck(this.Qo.syncEngine,s)];case 1:return u.sent(),this.gcScheduler&&(s&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):s||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},t.prototype.Bo=function(n){var r=y1();if(!Dc.yt(r))throw new N(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=$d(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Dc(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(R1),Xf=function(){function e(){}return e.prototype.initialize=function(t,n){return x(this,void 0,void 0,function(){var r=this;return T(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return Iv(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ok.bind(null,this.syncEngine),[4,Gf(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new KN},e.prototype.createDatastore=function(t){var n,r=Cl(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new DN(n));return function(o,s,u){return new PN(o,s,u)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,o,s,u=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,o=function(a){return Iv(u.syncEngine,a,0)},s=_v.yt()?new _v:new kN,new LN(n,r,i,o,s)},e.prototype.createSyncEngine=function(t,n){return function(r,i,o,s,u,a,l){var c=new YN(r,i,o,s,u,a);return l&&(c.$o=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return x(this,void 0,void 0,function(){var n;return T(this,function(r){switch(r.label){case 0:return n=P(t),D("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,uo(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dl=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),mk=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return x(this,void 0,void 0,function(){var n,r=this;return T(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new N(_.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,s){return x(this,void 0,void 0,function(){var u,a,l,c,f,h;return T(this,function(d){switch(d.label){case 0:return u=P(o),a=_s(u.R)+"/documents",l={documents:s.map(function(v){return Ss(u.R,v)})},[4,u.$i("BatchGetDocuments",a,l)];case 1:return c=d.sent(),f=new Map,c.forEach(function(v){var y=function(E,m){return"found"in m?function(p,g){V(!!g.found),g.found.name,g.found.updateTime;var S=mn(p,g.found.name),I=it(g.found.updateTime),b=new _t({mapValue:{fields:g.found.fields}});return Xe.newFoundDocument(S,I,b)}(E,m):"missing"in m?function(p,g){V(!!g.missing),V(!!g.readTime);var S=mn(p,g.missing),I=it(g.readTime);return Xe.newNoDocument(S,I)}(E,m):F()}(u.R,v);f.set(y.key.toString(),y)}),h=[],[2,(s.forEach(function(v){var y=f.get(v.toString());V(!!y),h.push(y)}),h)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(o){return r.recordVersion(o)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Qs(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return x(this,void 0,void 0,function(){var t,n=this;return T(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,o){var s=$.fromPath(o);n.mutations.push(new Ad(s,n.precondition(s)))}),[4,function(i,o){return x(this,void 0,void 0,function(){var s,u,a;return T(this,function(l){switch(l.label){case 0:return s=P(i),u=_s(s.R)+"/documents",a={writes:o.map(function(c){return Ra(s.R,c)})},[4,s.Ni("Commit",u,a)];case 1:return l.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw F();n=H.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new N(_.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?Qe.updateTime(n):Qe.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(H.min()))throw new N(_.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qe.updateTime(n)}return Qe.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),vk=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new Vd(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return x(t,void 0,void 0,function(){var n,r,i=this;return T(this,function(o){return n=new mk(this.datastore),(r=this.sc(n))&&r.then(function(s){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(s)}).catch(function(u){i.ic(u)})})}).catch(function(s){i.ic(s)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Wr(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!$w(n)}return!1},e}(),yk=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Le.UNAUTHENTICATED,this.clientId=ww.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(o){return x(i,void 0,void 0,function(){return T(this,function(s){switch(s.label){case 0:return D("FirestoreClient","Received user=",o.uid),[4,this.credentialListener(o)];case 1:return s.sent(),this.user=o,[2]}})})})}return e.prototype.getConfiguration=function(){return x(this,void 0,void 0,function(){return T(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new N(_.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new yt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return x(t,void 0,void 0,function(){var r,i;return T(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=o.sent(),i=co(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(e,t){return x(this,void 0,void 0,function(){var n,r,i=this;return T(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener(function(s){return x(i,void 0,void 0,function(){return T(this,function(u){switch(u.label){case 0:return r.isEqual(s)?[3,2]:[4,h1(t.localStore,s)];case 1:u.sent(),r=s,u.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function O1(e,t){return x(this,void 0,void 0,function(){var n,r;return T(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,tp(e)];case 1:return n=i.sent(),D("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(o){return function(s,u){return x(this,void 0,void 0,function(){var a,l;return T(this,function(c){switch(c.label){case 0:return(a=P(s)).asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials"),l=ar(a),a.Or.add(3),[4,uo(a)];case 1:return c.sent(),l&&a.Br.set("Unknown"),[4,a.remoteSyncer.handleCredentialChange(u)];case 2:return c.sent(),a.Or.delete(3),[4,Gs(a)];case 3:return c.sent(),[2]}})})}(t.remoteStore,o)}),e.onlineComponents=t,[2]}})})}function tp(e){return x(this,void 0,void 0,function(){return T(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(D("FirestoreClient","Using default OfflineComponentProvider"),[4,P1(e,new A1)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Al(e){return x(this,void 0,void 0,function(){return T(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(D("FirestoreClient","Using default OnlineComponentProvider"),[4,O1(e,new Xf)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function Nv(e){return tp(e).then(function(t){return t.persistence})}function L1(e){return tp(e).then(function(t){return t.localStore})}function kv(e){return Al(e).then(function(t){return t.remoteStore})}function j1(e){return Al(e).then(function(t){return t.syncEngine})}function Xi(e){return x(this,void 0,void 0,function(){var t,n;return T(this,function(r){switch(r.label){case 0:return[4,Al(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=XN.bind(null,t.syncEngine),n.onUnlisten=JN.bind(null,t.syncEngine),n)]}})})}function Cv(e,t,n){var r=this;n===void 0&&(n={});var i=new yt;return e.asyncQueue.enqueueAndForget(function(){return x(r,void 0,void 0,function(){var o;return T(this,function(s){switch(s.label){case 0:return o=function(u,a,l,c,f){var h=new Dl({next:function(v){a.enqueueAndForget(function(){return Hd(u,d)});var y=v.docs.has(l);!y&&v.fromCache?f.reject(new N(_.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&v.fromCache&&c&&c.source==="server"?f.reject(new N(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:function(v){return f.reject(v)}}),d=new Qd(zs(l.path),h,{includeMetadataChanges:!0,so:!0});return Kd(u,d)},[4,Xi(e)];case 1:return[2,o.apply(void 0,[s.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function bv(e,t,n){var r=this;n===void 0&&(n={});var i=new yt;return e.asyncQueue.enqueueAndForget(function(){return x(r,void 0,void 0,function(){var o;return T(this,function(s){switch(s.label){case 0:return o=function(u,a,l,c,f){var h=new Dl({next:function(v){a.enqueueAndForget(function(){return Hd(u,d)}),v.fromCache&&c.source==="server"?f.reject(new N(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:function(v){return f.reject(v)}}),d=new Qd(l,h,{includeMetadataChanges:!0,so:!0});return Kd(u,d)},[4,Xi(e)];case 1:return[2,o.apply(void 0,[s.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var gk=function(e,t,n,r,i,o,s,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u},$a=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Dv=new Map,F1=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Av=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Le.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),wk=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Ek=function(){function e(t){var n=this;this.currentUser=Le.UNAUTHENTICATED,this.oc=new yt,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){D("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(D("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(D("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(V(typeof i.accessToken=="string"),new F1(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return x(r,void 0,void 0,function(){return T(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return V(t===null||typeof t=="string"),new Le(t)},e}(),Sk=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=Le.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),_k=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new Sk(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Le.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(e,t,n){if(!n)throw new N(_.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function rp(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new N(_.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function M1(e,t,n,r){if(t===!0&&r===!0)throw new N(_.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Rv(e){if(!$.isDocumentKey(e))throw new N(_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Pv(e){if($.isDocumentKey(e))throw new N(_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Rl(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":F()}function Z(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new N(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Rl(e);throw new N(_.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Ov(e,t){if(t<=0)throw new N(_.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lv=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new N(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new N(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,M1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Is=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lv({}),this._settingsFrozen=!1,t instanceof $a?(this._databaseId=t,this._credentials=new Av):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new N(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $a(r.options.projectId)}(t),this._credentials=new Ek(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new N(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new N(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lv(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new Av;switch(n.type){case"gapi":var r=n.client;return V(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new _k(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new N(_.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=Dv.get(t))&&(D("ComponentProvider","Removing Datastore"),Dv.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),ce=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Yn(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),kt=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Yn=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,zs(i))||this)._path=i,o.type="collection",o}return U(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new ce(this.firestore,null,new $(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(kt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Te(e),np("collection","path",t),e instanceof Is)return Pv(n=J.fromString.apply(J,me([t],r))),new Yn(e,null,n);if(!(e instanceof ce||e instanceof Yn))throw new N(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Pv(n=J.fromString.apply(J,me([e.path],r)).child(J.fromString(t))),new Yn(e.firestore,null,n)}function Ku(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Te(e),arguments.length===1&&(t=ww.u()),np("doc","path",t),e instanceof Is)return Rv(n=J.fromString.apply(J,me([t],r))),new ce(e,null,new $(n));if(!(e instanceof ce||e instanceof Yn))throw new N(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Rv(n=e._path.child(J.fromString.apply(J,me([t],r)))),new ce(e.firestore,e instanceof Yn?e.converter:null,new $(n))}function U1(e,t){return e=Te(e),t=Te(t),(e instanceof ce||e instanceof Yn)&&(t instanceof ce||t instanceof Yn)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function V1(e,t){return e=Te(e),t=Te(t),e instanceof kt&&t instanceof kt&&e.firestore===t.firestore&&qs(e._query,t._query)&&e.converter===t.converter}var Tk=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Vd(this,"async_queue_retry"),this.Ic=function(){var r=qu();r&&D("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=qu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=qu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new yt;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return x(this,void 0,void 0,function(){var t,n=this;return T(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Qr(t=r.sent()))throw t;return D("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,Se("INTERNAL UNHANDLED ERROR: ",function(o){var s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var o=zN.createAndSchedule(this,t,n,r,function(s){return i.vc(s)});return this.mc.push(o),o},e.prototype.Ac=function(){this.yc&&F()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return x(this,void 0,void 0,function(){var t;return T(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(s,u){return s.targetTimeMs-u.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var o=i[r];if(o.skipDelay(),t!=="all"&&o.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function Ji(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,o=["next","error","complete"];i<o.length;i++){var s=o[i];if(s in r&&typeof r[s]=="function")return!0}return!1}(e)}var Ik=-1,ke=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new Tk,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return U(t,e),t.prototype._terminate=function(){return this._firestoreClient||B1(this),this._firestoreClient.terminate()},t}(Is);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(e){return e._firestoreClient||B1(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function B1(e){var t,n=e._freezeSettings(),r=function(i,o,s,u){return new gk(i,o,s,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new yk(e._credentials,e._queue,r)}function jv(e,t,n){var r=this,i=new yt;return e.asyncQueue.enqueue(function(){return x(r,void 0,void 0,function(){var o;return T(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,P1(e,n)];case 1:return s.sent(),[4,O1(e,t)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(u){return u.name==="FirebaseError"?u.code===_.FAILED_PRECONDITION||u.code===_.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(o=s.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Fv(e){if(e._initialized||e._terminated)throw new N(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new N(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Vr=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(vt.fromBase64String(t))}catch(n){throw new N(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(vt.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Yr=function(e){this._methodName=e},Pl=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new N(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new N(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Q(this._lat,t._lat)||Q(this._long,t._long)},e}(),xk=/^__.*__$/,Nk=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new ur(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ws(t,this.data,n,this.fieldTransforms)},e}(),z1=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new ur(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}var K1=function(){function e(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Ua(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(q1(this.Nc)&&xk.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),kk=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Cl(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new K1({Nc:t,methodName:n,qc:r,path:Yt.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Xr(e){var t=e._freezeSettings(),n=Cl(e._databaseId);return new kk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ol(e,t,n,r,i,o){o===void 0&&(o={});var s=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);up("Data must be an object, but it was:",s,r);var u,a,l=Q1(r,s);if(o.merge)u=new Mi(s.fieldMask),a=s.fieldTransforms;else if(o.mergeFields){for(var c=[],f=0,h=o.mergeFields;f<h.length;f++){var d=Jf(t,h[f],n);if(!s.contains(d))throw new N(_.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Y1(c,d)||c.push(d)}u=new Mi(c),a=s.fieldTransforms.filter(function(v){return u.covers(v.field)})}else u=null,a=s.fieldTransforms;return new Nk(new _t(l),u,a)}var ip=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Yr);function H1(e,t,n){return new K1({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Ck=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t.prototype._toFieldTransform=function(n){return new Hs(n.path,new Bi)},t.prototype.isEqual=function(n){return n instanceof t},t}(Yr),bk=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return U(t,e),t.prototype._toFieldTransform=function(n){var r=H1(this,n,!0),i=this.Kc.map(function(s){return Jr(s,r)}),o=new $r(i);return new Hs(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(Yr),Dk=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return U(t,e),t.prototype._toFieldTransform=function(n){var r=H1(this,n,!0),i=this.Kc.map(function(s){return Jr(s,r)}),o=new Ur(i);return new Hs(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(Yr),Ak=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return U(t,e),t.prototype._toFieldTransform=function(n){var r=new zi(n.R,Pw(n.R,this.Qc));return new Hs(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Yr);function op(e,t,n,r){var i=e.Uc(1,t,n);up("Data must be an object, but it was:",i,r);var o=[],s=_t.empty();Hr(r,function(a,l){var c=ap(t,a,n);l=Te(l);var f=i.Oc(c);if(l instanceof ip)o.push(c);else{var h=Jr(l,f);h!=null&&(o.push(c),s.set(c,h))}});var u=new Mi(o);return new z1(s,u,i.fieldTransforms)}function sp(e,t,n,r,i,o){var s=e.Uc(1,t,n),u=[Jf(t,r,n)],a=[i];if(o.length%2!=0)throw new N(_.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)u.push(Jf(t,o[l])),a.push(o[l+1]);for(var c=[],f=_t.empty(),h=u.length-1;h>=0;--h)if(!Y1(c,u[h])){var d=u[h],v=a[h];v=Te(v);var y=s.Oc(d);if(v instanceof ip)c.push(d);else{var E=Jr(v,y);E!=null&&(c.push(d),f.set(d,E))}}var m=new Mi(c);return new z1(f,m,s.fieldTransforms)}function W1(e,t,n,r){return r===void 0&&(r=!1),Jr(n,e.Uc(r?4:3,t))}function Jr(e,t){if(G1(e=Te(e)))return up("Unsupported field value:",t,e),Q1(e,t);if(e instanceof Yr)return function(n,r){if(!q1(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],o=0,s=0,u=n;s<u.length;s++){var a=Jr(u[s],r.Mc(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=Te(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Pw(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=mt.fromDate(n);return{timestampValue:Es(r.R,i)}}if(n instanceof mt)return i=new mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Es(r.R,i)};if(n instanceof Pl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Vr)return{bytesValue:zw(r.R,n._byteString)};if(n instanceof ce){i=r.databaseId;var o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Lc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Od(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+Rl(n))}(e,t)}function Q1(e,t){var n={};return Sw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hr(e,function(r,i){var o=Jr(i,t.kc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function G1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof mt||e instanceof Pl||e instanceof Vr||e instanceof ce||e instanceof Yr)}function up(e,t,n){if(!G1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=Rl(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Jf(e,t,n){if((t=Te(t))instanceof on)return t._internalPath;if(typeof t=="string")return ap(e,t);throw Ua("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Rk=new RegExp("[~\\*/\\[\\]]");function ap(e,t,n){if(t.search(Rk)>=0)throw Ua("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(on.bind.apply(on,me([void 0],t.split("."))))()._internalPath}catch{throw Ua("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Ua(e,t,n,r,i){var o=r&&!r.isEmpty(),s=i!==void 0,u="Function "+t+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new N(_.INVALID_ARGUMENT,(u+=". ")+e+a)}function Y1(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xs=function(){function e(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new ce(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new Pk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Va("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),Pk=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(xs);function Va(e,t){return typeof t=="string"?ap(e,t):t instanceof on?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tr=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),yn=function(e){function t(n,r,i,o,s,u){var a=this;return(a=e.call(this,n,r,i,o,u)||this)._firestore=n,a._firestoreImpl=n,a.metadata=s,a}return U(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Ko(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(Va("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(xs),Ko=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(yn),jn=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Tr(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new Ko(r._firestore,r._userDataWriter,i.key,i,new Tr(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new N(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(u){return{type:"added",doc:new Ko(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Tr(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}})}var s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(u){return i||u.type!==3}).map(function(u){var a=new Ko(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Tr(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,c=-1;return u.type!==0&&(l=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(c=(s=s.add(u.doc)).indexOf(u.doc.key)),{type:Ok(u.type),doc:a,oldIndex:l,newIndex:c}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function Ok(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}function X1(e,t){return e instanceof yn&&t instanceof yn?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof jn&&t instanceof jn&&e._firestore===t._firestore&&V1(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(e){if(Aa(e)&&e.explicitOrderBy.length===0)throw new N(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ys=function(){};function Cn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Lk=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).jc=n,o.Wc=r,o.Gc=i,o.type="where",o}return U(t,e),t.prototype._apply=function(n){var r=Xr(n.firestore),i=function(o,s,u,a,l,c,f){var h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new N(_.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+c+"' queries on FieldPath.documentId().");if(c==="in"||c==="not-in"){Bv(f,c);for(var d=[],v=0,y=f;v<y.length;v++){var E=y[v];d.push(Vv(a,o,E))}h={arrayValue:{values:d}}}else h=Vv(a,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Bv(f,c),h=W1(u,"where",f,c==="in"||c==="not-in");var m=xt.create(l,c,h);return function(p,g){if(g.g()){var S=bd(p);if(S!==null&&!S.isEqual(g.field))throw new N(_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+S.toString()+"' and '"+g.field.toString()+"'");var I=Cd(p);I!==null&&eE(p,g.field,I)}var b=function(R,M){for(var te=0,q=R.filters;te<q.length;te++){var at=q[te];if(M.indexOf(at.op)>=0)return at.op}return null}(p,function(R){switch(R){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(g.op));if(b!==null)throw b===g.op?new N(_.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+g.op.toString()+"' filter."):new N(_.INVALID_ARGUMENT,"Invalid query. You cannot use '"+g.op.toString()+"' filters with '"+b.toString()+"' filters.")}(o,m),m}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new kt(n.firestore,n.converter,function(o,s){var u=o.filters.concat([s]);return new In(o.path,o.collectionGroup,o.explicitOrderBy.slice(),u,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(Ys),jk=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return U(t,e),t.prototype._apply=function(n){var r=function(i,o,s){if(i.startAt!==null)throw new N(_.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new N(_.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var u=new ki(o,s);return function(a,l){if(Cd(a)===null){var c=bd(a);c!==null&&eE(a,c,l.field)}}(i,u),u}(n._query,this.jc,this.zc);return new kt(n.firestore,n.converter,function(i,o){var s=i.explicitOrderBy.concat([o]);return new In(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(Ys),Mv=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Hc=r,o.Jc=i,o}return U(t,e),t.prototype._apply=function(n){return new kt(n.firestore,n.converter,Cw(n._query,this.Hc,this.Jc))},t}(Ys),$v=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return U(t,e),t.prototype._apply=function(n){var r=Z1(n,this.type,this.Yc,this.Xc);return new kt(n.firestore,n.converter,function(i,o){return new In(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(n._query,r))},t}(Ys),Uv=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Yc=r,o.Xc=i,o}return U(t,e),t.prototype._apply=function(n){var r=Z1(n,this.type,this.Yc,this.Xc);return new kt(n.firestore,n.converter,function(i,o){return new In(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(n._query,r))},t}(Ys);function Z1(e,t,n,r){if(n[0]=Te(n[0]),n[0]instanceof xs)return function(o,s,u,a,l){if(!a)throw new N(_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+u+"().");for(var c=[],f=0,h=Vi(o);f<h.length;f++){var d=h[f];if(d.field.isKeyField())c.push(Ca(s,a.key));else{var v=a.data.field(d.field);if(xd(v))throw new N(_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){var y=d.field.canonicalString();throw new N(_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+y+"' (used as the orderBy) does not exist.")}c.push(v)}}return new ws(c,l)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Xr(e.firestore);return function(o,s,u,a,l,c){var f=o.explicitOrderBy;if(l.length>f.length)throw new N(_.INVALID_ARGUMENT,"Too many arguments provided to "+a+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var h=[],d=0;d<l.length;d++){var v=l[d];if(f[d].field.isKeyField()){if(typeof v!="string")throw new N(_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+a+"(), but got a "+typeof v);if(!Dd(o)&&v.indexOf("/")!==-1)throw new N(_.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+a+"() must be a plain document ID, but '"+v+"' contains a slash.");var y=o.path.child(J.fromString(v));if(!$.isDocumentKey(y))throw new N(_.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+a+"() must result in a valid document path, but '"+y+"' is not because it contains an odd number of segments.");var E=new $(y);h.push(Ca(s,E))}else{var m=W1(u,a,v);h.push(m)}}return new ws(h,c)}(e._query,e.firestore._databaseId,i,t,n,r)}function Vv(e,t,n){if(typeof(n=Te(n))=="string"){if(n==="")throw new N(_.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dd(t)&&n.indexOf("/")!==-1)throw new N(_.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(J.fromString(n));if(!$.isDocumentKey(r))throw new N(_.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ca(e,new $(r))}if(n instanceof ce)return Ca(e,n._key);throw new N(_.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Rl(n)+".")}function Bv(e,t){if(!Array.isArray(e)||e.length===0)throw new N(_.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new N(_.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function eE(e,t,n){if(!n.isEqual(t))throw new N(_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lp=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes($i(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw F()}},e.prototype.convertObject=function(t,n){var r=this,i={};return Hr(t.fields,function(o,s){i[o]=r.convertValue(s,n)}),i},e.prototype.convertGeoPoint=function(t){return new Pl(we(t.latitude),we(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=Tw(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ys(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=er(t);return new mt(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=J.fromString(t);V(Xw(r));var i=new $a(r.get(1),r.get(3)),o=new $(r.popFirst(5));return i.isEqual(n)||Se("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),o},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Fk=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return U(t,e),t.prototype.convertBytes=function(n){return new Vr(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new ce(this.firestore,null,r)},t}(lp),Mk=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Xr(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=Fn(t,this._firestore),o=Ll(i.converter,n,r),s=Ol(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Qe.none())),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var s,u=Fn(t,this._firestore);return s=typeof(n=Te(n))=="string"||n instanceof on?sp(this._dataReader,"WriteBatch.update",u._key,n,r,i):op(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(s.toMutation(u._key,Qe.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Fn(t,this._firestore);return this._mutations=this._mutations.concat(new Qs(n._key,Qe.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new N(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(e,t){if((e=Te(e)).firestore!==t)throw new N(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cr=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return U(t,e),t.prototype.convertBytes=function(n){return new Vr(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new ce(this.firestore,null,r)},t}(lp);function zv(e,t,n){e=Z(e,ce);var r=Z(e.firestore,ke),i=Ll(e.converter,t,n);return Xs(r,[Ol(Xr(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Qe.none())])}function qv(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Z(e,ce);var o=Z(e.firestore,ke),s=Xr(o);return Xs(o,[(typeof(t=Te(t))=="string"||t instanceof on?sp(s,"updateDoc",e._key,t,n,r):op(s,"updateDoc",e._key,t)).toMutation(e._key,Qe.exists(!0))])}function tE(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=Te(e);var s={includeMetadataChanges:!1},u=0;typeof i[u]!="object"||Ji(i[u])||(s=i[u],u++);var a,l,c,f={includeMetadataChanges:s.includeMetadataChanges};if(Ji(i[u])){var h=i[u];i[u]=(t=h.next)===null||t===void 0?void 0:t.bind(h),i[u+1]=(n=h.error)===null||n===void 0?void 0:n.bind(h),i[u+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}if(e instanceof ce)l=Z(e.firestore,ke),c=zs(e._key.path),a={next:function(y){i[u]&&i[u](Zf(l,e,y))},error:i[u+1],complete:i[u+2]};else{var d=Z(e,kt);l=Z(d.firestore,ke),c=d._query;var v=new Cr(l);a={next:function(y){i[u]&&i[u](new jn(l,v,d,y))},error:i[u+1],complete:i[u+2]},J1(e._query)}return function(y,E,m,p){var g=this,S=new Dl(p),I=new Qd(E,S,m);return y.asyncQueue.enqueueAndForget(function(){return x(g,void 0,void 0,function(){var b;return T(this,function(R){switch(R.label){case 0:return b=Kd,[4,Xi(y)];case 1:return[2,b.apply(void 0,[R.sent(),I])]}})})}),function(){S.Wo(),y.asyncQueue.enqueueAndForget(function(){return x(g,void 0,void 0,function(){var b;return T(this,function(R){switch(R.label){case 0:return b=Hd,[4,Xi(y)];case 1:return[2,b.apply(void 0,[R.sent(),I])]}})})})}}(We(l),c,f,a)}function Xs(e,t){return function(n,r){var i=this,o=new yt;return n.asyncQueue.enqueueAndForget(function(){return x(i,void 0,void 0,function(){var s;return T(this,function(u){switch(u.label){case 0:return s=ZN,[4,j1(n)];case 1:return[2,s.apply(void 0,[u.sent(),r,o])]}})})}),o.promise}(We(e),t)}function Zf(e,t,n){var r=n.docs.get(t._key),i=new Cr(e);return new yn(e,i,t._key,r,new Tr(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $k=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return U(t,e),t.prototype.get=function(n){var r=this,i=Fn(n,this._firestore),o=new Cr(this._firestore);return e.prototype.get.call(this,n).then(function(s){return new yn(r._firestore,o,i._key,s._document,new Tr(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Xr(t)}return e.prototype.get=function(t){var n=this,r=Fn(t,this._firestore),i=new Fk(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return F();var s=o[0];if(s.isFoundDocument())return new xs(n._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new xs(n._firestore,i,r._key,null,r.converter);throw F()})},e.prototype.set=function(t,n,r){var i=Fn(t,this._firestore),o=Ll(i.converter,n,r),s=Ol(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,s),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s,u=Fn(t,this._firestore);return s=typeof(n=Te(n))=="string"||n instanceof on?sp(this._dataReader,"Transaction.update",u._key,n,r,i):op(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,s),this},e.prototype.delete=function(t){var n=Fn(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(){if(typeof Uint8Array>"u")throw new N(_.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Hv(){if(typeof atob>"u")throw new N(_.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var nE=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return Hv(),new e(Vr.fromBase64String(t))},e.fromUint8Array=function(t){return Kv(),new e(Vr.fromUint8Array(t))},e.prototype.toBase64=function(){return Hv(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Kv(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Uk=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){Fv(r=Z(r,ke));var o=We(r),s=r._freezeSettings(),u=new Xf;return jv(o,u,new R1(u,s.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){Fv(n=Z(n,ke));var r=We(n),i=n._freezeSettings(),o=new Xf;return jv(r,o,new pk(o,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new N(_.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new yt;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return x(r,void 0,void 0,function(){var o;return T(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(u){return x(this,void 0,void 0,function(){var a;return T(this,function(l){switch(l.label){case 0:return Hi.yt()?(a=u+"main",[4,Hi.delete(a)]):[2,Promise.resolve()];case 1:return l.sent(),[2]}})})}($d(n._databaseId,n._persistenceKey))];case 1:return s.sent(),i.resolve(),[3,3];case 2:return o=s.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),rE=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof $a||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Na("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,o,s,u){var a;u===void 0&&(u={});var l=(i=Z(i,Is))._getSettings();if(l.host!=="firestore.googleapis.com"&&l.host!==o&&Na("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},l),{host:o+":"+s,ssl:!1})),u.mockUserToken){var c,f;if(typeof u.mockUserToken=="string")c=u.mockUserToken,f=Le.MOCK_USER;else{c=sT(u.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);var h=u.mockUserToken.sub||u.mockUserToken.user_id;if(!h)throw new N(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Le(h)}i._credentials=new wk(new F1(c,f))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return x(n,void 0,void 0,function(){var r,i;return T(this,function(o){switch(o.label){case 0:return[4,Nv(t)];case 1:return r=o.sent(),[4,kv(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(s){var u=P(s);return u.Or.delete(0),Gs(u)}(i))]}})})})}(We(Z(this._delegate,ke)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return x(n,void 0,void 0,function(){var r,i;return T(this,function(o){switch(o.label){case 0:return[4,Nv(t)];case 1:return r=o.sent(),[4,kv(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(s){return x(this,void 0,void 0,function(){var u;return T(this,function(a){switch(a.label){case 0:return(u=P(s)).Or.add(0),[4,uo(u)];case 1:return a.sent(),u.Br.set("Offline"),[2]}})})}(i))]}})})})}(We(Z(this._delegate,ke)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&M1("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new yt;return t.asyncQueue.enqueueAndForget(function(){return x(n,void 0,void 0,function(){var i;return T(this,function(o){switch(o.label){case 0:return i=rk,[4,j1(t)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(We(Z(this._delegate,ke)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,o){var s=this,u=new Dl(o);return i.asyncQueue.enqueueAndForget(function(){return x(s,void 0,void 0,function(){var a;return T(this,function(l){switch(l.label){case 0:return a=function(c,f){P(c).Gr.add(f),f.next()},[4,Xi(i)];case 1:return[2,a.apply(void 0,[l.sent(),u])]}})})}),function(){u.Wo(),i.asyncQueue.enqueueAndForget(function(){return x(s,void 0,void 0,function(){var a;return T(this,function(l){switch(l.label){case 0:return a=function(c,f){P(c).Gr.delete(f)},[4,Xi(i)];case 1:return[2,a.apply(void 0,[l.sent(),u])]}})})})}}(We(n=Z(n,ke)),Ji(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new N(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ba(this,$1(this._delegate,t))}catch(n){throw et(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new br(this,Ku(this._delegate,t))}catch(n){throw et(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Ml(this,function(n,r){if(n=Z(n,Is),np("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new N(_.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new kt(n,null,function(i){return new In(J.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw et(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(o,s){var u=this,a=new yt;return o.asyncQueue.enqueueAndForget(function(){return x(u,void 0,void 0,function(){var l;return T(this,function(c){switch(c.label){case 0:return[4,function(f){return Al(f).then(function(h){return h.datastore})}(o)];case 1:return l=c.sent(),new vk(o.asyncQueue,l,s,a).run(),[2]}})})}),a.promise}(We(r),function(o){return i(new $k(r,o))})}(this._delegate,function(r){return t(new iE(n,r))})},e.prototype.batch=function(){var t=this;return We(this._delegate),new oE(new Mk(this._delegate,function(n){return Xs(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new N(_.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new N(_.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),jl=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return U(t,e),t.prototype.convertBytes=function(n){return new nE(new Vr(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return br.eu(r,this.firestore,null)},t}(lp);function Vk(e){var t;t=e,Ht.setLogLevel(t)}var iE=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new jl(t)}return e.prototype.get=function(t){var n=this,r=Ir(t);return this._delegate.get(r).then(function(i){return new Ns(n._firestore,new yn(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=Ir(t);return r?(rp("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u=Ir(t);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,me([u,n,r],o)),this},e.prototype.delete=function(t){var n=Ir(t);return this._delegate.delete(n),this},e}(),oE=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=Ir(t);return r?(rp("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u=Ir(t);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,me([u,n,r],o)),this},e.prototype.delete=function(t){var n=Ir(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Fl=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Ko(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ks(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new jl(t),n),i.set(n,o)),o},e}();Fl.su=new WeakMap;var br=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new jl(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new N(_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new ce(n._delegate,r,new $(t)))},e.eu=function(t,n,r){return new e(n,new ce(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ba(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ba(this.firestore,$1(this._delegate,t))}catch(n){throw et(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=Te(t))instanceof ce&&U1(this._delegate,t)},e.prototype.set=function(t,n){n=rp("DocumentReference.set",n);try{return n?zv(this._delegate,t,n):zv(this._delegate,t)}catch(r){throw et(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?qv(this._delegate,t):qv.apply(void 0,me([this._delegate,t,n],r))}catch(o){throw et(o,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Xs(Z((t=this._delegate).firestore,ke),[new Qs(t._key,Qe.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=sE(n),o=uE(n,function(s){return new Ns(t.firestore,new yn(t.firestore._delegate,t._userDataWriter,s._key,s._document,s.metadata,t._delegate.converter))});return tE(this._delegate,i,o)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Z(r,ce);var i=Z(r.firestore,ke),o=We(i),s=new Cr(i);return function(u,a){var l=this,c=new yt;return u.asyncQueue.enqueueAndForget(function(){return x(l,void 0,void 0,function(){var f;return T(this,function(h){switch(h.label){case 0:return f=function(d,v,y){return x(this,void 0,void 0,function(){var E,m;return T(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,function(g,S){var I=P(g);return I.persistence.runTransaction("read document","readonly",function(b){return I.Mn.mn(b,S)})}(d,v)];case 1:return(m=p.sent()).isFoundDocument()?y.resolve(m):m.isNoDocument()?y.resolve(null):y.reject(new N(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return E=p.sent(),m=co(E,"Failed to get document '"+v+" from cache"),y.reject(m),[3,3];case 3:return[2]}})})},[4,L1(u)];case 1:return[2,f.apply(void 0,[h.sent(),a,c])]}})})}),c.promise}(o,r._key).then(function(u){return new yn(i,s,r._key,u,new Tr(u!==null&&u.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Z(r,ce);var i=Z(r.firestore,ke);return Cv(We(i),r._key,{source:"server"}).then(function(o){return Zf(i,r,o)})}(this._delegate):function(r){r=Z(r,ce);var i=Z(r.firestore,ke);return Cv(We(i),r._key).then(function(o){return Zf(i,r,o)})}(this._delegate)).then(function(r){return new Ns(n.firestore,new yn(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Fl.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function et(e,t,n){return e.message=e.message.replace(t,n),e}function sE(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Ji(r))return r}return{}}function uE(e,t){var n,r,i;return{next:function(o){i.next&&i.next(t(o))},error:(n=(i=Ji(e[0])?e[0]:Ji(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Ns=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new br(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return X1(this._delegate,t._delegate)},e}(),ks=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return U(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Ns),Ml=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new jl(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Cn(this._delegate,function(i,o,s){var u=o,a=Va("where",i);return new Lk(a,u,s)}(t,n,r)))}catch(i){throw et(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Cn(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,s=Va("orderBy",r);return new jk(s,o)}(t,n)))}catch(r){throw et(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Cn(this._delegate,function(n){return Ov("limit",n),new Mv("limit",n,"F")}(t)))}catch(n){throw et(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Cn(this._delegate,function(n){return Ov("limitToLast",n),new Mv("limitToLast",n,"L")}(t)))}catch(n){throw et(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Cn(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new $v("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw et(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Cn(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new $v("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw et(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Cn(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Uv("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw et(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Cn(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Uv("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw et(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return V1(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Z(r,kt);var i=Z(r.firestore,ke),o=We(i),s=new Cr(i);return function(u,a){var l=this,c=new yt;return u.asyncQueue.enqueueAndForget(function(){return x(l,void 0,void 0,function(){var f;return T(this,function(h){switch(h.label){case 0:return f=function(d,v,y){return x(this,void 0,void 0,function(){var E,m,p,g,S;return T(this,function(I){switch(I.label){case 0:return I.trys.push([0,2,,3]),[4,ja(d,v,!0)];case 1:return S=I.sent(),E=new k1(v,S.Bn),m=E._o(S.documents),p=E.applyChanges(m,!1),y.resolve(p.snapshot),[3,3];case 2:return g=I.sent(),S=co(g,"Failed to execute query '"+v+" against cache"),y.reject(S),[3,3];case 3:return[2]}})})},[4,L1(u)];case 1:return[2,f.apply(void 0,[h.sent(),a,c])]}})})}),c.promise}(o,r._query).then(function(u){return new jn(i,s,r,u)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Z(r,kt);var i=Z(r.firestore,ke),o=We(i),s=new Cr(i);return bv(o,r._query,{source:"server"}).then(function(u){return new jn(i,s,r,u)})}(this._delegate):function(r){r=Z(r,kt);var i=Z(r.firestore,ke),o=We(i),s=new Cr(i);return J1(r._query),bv(o,r._query).then(function(u){return new jn(i,s,r,u)})}(this._delegate)).then(function(r){return new eh(n.firestore,new jn(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=sE(n),o=uE(n,function(s){return new eh(t.firestore,new jn(t.firestore._delegate,t._userDataWriter,t._delegate,s._snapshot))});return tE(this._delegate,i,o)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Fl.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Bk=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new ks(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),eh=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Ml(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new ks(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new Bk(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new ks(r._firestore,i))})},e.prototype.isEqual=function(t){return X1(this._delegate,t._delegate)},e}(),Ba=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return U(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new br(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new br(this.firestore,n===void 0?Ku(this._delegate):Ku(this._delegate,n))}catch(r){throw et(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,o){var s=Z(i.firestore,ke),u=Ku(i),a=Ll(i.converter,o);return Xs(s,[Ol(Xr(i.firestore),"addDoc",u._key,a,i.converter!==null,{}).toMutation(u._key,Qe.exists(!1))]).then(function(){return u})}(this._delegate,n).then(function(i){return new br(r.firestore,i)})},t.prototype.isEqual=function(n){return U1(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Fl.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Ml);function Ir(e){return Z(e,ce)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zk=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(on.bind.apply(on,me([void 0],t)))}return e.documentId=function(){return new e(Yt.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=Te(t))instanceof on&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),qk=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new Ck("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new ip("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new bk("arrayUnion",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new Dk("arrayRemove",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new Ak("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),Kk={Firestore:rE,GeoPoint:Pl,Timestamp:mt,Blob:nE,Transaction:iE,WriteBatch:oE,DocumentReference:br,DocumentSnapshot:Ns,Query:Ml,QueryDocumentSnapshot:ks,QuerySnapshot:eh,CollectionReference:Ba,FieldPath:zk,FieldValue:qk,setLogLevel:Vk,CACHE_SIZE_UNLIMITED:Ik};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(e){(function(t,n){t.INTERNAL.registerComponent(new ul("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Kk)))})(e,function(t,n){return new rE(t,new ke(t,n),new Uk)}),e.registerVersion("@firebase/firestore","2.4.1")}Hk(no);const Wk={apiKey:"AIzaSyDH_1h_nj4OWStn7W4UNGTSh6-SHIgHoys",authDomain:"actividad1c3.firebaseapp.com",projectId:"actividad1c3",storageBucket:"actividad1c3.appspot.com",messagingSenderId:"509054049070",appId:"1:509054049070:web:bb6c422d666cb218c3f8bf"};no.initializeApp(Wk);const Br=no.firestore(),aE=()=>{const[e,t]=A.useState(""),[n,r]=A.useState(""),[i,o]=A.useState(""),[s,u]=A.useState(""),[a,l]=A.useState(""),[c,f]=A.useState(""),h=async d=>{if(d.preventDefault(),!e||!n||!i||!s||!a||!c){alert("Todos los campos son obligatorios");return}if(isNaN(c)||c<1e3||c>new Date().getFullYear()){alert("El año debe ser un número válido entre 1000 y el año actual");return}if(!(await Br.collection("prestamos").where("nombre","==",e).where("apellido","==",n).get()).empty){alert("El usuario ya está registrado");return}await Br.collection("prestamos").add({nombre:e,apellido:n,titulo:i,autor:s,editorial:a,año:c}),t(""),r(""),o(""),u(""),l(""),f(""),window.location.reload()};return w.jsxs("div",{className:"container",children:[w.jsx("h3",{className:"text-center my-4",children:"Registrar préstamo"}),w.jsx("form",{onSubmit:h,className:"needs-validation",noValidate:!0,children:w.jsxs("div",{className:"row g-3",children:[w.jsxs("div",{className:"col-sm-6",children:[w.jsx("label",{htmlFor:"nombre",className:"form-label",children:"Nombre:"}),w.jsx("input",{type:"text",className:"form-control",id:"nombre",value:e,onChange:d=>t(d.target.value.trim()),required:!0})]}),w.jsxs("div",{className:"col-sm-6",children:[w.jsx("label",{htmlFor:"apellido",className:"form-label",children:"Apellido:"}),w.jsx("input",{type:"text",className:"form-control",id:"apellido",value:n,onChange:d=>r(d.target.value.trim()),required:!0})]}),w.jsxs("div",{className:"col-sm-6",children:[w.jsx("label",{htmlFor:"titulo",className:"form-label",children:"Título:"}),w.jsx("input",{type:"text",className:"form-control",id:"titulo",value:i,onChange:d=>o(d.target.value.trim()),required:!0})]}),w.jsxs("div",{className:"col-sm-6",children:[w.jsx("label",{htmlFor:"autor",className:"form-label",children:"Autor:"}),w.jsx("input",{type:"text",className:"form-control",id:"autor",value:s,onChange:d=>u(d.target.value.trim()),required:!0})]}),w.jsxs("div",{className:"col-sm-6",children:[w.jsx("label",{htmlFor:"editorial",className:"form-label",children:"Editorial:"}),w.jsx("input",{type:"text",className:"form-control",id:"editorial",value:a,onChange:d=>l(d.target.value.trim()),required:!0})]}),w.jsxs("div",{className:"col-sm-6",children:[w.jsx("label",{htmlFor:"año",className:"form-label",children:"Año:"}),w.jsx("input",{type:"number",className:"form-control",id:"año",value:c,onChange:d=>f(d.target.value),required:!0})]}),w.jsx("div",{className:"col-12",children:w.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:"Registrar"})})]})})]})},Ao=({urlimg:e})=>w.jsx("div",{children:w.jsx("img",{className:"img-fluid",src:e,alt:"Imagen"})}),Qk=()=>w.jsxs("div",{className:"container",children:[w.jsx("h1",{className:"text-center my-4",children:"Bienvenido a Biblioteca"}),w.jsx("p",{className:"lead text-center",children:"Encuentra los mejores libros."}),w.jsxs("div",{className:"row",children:[w.jsx("div",{className:"col-md-6 col-12 mb-4",children:w.jsxs("div",{className:"card h-100",children:[w.jsx(Ao,{urlimg:"https://t2.uc.ltmcdn.com/es/posts/6/5/2/los_mejores_libros_de_ciencia_ficcion_54256_600.webp",altText:"Ciencia ficción y fantasía"}),w.jsxs("div",{className:"card-body",children:[w.jsx("h5",{className:"card-title",children:"Ciencia ficción y fantasía"}),w.jsx("p",{className:"card-text",children:"Viaja a mundos extraordinarios llenos de tecnología avanzada, criaturas mágicas y aventuras épicas que desafían los límites de la imaginación."})]})]})}),w.jsx("div",{className:"col-md-6 col-12 mb-4",children:w.jsxs("div",{className:"card h-100",children:[w.jsx(Ao,{urlimg:"https://t2.uc.ltmcdn.com/es/posts/7/0/3/los_mejores_libros_de_misterio_53307_orig.jpg",altText:"Misterio y suspenso"}),w.jsxs("div",{className:"card-body",children:[w.jsx("h5",{className:"card-title",children:"Misterio y suspenso"}),w.jsx("p",{className:"card-text",children:"Descubre emocionantes tramas llenas de intriga, giros inesperados y personajes fascinantes que te mantendrán pegado a las páginas hasta el último momento."})]})]})}),w.jsx("div",{className:"col-md-6 col-12 mb-4",children:w.jsxs("div",{className:"card h-100",children:[w.jsx(Ao,{urlimg:"https://t2.uc.ltmcdn.com/es/posts/5/6/1/los_mejores_libros_de_amor_53165_orig.jpg",altText:"Romance"}),w.jsxs("div",{className:"card-body",children:[w.jsx("h5",{className:"card-title",children:"Romance"}),w.jsx("p",{className:"card-text",children:"Déjate llevar por historias apasionadas y románticas que exploran los lazos del corazón y celebran el poder del amor en todas sus formas y expresiones."})]})]})}),w.jsx("div",{className:"col-md-6 col-12 mb-4",children:w.jsxs("div",{className:"card h-100",children:[w.jsx(Ao,{urlimg:"https://t2.uc.ltmcdn.com/es/posts/5/2/3/los_mejores_libros_de_autoayuda_53325_600.webp",altText:"Autoayuda"}),w.jsxs("div",{className:"card-body",children:[w.jsx("h5",{className:"card-title",children:"Autoayuda"}),w.jsx("p",{className:"card-text",children:"Aprende sobre las vidas y experiencias de las personas más inspiradoras, desde líderes históricos hasta íconos de la cultura y del mundo del entretenimiento."})]})]})})]})]}),Gk=({userName:e,userId:t,url:n,ULibrosPrestados:r,librosRecomendados:i})=>w.jsx("div",{className:"container",children:w.jsxs("section",{className:"col-12 col-md-12 col-lg-12 mx-auto",children:[w.jsxs("h3",{children:["Saludos: ",e]}),w.jsxs("h4",{children:["id: ",t]}),w.jsx(Ao,{urlimg:n}),w.jsx("h4",{children:"Ultimos Libros en préstamo:"}),w.jsx("ul",{children:r.map((o,s)=>w.jsx("li",{children:o},s))}),w.jsx("h4",{children:"Top Libros solicitados:"}),w.jsx("ul",{children:i.map((o,s)=>w.jsx("li",{children:o},s))})]})});/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cs.apply(this,arguments)}var Un;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Un||(Un={}));const Wv="popstate";function Yk(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:u}=r.location;return th("",{pathname:o,search:s,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:za(i)}return Jk(t,n,null,e)}function _e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Xk(){return Math.random().toString(36).substr(2,8)}function Qv(e,t){return{usr:e.state,key:e.key,idx:t}}function th(e,t,n,r){return n===void 0&&(n=null),Cs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fo(t):t,{state:n,key:t&&t.key||r||Xk()})}function za(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function fo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Jk(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,u=Un.Pop,a=null,l=c();l==null&&(l=0,s.replaceState(Cs({},s.state,{idx:l}),""));function c(){return(s.state||{idx:null}).idx}function f(){u=Un.Pop;let E=c(),m=E==null?null:E-l;l=E,a&&a({action:u,location:y.location,delta:m})}function h(E,m){u=Un.Push;let p=th(y.location,E,m);l=c()+1;let g=Qv(p,l),S=y.createHref(p);try{s.pushState(g,"",S)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(S)}o&&a&&a({action:u,location:y.location,delta:1})}function d(E,m){u=Un.Replace;let p=th(y.location,E,m);l=c();let g=Qv(p,l),S=y.createHref(p);s.replaceState(g,"",S),o&&a&&a({action:u,location:y.location,delta:0})}function v(E){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof E=="string"?E:za(E);return p=p.replace(/ $/,"%20"),_e(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let y={get action(){return u},get location(){return e(i,s)},listen(E){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(Wv,f),a=E,()=>{i.removeEventListener(Wv,f),a=null}},createHref(E){return t(i,E)},createURL:v,encodeLocation(E){let m=v(E);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:d,go(E){return s.go(E)}};return y}var Gv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Gv||(Gv={}));function Zk(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?fo(t):t,i=cp(r.pathname||"/",n);if(i==null)return null;let o=cE(e);eC(o);let s=null;for(let u=0;s==null&&u<o.length;++u){let a=hC(i);s=lC(o[u],a)}return s}function cE(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,u)=>{let a={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(_e(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let l=Xn([r,a.relativePath]),c=n.concat(a);o.children&&o.children.length>0&&(_e(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),cE(o.children,t,c,l)),!(o.path==null&&!o.index)&&t.push({path:l,score:uC(l,o.index),routesMeta:c})};return e.forEach((o,s)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,s);else for(let a of fE(o.path))i(o,s,a)}),t}function fE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=fE(r.join("/")),u=[];return u.push(...s.map(a=>a===""?o:[o,a].join("/"))),i&&u.push(...s),u.map(a=>e.startsWith("/")&&a===""?"/":a)}function eC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:aC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const tC=/^:[\w-]+$/,nC=3,rC=2,iC=1,oC=10,sC=-2,Yv=e=>e==="*";function uC(e,t){let n=e.split("/"),r=n.length;return n.some(Yv)&&(r+=sC),t&&(r+=rC),n.filter(i=>!Yv(i)).reduce((i,o)=>i+(tC.test(o)?nC:o===""?iC:oC),r)}function aC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function lC(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let u=n[s],a=s===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",c=cC({path:u.relativePath,caseSensitive:u.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let f=u.route;o.push({params:r,pathname:Xn([i,c.pathname]),pathnameBase:vC(Xn([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Xn([i,c.pathnameBase]))}return o}function cC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=fC(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((l,c,f)=>{let{paramName:h,isOptional:d}=c;if(h==="*"){let y=u[f]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const v=u[f];return d&&!v?l[h]=void 0:l[h]=(v||"").replace(/%2F/g,"/"),l},{}),pathname:o,pathnameBase:s,pattern:e}}function fC(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),lE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,a)=>(r.push({paramName:u,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function hC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function dC(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?fo(e):e;return{pathname:n?n.startsWith("/")?n:pC(n,t):t,search:yC(r),hash:gC(i)}}function pC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ac(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function hE(e,t){let n=mC(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dE(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=fo(e):(i=Cs({},e),_e(!i.pathname||!i.pathname.includes("?"),Ac("?","pathname","search",i)),_e(!i.pathname||!i.pathname.includes("#"),Ac("#","pathname","hash",i)),_e(!i.search||!i.search.includes("#"),Ac("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,u;if(s==null)u=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}u=f>=0?t[f]:"/"}let a=dC(i,u),l=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(l||c)&&(a.pathname+="/"),a}const Xn=e=>e.join("/").replace(/\/\/+/g,"/"),vC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const pE=["post","put","patch","delete"];new Set(pE);const EC=["get",...pE];new Set(EC);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bs.apply(this,arguments)}const fp=A.createContext(null),SC=A.createContext(null),Zr=A.createContext(null),$l=A.createContext(null),cr=A.createContext({outlet:null,matches:[],isDataRoute:!1}),mE=A.createContext(null);function _C(e,t){let{relative:n}=t===void 0?{}:t;Js()||_e(!1);let{basename:r,navigator:i}=A.useContext(Zr),{hash:o,pathname:s,search:u}=yE(e,{relative:n}),a=s;return r!=="/"&&(a=s==="/"?r:Xn([r,s])),i.createHref({pathname:a,search:u,hash:o})}function Js(){return A.useContext($l)!=null}function Ul(){return Js()||_e(!1),A.useContext($l).location}function vE(e){A.useContext(Zr).static||A.useLayoutEffect(e)}function TC(){let{isDataRoute:e}=A.useContext(cr);return e?FC():IC()}function IC(){Js()||_e(!1);let e=A.useContext(fp),{basename:t,future:n,navigator:r}=A.useContext(Zr),{matches:i}=A.useContext(cr),{pathname:o}=Ul(),s=JSON.stringify(hE(i,n.v7_relativeSplatPath)),u=A.useRef(!1);return vE(()=>{u.current=!0}),A.useCallback(function(l,c){if(c===void 0&&(c={}),!u.current)return;if(typeof l=="number"){r.go(l);return}let f=dE(l,JSON.parse(s),o,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Xn([t,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[t,r,s,o,e])}function xC(){let{matches:e}=A.useContext(cr),t=e[e.length-1];return t?t.params:{}}function yE(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=A.useContext(Zr),{matches:i}=A.useContext(cr),{pathname:o}=Ul(),s=JSON.stringify(hE(i,r.v7_relativeSplatPath));return A.useMemo(()=>dE(e,JSON.parse(s),o,n==="path"),[e,s,o,n])}function NC(e,t){return kC(e,t)}function kC(e,t,n,r){Js()||_e(!1);let{navigator:i}=A.useContext(Zr),{matches:o}=A.useContext(cr),s=o[o.length-1],u=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Ul(),c;if(t){var f;let E=typeof t=="string"?fo(t):t;a==="/"||(f=E.pathname)!=null&&f.startsWith(a)||_e(!1),c=E}else c=l;let h=c.pathname||"/",d=h;if(a!=="/"){let E=a.replace(/^\//,"").split("/");d="/"+h.replace(/^\//,"").split("/").slice(E.length).join("/")}let v=Zk(e,{pathname:d}),y=RC(v&&v.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Xn([a,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?a:Xn([a,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return t&&y?A.createElement($l.Provider,{value:{location:bs({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Un.Pop}},y):y}function CC(){let e=jC(),t=wC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:i},n):null,null)}const bC=A.createElement(CC,null);class DC extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?A.createElement(cr.Provider,{value:this.props.routeContext},A.createElement(mE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AC(e){let{routeContext:t,match:n,children:r}=e,i=A.useContext(fp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(cr.Provider,{value:t},r)}function RC(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let s=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let c=s.findIndex(f=>f.route.id&&(u==null?void 0:u[f.route.id])!==void 0);c>=0||_e(!1),s=s.slice(0,Math.min(s.length,c+1))}let a=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:h,errors:d}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!d||d[f.route.id]===void 0);if(f.route.lazy||v){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,f,h)=>{let d,v=!1,y=null,E=null;n&&(d=u&&f.route.id?u[f.route.id]:void 0,y=f.route.errorElement||bC,a&&(l<0&&h===0?(v=!0,E=null):l===h&&(v=!0,E=f.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,h+1)),p=()=>{let g;return d?g=y:v?g=E:f.route.Component?g=A.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=c,A.createElement(AC,{match:f,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?A.createElement(DC,{location:n.location,revalidation:n.revalidation,component:y,error:d,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var gE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gE||{}),qa=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qa||{});function PC(e){let t=A.useContext(fp);return t||_e(!1),t}function OC(e){let t=A.useContext(SC);return t||_e(!1),t}function LC(e){let t=A.useContext(cr);return t||_e(!1),t}function wE(e){let t=LC(),n=t.matches[t.matches.length-1];return n.route.id||_e(!1),n.route.id}function jC(){var e;let t=A.useContext(mE),n=OC(qa.UseRouteError),r=wE(qa.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function FC(){let{router:e}=PC(gE.UseNavigateStable),t=wE(qa.UseNavigateStable),n=A.useRef(!1);return vE(()=>{n.current=!0}),A.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,bs({fromRouteId:t},o)))},[e,t])}function Ut(e){_e(!1)}function MC(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Un.Pop,navigator:o,static:s=!1,future:u}=e;Js()&&_e(!1);let a=t.replace(/^\/*/,"/"),l=A.useMemo(()=>({basename:a,navigator:o,static:s,future:bs({v7_relativeSplatPath:!1},u)}),[a,u,o,s]);typeof r=="string"&&(r=fo(r));let{pathname:c="/",search:f="",hash:h="",state:d=null,key:v="default"}=r,y=A.useMemo(()=>{let E=cp(c,a);return E==null?null:{location:{pathname:E,search:f,hash:h,state:d,key:v},navigationType:i}},[a,c,f,h,d,v,i]);return y==null?null:A.createElement(Zr.Provider,{value:l},A.createElement($l.Provider,{children:n,value:y}))}function $C(e){let{children:t,location:n}=e;return NC(nh(t),n)}new Promise(()=>{});function nh(e,t){t===void 0&&(t=[]);let n=[];return A.Children.forEach(e,(r,i)=>{if(!A.isValidElement(r))return;let o=[...t,i];if(r.type===A.Fragment){n.push.apply(n,nh(r.props.children,o));return}r.type!==Ut&&_e(!1),!r.props.index||!r.props.children||_e(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=nh(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rh.apply(this,arguments)}function UC(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function VC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function BC(e,t){return e.button===0&&(!t||t==="_self")&&!VC(e)}const zC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],qC="6";try{window.__reactRouterVersion=qC}catch{}const KC="startTransition",Xv=VE[KC];function HC(e){let{basename:t,children:n,future:r,window:i}=e,o=A.useRef();o.current==null&&(o.current=Yk({window:i,v5Compat:!0}));let s=o.current,[u,a]=A.useState({action:s.action,location:s.location}),{v7_startTransition:l}=r||{},c=A.useCallback(f=>{l&&Xv?Xv(()=>a(f)):a(f)},[a,l]);return A.useLayoutEffect(()=>s.listen(c),[s,c]),A.createElement(MC,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:s,future:r})}const WC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,si=A.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:u,target:a,to:l,preventScrollReset:c,unstable_viewTransition:f}=t,h=UC(t,zC),{basename:d}=A.useContext(Zr),v,y=!1;if(typeof l=="string"&&QC.test(l)&&(v=l,WC))try{let g=new URL(window.location.href),S=l.startsWith("//")?new URL(g.protocol+l):new URL(l),I=cp(S.pathname,d);S.origin===g.origin&&I!=null?l=I+S.search+S.hash:y=!0}catch{}let E=_C(l,{relative:i}),m=GC(l,{replace:s,state:u,target:a,preventScrollReset:c,relative:i,unstable_viewTransition:f});function p(g){r&&r(g),g.defaultPrevented||m(g)}return A.createElement("a",rh({},h,{href:v||E,onClick:y||o?r:p,ref:n,target:a}))});var Jv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jv||(Jv={}));var Zv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zv||(Zv={}));function GC(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:u}=t===void 0?{}:t,a=TC(),l=Ul(),c=yE(e,{relative:s});return A.useCallback(f=>{if(BC(f,n)){f.preventDefault();let h=r!==void 0?r:za(l)===za(c);a(e,{replace:h,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:u})}},[l,a,c,r,i,n,e,o,s,u])}const YC=()=>{const[e,t]=Ho.useState([]);A.useEffect(()=>{n()},[]);const n=async()=>{const i=await(await fetch("https://jsonplaceholder.typicode.com/users")).json();t(i)};return w.jsxs("div",{className:"container",children:[w.jsx("header",{children:w.jsx("h3",{children:"Lista de Empleados:"})}),w.jsx("main",{className:"row",children:w.jsx("ul",{className:"list-group",children:e.map(r=>w.jsxs("li",{className:"list-group-item",children:[w.jsxs(si,{to:`/quienessomos/${r.id}`,children:[r.name," - ",r.email]})," "]},r.id))})})]})},XC=()=>{const{id:e}=xC(),[t,n]=Ho.useState([]);Ho.useEffect(()=>{r()});const r=async()=>{const o=await(await fetch(`https://jsonplaceholder.typicode.com/users/${e}`)).json();n(o)};return w.jsxs("div",{className:"container",children:[w.jsx("header",{children:w.jsx("h2",{children:"Datos del Empleado"})}),w.jsx("main",{className:"row",children:w.jsxs("section",{children:[w.jsx("h3",{children:t.name}),w.jsxs("p",{children:["Website: ",t.website," - Username: ",t.username]})]})})]})},EE=()=>{const[e,t]=A.useState([]);return A.useEffect(()=>{(async()=>{const i=(await Br.collection("prestamos").get()).docs.map(o=>({id:o.id,...o.data()}));t(i)})()},[]),w.jsxs("div",{className:"container",children:[w.jsx("h3",{className:"text-center my-4",children:"Listado de préstamos"}),w.jsx("div",{className:"table-responsive",children:w.jsxs("table",{className:"table table-striped table-sm",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"ID Prestamo"}),w.jsx("th",{children:"Nombre"}),w.jsx("th",{children:"Apellido"}),w.jsx("th",{children:"Título"}),w.jsx("th",{children:"Autor"}),w.jsx("th",{children:"Editorial"}),w.jsx("th",{children:"Año"})]})}),w.jsx("tbody",{children:e.map(n=>w.jsxs("tr",{children:[w.jsx("td",{children:n.id}),w.jsx("td",{children:n.nombre}),w.jsx("td",{children:n.apellido}),w.jsx("td",{children:n.titulo}),w.jsx("td",{children:n.autor}),w.jsx("td",{children:n.editorial}),w.jsx("td",{children:n.año})]},n.id))})]})})]})},SE=()=>{const[e,t]=A.useState(""),n=async r=>{if(r.preventDefault(),!e){alert("Llenar el campo es obligatorio");return}if(!(await Br.collection("prestamos").doc(e).get()).exists){alert("El préstamo con el ID proporcionado no existe");return}try{await Br.collection("prestamos").doc(e).delete(),t(""),alert("Préstamo eliminado exitosamente"),window.location.reload()}catch(s){console.error(s),alert("Error al eliminar el préstamo")}};return w.jsxs("div",{className:"container",children:[w.jsx("h3",{className:"text-center my-4",children:"Eliminar préstamo"}),w.jsx("form",{onSubmit:n,className:"needs-validation",noValidate:!0,children:w.jsxs("div",{className:"row g-3",children:[w.jsxs("div",{className:"col-12",children:[w.jsx("label",{htmlFor:"id",className:"form-label",children:"ID de préstamo:"}),w.jsx("input",{type:"text",className:"form-control",id:"id",value:e,onChange:r=>t(r.target.value.trim()),required:!0})]}),w.jsx("div",{className:"col-12",children:w.jsx("button",{type:"submit",className:"btn btn-danger w-100",children:"Eliminar"})})]})})]})},_E=()=>{const[e,t]=A.useState(""),[n,r]=A.useState(""),[i,o]=A.useState(""),[s,u]=A.useState(""),[a,l]=A.useState(""),[c,f]=A.useState(""),[h,d]=A.useState(""),v=async y=>{if(y.preventDefault(),!e||!n||!i||!s||!a||!c||!h){alert("Todos los campos son obligatorios");return}if(isNaN(h)||h<1e3||h>new Date().getFullYear()){alert("El año debe ser un número válido entre 1000 y el año actual");return}const E=Br.collection("prestamos").doc(e);if(!(await E.get()).exists){alert("El préstamo con el ID proporcionado no existe");return}if(!(await Br.collection("prestamos").where("nombre","==",n).where("apellido","==",i).get()).empty){alert("El usuario ya está registrado");return}try{await E.update({nombre:n,apellido:i,titulo:s,autor:a,editorial:c,año:h}),t(""),r(""),o(""),u(""),l(""),f(""),d(""),alert("Préstamo editado exitosamente"),window.location.reload()}catch(S){console.error(S),alert("Error al editar el préstamo")}};return w.jsxs("div",{className:"container",children:[w.jsx("h3",{className:"text-center my-4",children:"Editar préstamo"}),w.jsx("form",{onSubmit:v,className:"needs-validation",noValidate:!0,children:w.jsxs("div",{className:"row g-3",children:[w.jsxs("div",{className:"col-12",children:[w.jsx("label",{htmlFor:"id",className:"form-label",children:"ID de préstamo:"}),w.jsx("input",{type:"text",className:"form-control",id:"id",value:e,onChange:y=>t(y.target.value.trim()),required:!0})]}),w.jsxs("div",{className:"col-sm-6",children:[w.jsx("label",{htmlFor:"nombre",className:"form-label",children:"Nombre:"}),w.jsx("input",{type:"text",className:"form-control",id:"nombre",value:n,onChange:y=>r(y.target.value.trim()),required:!0})]}),w.jsxs("div",{className:"col-sm-6",children:[w.jsx("label",{htmlFor:"apellido",className:"form-label",children:"Apellido:"}),w.jsx("input",{type:"text",className:"form-control",id:"apellido",value:i,onChange:y=>o(y.target.value.trim()),required:!0})]}),w.jsxs("div",{className:"col-sm-6",children:[w.jsx("label",{htmlFor:"titulo",className:"form-label",children:"Título:"}),w.jsx("input",{type:"text",className:"form-control",id:"titulo",value:s,onChange:y=>u(y.target.value.trim()),required:!0})]}),w.jsxs("div",{className:"col-sm-6",children:[w.jsx("label",{htmlFor:"autor",className:"form-label",children:"Autor:"}),w.jsx("input",{type:"text",className:"form-control",id:"autor",value:a,onChange:y=>l(y.target.value.trim()),required:!0})]}),w.jsxs("div",{className:"col-sm-6",children:[w.jsx("label",{htmlFor:"editorial",className:"form-label",children:"Editorial:"}),w.jsx("input",{type:"text",className:"form-control",id:"editorial",value:c,onChange:y=>f(y.target.value.trim()),required:!0})]}),w.jsxs("div",{className:"col-sm-6",children:[w.jsx("label",{htmlFor:"año",className:"form-label",children:"Año:"}),w.jsx("input",{type:"number",className:"form-control",id:"año",value:h,onChange:y=>d(y.target.value),required:!0})]}),w.jsx("div",{className:"col-12",children:w.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:"Editar préstamo"})})]})})]})},JC=()=>w.jsxs("div",{children:[w.jsx(aE,{}),w.jsx(EE,{}),w.jsx(SE,{}),w.jsx(_E,{})]});function ZC(){const e="Guest",n="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEivXEXgJUr-WtHnzv75zCxrpUWsTNrmZJcN0MpZ986uqS3wZlPPJZYFmsjEYA6xAoiI9bhW1CphNgBby4tVBvBP-c7B3F8pGaDfwb7s8XiARWfMXBISr0frxhAvCl1edABPxGxs-nhT8oDU/s1600/banner-libros.jpg",r=["Crónica de una muerte anunciada, de Gabriel García Márquez","La odisea, de Homero"],i=["Don Quijote de la Mancha, de Miguel de Cervantes","Cien años de soledad, de Gabriel García Márquez","1984, de George Orwell","Orgullo y prejuicio, de Jane Austen","El principito, de Antoine de Saint-Exupéry","Matar a un ruiseñor, de Harper Lee","El Gran Gatsby, de F. Scott Fitzgerald","Crimen y castigo, de Fyodor Dostoevsky","El señor de los anillos, de J.R.R. Tolkien","Harry Potter y la piedra filosofal, de J.K. Rowling"];return w.jsxs(HC,{children:[" ",w.jsx("nav",{className:"navbar navbar-expand-md navbar-light bg-light",children:w.jsxs("div",{className:"container-fluid",children:[w.jsx(si,{to:"/",className:"navbar-brand",children:"Biblioteca"}),w.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:w.jsx("span",{className:"navbar-toggler-icon"})}),w.jsx("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:w.jsxs("ul",{className:"navbar-nav ms-auto mb-2 mb-lg-0",children:[w.jsx("li",{className:"nav-item",children:w.jsx(si,{to:"/",className:"nav-link",children:"Inicio"})}),w.jsx("li",{className:"nav-item",children:w.jsx(si,{to:"/quienessomos",className:"nav-link",children:"Quiénes Somos"})}),w.jsx("li",{className:"nav-item",children:w.jsx(si,{to:"/mensaje",className:"nav-link",children:"Mensaje"})}),w.jsx("li",{className:"nav-item",children:w.jsx(si,{to:"/todosprestamos",className:"nav-link",children:"Prestamos"})})]})})]})}),w.jsxs($C,{children:[" ",w.jsx(Ut,{path:"quienessomos/:id",element:w.jsx(XC,{})}),w.jsx(Ut,{path:"/",element:w.jsx(Qk,{})}),w.jsx(Ut,{path:"quienessomos",element:w.jsx(YC,{})}),w.jsx(Ut,{path:"mensaje",element:w.jsx(Gk,{userName:e,userId:3444334666,url:n,ULibrosPrestados:r,librosRecomendados:i})}),w.jsx(Ut,{path:"prestamo",element:w.jsx(aE,{})}),w.jsx(Ut,{path:"listarprestamos",element:w.jsx(EE,{})}),w.jsx(Ut,{path:"eliminarprestamos",element:w.jsx(SE,{})}),w.jsx(Ut,{path:"editarprestamos",element:w.jsx(_E,{})}),w.jsx(Ut,{path:"todosprestamos",element:w.jsx(JC,{})}),w.jsx(Ut,{path:"*",element:w.jsx(Z_,{})})]})]})}Rc.createRoot(document.getElementById("root")).render(w.jsx(Ho.StrictMode,{children:w.jsx(ZC,{})}));
